var _y=Object.defineProperty;var Cf=t=>{throw TypeError(t)};var Ny=(t,e,n)=>e in t?_y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Be=(t,e,n)=>Ny(t,typeof e!="symbol"?e+"":e,n),Mc=(t,e,n)=>e.has(t)||Cf("Cannot "+n);var E=(t,e,n)=>(Mc(t,e,"read from private field"),n?n.call(t):e.get(t)),re=(t,e,n)=>e.has(t)?Cf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),K=(t,e,n,r)=>(Mc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ue=(t,e,n)=>(Mc(t,e,"access private method"),n);var Co=(t,e,n,r)=>({set _(s){K(t,e,s,n)},get _(){return E(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function e1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t1={exports:{}},rc={},n1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),ky=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),jy=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Py=Symbol.for("react.context"),Ay=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Oy=Symbol.for("react.memo"),Ly=Symbol.for("react.lazy"),xf=Symbol.iterator;function My(t){return t===null||typeof t!="object"?null:(t=xf&&t[xf]||t["@@iterator"],typeof t=="function"?t:null)}var r1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s1=Object.assign,i1={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=i1,this.updater=n||r1}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a1(){}a1.prototype=Fi.prototype;function Yd(t,e,n){this.props=t,this.context=e,this.refs=i1,this.updater=n||r1}var Jd=Yd.prototype=new a1;Jd.constructor=Yd;s1(Jd,Fi.prototype);Jd.isPureReactComponent=!0;var _f=Array.isArray,o1=Object.prototype.hasOwnProperty,Xd={current:null},l1={key:!0,ref:!0,__self:!0,__source:!0};function c1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)o1.call(e,r)&&!l1.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:so,type:t,key:i,ref:o,props:s,_owner:Xd.current}}function Dy(t,e){return{$$typeof:so,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===so}function zy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nf=/\/+/g;function Dc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zy(""+t.key):e.toString(36)}function Qo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case so:case ky:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Dc(o,0):r,_f(s)?(n="",t!=null&&(n=t.replace(Nf,"$&/")+"/"),Qo(s,e,n,"",function(u){return u})):s!=null&&(Zd(s)&&(s=Dy(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_f(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Dc(i,l);o+=Qo(i,e,n,c,s)}else if(c=My(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Dc(i,l++),o+=Qo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xo(t,e,n){if(t==null)return t;var r=[],s=0;return Qo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Fy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},Go={transition:null},$y={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Go,ReactCurrentOwner:Xd};function u1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:xo,forEach:function(t,e,n){xo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xo(t,function(){e++}),e},toArray:function(t){return xo(t,function(e){return e})||[]},only:function(t){if(!Zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Fi;ye.Fragment=Iy;ye.Profiler=jy;ye.PureComponent=Yd;ye.StrictMode=by;ye.Suspense=Ry;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$y;ye.act=u1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=s1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Xd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)o1.call(e,c)&&!l1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:so,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:Py,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ty,_context:t},t.Consumer=t};ye.createElement=c1;ye.createFactory=function(t){var e=c1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:Ay,render:t}};ye.isValidElement=Zd;ye.lazy=function(t){return{$$typeof:Ly,_payload:{_status:-1,_result:t},_init:Fy}};ye.memo=function(t,e){return{$$typeof:Oy,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Go.transition;Go.transition={};try{t()}finally{Go.transition=e}};ye.unstable_act=u1;ye.useCallback=function(t,e){return It.current.useCallback(t,e)};ye.useContext=function(t){return It.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return It.current.useDeferredValue(t)};ye.useEffect=function(t,e){return It.current.useEffect(t,e)};ye.useId=function(){return It.current.useId()};ye.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return It.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};ye.useRef=function(t){return It.current.useRef(t)};ye.useState=function(t){return It.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return It.current.useTransition()};ye.version="18.3.1";n1.exports=ye;var m=n1.exports;const V=e1(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=m,By=Symbol.for("react.element"),Hy=Symbol.for("react.fragment"),Vy=Object.prototype.hasOwnProperty,Wy=Uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ky={key:!0,ref:!0,__self:!0,__source:!0};function d1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Vy.call(e,r)&&!Ky.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:By,type:t,key:i,ref:o,props:s,_owner:Wy.current}}rc.Fragment=Hy;rc.jsx=d1;rc.jsxs=d1;t1.exports=rc;var a=t1.exports,h1={exports:{}},Kt={},f1={exports:{}},p1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,M){var W=L.length;L.push(M);e:for(;0<W;){var Q=W-1>>>1,H=L[Q];if(0<s(H,M))L[Q]=M,L[W]=H,W=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var M=L[0],W=L.pop();if(W!==M){L[0]=W;e:for(var Q=0,H=L.length,ie=H>>>1;Q<ie;){var ae=2*(Q+1)-1,J=L[ae],fe=ae+1,ee=L[fe];if(0>s(J,W))fe<H&&0>s(ee,J)?(L[Q]=ee,L[fe]=W,Q=fe):(L[Q]=J,L[ae]=W,Q=ae);else if(fe<H&&0>s(ee,W))L[Q]=ee,L[fe]=W,Q=fe;else break e}}return M}function s(L,M){var W=L.sortIndex-M.sortIndex;return W!==0?W:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],p=1,f=null,d=3,h=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=L)r(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(u)}}function C(L){if(S=!1,v(L),!w)if(n(c)!==null)w=!0,Y(I);else{var M=n(u);M!==null&&F(C,M.startTime-L)}}function I(L,M){w=!1,S&&(S=!1,y(P),P=-1),h=!0;var W=d;try{for(v(M),f=n(c);f!==null&&(!(f.expirationTime>M)||L&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var H=Q(f.expirationTime<=M);M=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),v(M)}else r(c);f=n(c)}if(f!==null)var ie=!0;else{var ae=n(u);ae!==null&&F(C,ae.startTime-M),ie=!1}return ie}finally{f=null,d=W,h=!1}}var j=!1,_=null,P=-1,z=5,b=-1;function A(){return!(t.unstable_now()-b<z)}function R(){if(_!==null){var L=t.unstable_now();b=L;var M=!0;try{M=_(!0,L)}finally{M?x():(j=!1,_=null)}}else j=!1}var x;if(typeof g=="function")x=function(){g(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=R,x=function(){$.postMessage(null)}}else x=function(){k(R,0)};function Y(L){_=L,j||(j=!0,x())}function F(L,M){P=k(function(){L(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||h||(w=!0,Y(I))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var W=d;d=M;try{return L()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=d;d=L;try{return M()}finally{d=W}},t.unstable_scheduleCallback=function(L,M,W){var Q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Q+W:Q):W=Q,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,L={id:p++,callback:M,priorityLevel:L,startTime:W,expirationTime:H,sortIndex:-1},W>Q?(L.sortIndex=W,e(u,L),n(c)===null&&L===n(u)&&(S?(y(P),P=-1):S=!0,F(C,W-Q))):(L.sortIndex=H,e(c,L),w||h||(w=!0,Y(I))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var M=d;return function(){var W=d;d=M;try{return L.apply(this,arguments)}finally{d=W}}}})(p1);f1.exports=p1;var qy=f1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=m,Wt=qy;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m1=new Set,xa={};function Ms(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(xa[t]=e,t=0;t<e.length;t++)m1.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,Gy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kf={},If={};function Yy(t){return ku.call(If,t)?!0:ku.call(kf,t)?!1:Gy.test(t)?If[t]=!0:(kf[t]=!0,!1)}function Jy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xy(t,e,n,r){if(e===null||typeof e>"u"||Jy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var eh=/[\-:]([a-z])/g;function th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eh,th);ut[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eh,th);ut[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eh,th);ut[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function nh(t,e,n,r){var s=ut.hasOwnProperty(e)?ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xy(e,n,s,r)&&(n=null),r||s===null?Yy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_o=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),y1=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),v1=Symbol.for("react.offscreen"),bf=Symbol.iterator;function Vi(t){return t===null||typeof t!="object"?null:(t=bf&&t[bf]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,zc;function ta(t){if(zc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zc=e&&e[1]||""}return`
`+zc+t}var Fc=!1;function $c(t,e){if(!t||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ta(t):""}function Zy(t){switch(t.tag){case 5:return ta(t.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return t=$c(t.type,!1),t;case 11:return t=$c(t.type.render,!1),t;case 1:return t=$c(t.type,!0),t;default:return""}}function Tu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Hs:return"Portal";case Iu:return"Profiler";case rh:return"StrictMode";case bu:return"Suspense";case ju:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y1:return(t.displayName||"Context")+".Consumer";case g1:return(t._context.displayName||"Context")+".Provider";case sh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ih:return e=t.displayName||null,e!==null?e:Tu(t.type)||"Memo";case vr:e=t._payload,t=t._init;try{return Tu(t(e))}catch{}}return null}function ev(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(e);case 8:return e===rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tv(t){var e=w1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function No(t){t._valueTracker||(t._valueTracker=tv(t))}function S1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=w1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pu(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E1(t,e){e=e.checked,e!=null&&nh(t,"checked",e,!1)}function Au(t,e){E1(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ru(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ru(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ru(t,e,n){(e!=="number"||ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var na=Array.isArray;function ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ou(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(na(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function C1(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Af(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ko,_1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nv=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(t){nv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ua[e]=ua[t]})});function N1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ua.hasOwnProperty(t)&&ua[t]?(""+e).trim():e+"px"}function k1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=N1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rv=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mu(t,e){if(e){if(rv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Du(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function ah(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fu=null,ri=null,si=null;function Rf(t){if(t=oo(t)){if(typeof Fu!="function")throw Error(B(280));var e=t.stateNode;e&&(e=lc(e),Fu(t.stateNode,t.type,e))}}function I1(t){ri?si?si.push(t):si=[t]:ri=t}function b1(){if(ri){var t=ri,e=si;if(si=ri=null,Rf(t),e)for(t=0;t<e.length;t++)Rf(e[t])}}function j1(t,e){return t(e)}function T1(){}var Uc=!1;function P1(t,e,n){if(Uc)return t(e,n);Uc=!0;try{return j1(t,e,n)}finally{Uc=!1,(ri!==null||si!==null)&&(T1(),b1())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var r=lc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var $u=!1;if(sr)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){$u=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{$u=!1}function sv(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var da=!1,gl=null,yl=!1,Uu=null,iv={onError:function(t){da=!0,gl=t}};function av(t,e,n,r,s,i,o,l,c){da=!1,gl=null,sv.apply(iv,arguments)}function ov(t,e,n,r,s,i,o,l,c){if(av.apply(this,arguments),da){if(da){var u=gl;da=!1,gl=null}else throw Error(B(198));yl||(yl=!0,Uu=u)}}function Ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Of(t){if(Ds(t)!==t)throw Error(B(188))}function lv(t){var e=t.alternate;if(!e){if(e=Ds(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Of(s),t;if(i===r)return Of(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function R1(t){return t=lv(t),t!==null?O1(t):null}function O1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O1(t);if(e!==null)return e;t=t.sibling}return null}var L1=Wt.unstable_scheduleCallback,Lf=Wt.unstable_cancelCallback,cv=Wt.unstable_shouldYield,uv=Wt.unstable_requestPaint,Ye=Wt.unstable_now,dv=Wt.unstable_getCurrentPriorityLevel,oh=Wt.unstable_ImmediatePriority,M1=Wt.unstable_UserBlockingPriority,vl=Wt.unstable_NormalPriority,hv=Wt.unstable_LowPriority,D1=Wt.unstable_IdlePriority,sc=null,Ln=null;function fv(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(sc,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:gv,pv=Math.log,mv=Math.LN2;function gv(t){return t>>>=0,t===0?32:31-(pv(t)/mv|0)|0}var Io=64,bo=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ra(l):(i&=o,i!==0&&(r=ra(i)))}else o=n&~s,o!==0?r=ra(o):i!==0&&(r=ra(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),s=1<<n,r|=t[n],e&=~s;return r}function yv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Cn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=yv(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z1(){var t=Io;return Io<<=1,!(Io&4194240)&&(Io=64),t}function Bc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function io(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function wv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Cn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function F1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $1,ch,U1,B1,H1,Hu=!1,jo=[],zr=null,Fr=null,$r=null,ka=new Map,Ia=new Map,Sr=[],Sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mf(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function Ki(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=oo(e),e!==null&&ch(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ev(t,e,n,r,s){switch(e){case"focusin":return zr=Ki(zr,t,e,n,r,s),!0;case"dragenter":return Fr=Ki(Fr,t,e,n,r,s),!0;case"mouseover":return $r=Ki($r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ka.set(i,Ki(ka.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ia.set(i,Ki(Ia.get(i)||null,t,e,n,r,s)),!0}return!1}function V1(t){var e=cs(t.target);if(e!==null){var n=Ds(e);if(n!==null){if(e=n.tag,e===13){if(e=A1(n),e!==null){t.blockedOn=e,H1(t.priority,function(){U1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zu=r,n.target.dispatchEvent(r),zu=null}else return e=oo(n),e!==null&&ch(e),t.blockedOn=n,!1;e.shift()}return!0}function Df(t,e,n){Yo(t)&&n.delete(e)}function Cv(){Hu=!1,zr!==null&&Yo(zr)&&(zr=null),Fr!==null&&Yo(Fr)&&(Fr=null),$r!==null&&Yo($r)&&($r=null),ka.forEach(Df),Ia.forEach(Df)}function qi(t,e){t.blockedOn===e&&(t.blockedOn=null,Hu||(Hu=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,Cv)))}function ba(t){function e(s){return qi(s,t)}if(0<jo.length){qi(jo[0],t);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zr!==null&&qi(zr,t),Fr!==null&&qi(Fr,t),$r!==null&&qi($r,t),ka.forEach(e),Ia.forEach(e),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)V1(n),n.blockedOn===null&&Sr.shift()}var ii=ur.ReactCurrentBatchConfig,Sl=!0;function xv(t,e,n,r){var s=ke,i=ii.transition;ii.transition=null;try{ke=1,uh(t,e,n,r)}finally{ke=s,ii.transition=i}}function _v(t,e,n,r){var s=ke,i=ii.transition;ii.transition=null;try{ke=4,uh(t,e,n,r)}finally{ke=s,ii.transition=i}}function uh(t,e,n,r){if(Sl){var s=Vu(t,e,n,r);if(s===null)Xc(t,e,r,El,n),Mf(t,r);else if(Ev(s,t,e,n,r))r.stopPropagation();else if(Mf(t,r),e&4&&-1<Sv.indexOf(t)){for(;s!==null;){var i=oo(s);if(i!==null&&$1(i),i=Vu(t,e,n,r),i===null&&Xc(t,e,r,El,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Xc(t,e,r,null,n)}}var El=null;function Vu(t,e,n,r){if(El=null,t=ah(r),t=cs(t),t!==null)if(e=Ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return El=t,null}function W1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dv()){case oh:return 1;case M1:return 4;case vl:case hv:return 16;case D1:return 536870912;default:return 16}default:return 16}}var Lr=null,dh=null,Jo=null;function K1(){if(Jo)return Jo;var t,e=dh,n=e.length,r,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Jo=s.slice(t,1<r?1-r:void 0)}function Xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function To(){return!0}function zf(){return!1}function qt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?To:zf,this.isPropagationStopped=zf,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),e}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=qt($i),ao=We({},$i,{view:0,detail:0}),Nv=qt(ao),Hc,Vc,Qi,ic=We({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Hc=t.screenX-Qi.screenX,Vc=t.screenY-Qi.screenY):Vc=Hc=0,Qi=t),Hc)},movementY:function(t){return"movementY"in t?t.movementY:Vc}}),Ff=qt(ic),kv=We({},ic,{dataTransfer:0}),Iv=qt(kv),bv=We({},ao,{relatedTarget:0}),Wc=qt(bv),jv=We({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Tv=qt(jv),Pv=We({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Av=qt(Pv),Rv=We({},$i,{data:0}),$f=qt(Rv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mv[t])?!!e[t]:!1}function fh(){return Dv}var zv=We({},ao,{key:function(t){if(t.key){var e=Ov[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(t){return t.type==="keypress"?Xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fv=qt(zv),$v=We({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=qt($v),Uv=We({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),Bv=qt(Uv),Hv=We({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vv=qt(Hv),Wv=We({},ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kv=qt(Wv),qv=[9,13,27,32],ph=sr&&"CompositionEvent"in window,ha=null;sr&&"documentMode"in document&&(ha=document.documentMode);var Qv=sr&&"TextEvent"in window&&!ha,q1=sr&&(!ph||ha&&8<ha&&11>=ha),Bf=" ",Hf=!1;function Q1(t,e){switch(t){case"keyup":return qv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function Gv(t,e){switch(t){case"compositionend":return G1(e);case"keypress":return e.which!==32?null:(Hf=!0,Bf);case"textInput":return t=e.data,t===Bf&&Hf?null:t;default:return null}}function Yv(t,e){if(Ws)return t==="compositionend"||!ph&&Q1(t,e)?(t=K1(),Jo=dh=Lr=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q1&&e.locale!=="ko"?null:e.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jv[t.type]:e==="textarea"}function Y1(t,e,n,r){I1(r),e=Cl(e,"onChange"),0<e.length&&(n=new hh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fa=null,ja=null;function Xv(t){o0(t,0)}function ac(t){var e=Qs(t);if(S1(e))return t}function Zv(t,e){if(t==="change")return e}var J1=!1;if(sr){var Kc;if(sr){var qc="oninput"in document;if(!qc){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),qc=typeof Wf.oninput=="function"}Kc=qc}else Kc=!1;J1=Kc&&(!document.documentMode||9<document.documentMode)}function Kf(){fa&&(fa.detachEvent("onpropertychange",X1),ja=fa=null)}function X1(t){if(t.propertyName==="value"&&ac(ja)){var e=[];Y1(e,ja,t,ah(t)),P1(Xv,e)}}function e4(t,e,n){t==="focusin"?(Kf(),fa=e,ja=n,fa.attachEvent("onpropertychange",X1)):t==="focusout"&&Kf()}function t4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ja)}function n4(t,e){if(t==="click")return ac(e)}function r4(t,e){if(t==="input"||t==="change")return ac(e)}function s4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:s4;function Ta(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ku.call(e,s)||!Nn(t[s],e[s]))return!1}return!0}function qf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qf(t,e){var n=qf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qf(n)}}function Z1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e0(){for(var t=window,e=ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ml(t.document)}return e}function mh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i4(t){var e=e0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Z1(n.ownerDocument.documentElement,n)){if(r!==null&&mh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Qf(n,i);var o=Qf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a4=sr&&"documentMode"in document&&11>=document.documentMode,Ks=null,Wu=null,pa=null,Ku=!1;function Gf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ku||Ks==null||Ks!==ml(r)||(r=Ks,"selectionStart"in r&&mh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pa&&Ta(pa,r)||(pa=r,r=Cl(Wu,"onSelect"),0<r.length&&(e=new hh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ks)))}function Po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qs={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Qc={},t0={};sr&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function oc(t){if(Qc[t])return Qc[t];if(!qs[t])return t;var e=qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t0)return Qc[t]=e[n];return t}var n0=oc("animationend"),r0=oc("animationiteration"),s0=oc("animationstart"),i0=oc("transitionend"),a0=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){a0.set(t,e),Ms(e,[t])}for(var Gc=0;Gc<Yf.length;Gc++){var Yc=Yf[Gc],o4=Yc.toLowerCase(),l4=Yc[0].toUpperCase()+Yc.slice(1);ts(o4,"on"+l4)}ts(n0,"onAnimationEnd");ts(r0,"onAnimationIteration");ts(s0,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(i0,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c4=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Jf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ov(r,e,void 0,t),t.currentTarget=null}function o0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Jf(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Jf(s,l,u),i=c}}}if(yl)throw t=Uu,yl=!1,Uu=null,t}function Re(t,e){var n=e[Ju];n===void 0&&(n=e[Ju]=new Set);var r=t+"__bubble";n.has(r)||(l0(e,t,2,!1),n.add(r))}function Jc(t,e,n){var r=0;e&&(r|=4),l0(n,t,r,e)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Ao]){t[Ao]=!0,m1.forEach(function(n){n!=="selectionchange"&&(c4.has(n)||Jc(n,!1,t),Jc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ao]||(e[Ao]=!0,Jc("selectionchange",!1,e))}}function l0(t,e,n,r){switch(W1(e)){case 1:var s=xv;break;case 4:s=_v;break;default:s=uh}n=s.bind(null,e,n,t),s=void 0,!$u||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Xc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=cs(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}P1(function(){var u=i,p=ah(n),f=[];e:{var d=a0.get(t);if(d!==void 0){var h=hh,w=t;switch(t){case"keypress":if(Xo(n)===0)break e;case"keydown":case"keyup":h=Fv;break;case"focusin":w="focus",h=Wc;break;case"focusout":w="blur",h=Wc;break;case"beforeblur":case"afterblur":h=Wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Bv;break;case n0:case r0:case s0:h=Tv;break;case i0:h=Vv;break;case"scroll":h=Nv;break;case"wheel":h=Kv;break;case"copy":case"cut":case"paste":h=Av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Uf}var S=(e&4)!==0,k=!S&&t==="scroll",y=S?d!==null?d+"Capture":null:d;S=[];for(var g=u,v;g!==null;){v=g;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,y!==null&&(C=Na(g,y),C!=null&&S.push(Aa(g,C,v)))),k)break;g=g.return}0<S.length&&(d=new h(d,w,null,n,p),f.push({event:d,listeners:S}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==zu&&(w=n.relatedTarget||n.fromElement)&&(cs(w)||w[ir]))break e;if((h||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?cs(w):null,w!==null&&(k=Ds(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(S=Ff,C="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=Uf,C="onPointerLeave",y="onPointerEnter",g="pointer"),k=h==null?d:Qs(h),v=w==null?d:Qs(w),d=new S(C,g+"leave",h,n,p),d.target=k,d.relatedTarget=v,C=null,cs(p)===u&&(S=new S(y,g+"enter",w,n,p),S.target=v,S.relatedTarget=k,C=S),k=C,h&&w)t:{for(S=h,y=w,g=0,v=S;v;v=Us(v))g++;for(v=0,C=y;C;C=Us(C))v++;for(;0<g-v;)S=Us(S),g--;for(;0<v-g;)y=Us(y),v--;for(;g--;){if(S===y||y!==null&&S===y.alternate)break t;S=Us(S),y=Us(y)}S=null}else S=null;h!==null&&Xf(f,d,h,S,!1),w!==null&&k!==null&&Xf(f,k,w,S,!0)}}e:{if(d=u?Qs(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=Zv;else if(Vf(d))if(J1)I=r4;else{I=t4;var j=e4}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=n4);if(I&&(I=I(t,u))){Y1(f,I,n,p);break e}j&&j(t,d,u),t==="focusout"&&(j=d._wrapperState)&&j.controlled&&d.type==="number"&&Ru(d,"number",d.value)}switch(j=u?Qs(u):window,t){case"focusin":(Vf(j)||j.contentEditable==="true")&&(Ks=j,Wu=u,pa=null);break;case"focusout":pa=Wu=Ks=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Gf(f,n,p);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":Gf(f,n,p)}var _;if(ph)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ws?Q1(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(q1&&n.locale!=="ko"&&(Ws||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ws&&(_=K1()):(Lr=p,dh="value"in Lr?Lr.value:Lr.textContent,Ws=!0)),j=Cl(u,P),0<j.length&&(P=new $f(P,t,null,n,p),f.push({event:P,listeners:j}),_?P.data=_:(_=G1(n),_!==null&&(P.data=_)))),(_=Qv?Gv(t,n):Yv(t,n))&&(u=Cl(u,"onBeforeInput"),0<u.length&&(p=new $f("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=_))}o0(f,e)})}function Aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Na(t,n),i!=null&&r.unshift(Aa(t,i,s)),i=Na(t,e),i!=null&&r.push(Aa(t,i,s))),t=t.return}return r}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Na(n,i),c!=null&&o.unshift(Aa(n,c,l))):s||(c=Na(n,i),c!=null&&o.push(Aa(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var u4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function Zf(t){return(typeof t=="string"?t:""+t).replace(u4,`
`).replace(d4,"")}function Ro(t,e,n){if(e=Zf(e),Zf(t)!==e&&n)throw Error(B(425))}function xl(){}var qu=null,Qu=null;function Gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,f4=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(t){return ep.resolve(null).then(t).catch(p4)}:Yu;function p4(t){setTimeout(function(){throw t})}function Zc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ba(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),On="__reactFiber$"+Ui,Ra="__reactProps$"+Ui,ir="__reactContainer$"+Ui,Ju="__reactEvents$"+Ui,m4="__reactListeners$"+Ui,g4="__reactHandles$"+Ui;function cs(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tp(t);t!==null;){if(n=t[On])return n;t=tp(t)}return e}t=n,n=t.parentNode}return null}function oo(t){return t=t[On]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function lc(t){return t[Ra]||null}var Xu=[],Gs=-1;function ns(t){return{current:t}}function Oe(t){0>Gs||(t.current=Xu[Gs],Xu[Gs]=null,Gs--)}function Te(t,e){Gs++,Xu[Gs]=t.current,t.current=e}var Zr={},yt=ns(Zr),zt=ns(!1),Ns=Zr;function ki(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(t){return t=t.childContextTypes,t!=null}function _l(){Oe(zt),Oe(yt)}function np(t,e,n){if(yt.current!==Zr)throw Error(B(168));Te(yt,e),Te(zt,n)}function c0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,ev(t)||"Unknown",s));return We({},n,r)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,Ns=yt.current,Te(yt,t),Te(zt,zt.current),!0}function rp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=c0(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,Oe(zt),Oe(yt),Te(yt,t)):Oe(zt),Te(zt,n)}var Vn=null,cc=!1,eu=!1;function u0(t){Vn===null?Vn=[t]:Vn.push(t)}function y4(t){cc=!0,u0(t)}function rs(){if(!eu&&Vn!==null){eu=!0;var t=0,e=ke;try{var n=Vn;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vn=null,cc=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(t+1)),L1(oh,rs),s}finally{ke=e,eu=!1}}return null}var Ys=[],Js=0,kl=null,Il=0,Xt=[],Zt=0,ks=null,Yn=1,Jn="";function as(t,e){Ys[Js++]=Il,Ys[Js++]=kl,kl=t,Il=e}function d0(t,e,n){Xt[Zt++]=Yn,Xt[Zt++]=Jn,Xt[Zt++]=ks,ks=t;var r=Yn;t=Jn;var s=32-Cn(r)-1;r&=~(1<<s),n+=1;var i=32-Cn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yn=1<<32-Cn(e)+s|n<<s|r,Jn=i+t}else Yn=1<<i|n<<s|r,Jn=t}function gh(t){t.return!==null&&(as(t,1),d0(t,1,0))}function yh(t){for(;t===kl;)kl=Ys[--Js],Ys[Js]=null,Il=Ys[--Js],Ys[Js]=null;for(;t===ks;)ks=Xt[--Zt],Xt[Zt]=null,Jn=Xt[--Zt],Xt[Zt]=null,Yn=Xt[--Zt],Xt[Zt]=null}var Vt=null,Ht=null,ze=!1,Sn=null;function h0(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Ht=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:Yn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Ht=null,!0):!1;default:return!1}}function Zu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ed(t){if(ze){var e=Ht;if(e){var n=e;if(!sp(t,e)){if(Zu(t))throw Error(B(418));e=Ur(n.nextSibling);var r=Vt;e&&sp(t,e)?h0(r,n):(t.flags=t.flags&-4097|2,ze=!1,Vt=t)}}else{if(Zu(t))throw Error(B(418));t.flags=t.flags&-4097|2,ze=!1,Vt=t}}}function ip(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Oo(t){if(t!==Vt)return!1;if(!ze)return ip(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gu(t.type,t.memoizedProps)),e&&(e=Ht)){if(Zu(t))throw f0(),Error(B(418));for(;e;)h0(t,e),e=Ur(e.nextSibling)}if(ip(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Vt?Ur(t.stateNode.nextSibling):null;return!0}function f0(){for(var t=Ht;t;)t=Ur(t.nextSibling)}function Ii(){Ht=Vt=null,ze=!1}function vh(t){Sn===null?Sn=[t]:Sn.push(t)}var v4=ur.ReactCurrentBatchConfig;function Gi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Lo(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ap(t){var e=t._init;return e(t._payload)}function p0(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Wr(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,C){return g===null||g.tag!==6?(g=ou(v,y.mode,C),g.return=y,g):(g=s(g,v),g.return=y,g)}function c(y,g,v,C){var I=v.type;return I===Vs?p(y,g,v.props.children,C,v.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===vr&&ap(I)===g.type)?(C=s(g,v.props),C.ref=Gi(y,g,v),C.return=y,C):(C=il(v.type,v.key,v.props,null,y.mode,C),C.ref=Gi(y,g,v),C.return=y,C)}function u(y,g,v,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=lu(v,y.mode,C),g.return=y,g):(g=s(g,v.children||[]),g.return=y,g)}function p(y,g,v,C,I){return g===null||g.tag!==7?(g=_s(v,y.mode,C,I),g.return=y,g):(g=s(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ou(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _o:return v=il(g.type,g.key,g.props,null,y.mode,v),v.ref=Gi(y,null,g),v.return=y,v;case Hs:return g=lu(g,y.mode,v),g.return=y,g;case vr:var C=g._init;return f(y,C(g._payload),v)}if(na(g)||Vi(g))return g=_s(g,y.mode,v,null),g.return=y,g;Lo(y,g)}return null}function d(y,g,v,C){var I=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:l(y,g,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _o:return v.key===I?c(y,g,v,C):null;case Hs:return v.key===I?u(y,g,v,C):null;case vr:return I=v._init,d(y,g,I(v._payload),C)}if(na(v)||Vi(v))return I!==null?null:p(y,g,v,C,null);Lo(y,v)}return null}function h(y,g,v,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(v)||null,l(g,y,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _o:return y=y.get(C.key===null?v:C.key)||null,c(g,y,C,I);case Hs:return y=y.get(C.key===null?v:C.key)||null,u(g,y,C,I);case vr:var j=C._init;return h(y,g,v,j(C._payload),I)}if(na(C)||Vi(C))return y=y.get(v)||null,p(g,y,C,I,null);Lo(g,C)}return null}function w(y,g,v,C){for(var I=null,j=null,_=g,P=g=0,z=null;_!==null&&P<v.length;P++){_.index>P?(z=_,_=null):z=_.sibling;var b=d(y,_,v[P],C);if(b===null){_===null&&(_=z);break}t&&_&&b.alternate===null&&e(y,_),g=i(b,g,P),j===null?I=b:j.sibling=b,j=b,_=z}if(P===v.length)return n(y,_),ze&&as(y,P),I;if(_===null){for(;P<v.length;P++)_=f(y,v[P],C),_!==null&&(g=i(_,g,P),j===null?I=_:j.sibling=_,j=_);return ze&&as(y,P),I}for(_=r(y,_);P<v.length;P++)z=h(_,y,P,v[P],C),z!==null&&(t&&z.alternate!==null&&_.delete(z.key===null?P:z.key),g=i(z,g,P),j===null?I=z:j.sibling=z,j=z);return t&&_.forEach(function(A){return e(y,A)}),ze&&as(y,P),I}function S(y,g,v,C){var I=Vi(v);if(typeof I!="function")throw Error(B(150));if(v=I.call(v),v==null)throw Error(B(151));for(var j=I=null,_=g,P=g=0,z=null,b=v.next();_!==null&&!b.done;P++,b=v.next()){_.index>P?(z=_,_=null):z=_.sibling;var A=d(y,_,b.value,C);if(A===null){_===null&&(_=z);break}t&&_&&A.alternate===null&&e(y,_),g=i(A,g,P),j===null?I=A:j.sibling=A,j=A,_=z}if(b.done)return n(y,_),ze&&as(y,P),I;if(_===null){for(;!b.done;P++,b=v.next())b=f(y,b.value,C),b!==null&&(g=i(b,g,P),j===null?I=b:j.sibling=b,j=b);return ze&&as(y,P),I}for(_=r(y,_);!b.done;P++,b=v.next())b=h(_,y,P,b.value,C),b!==null&&(t&&b.alternate!==null&&_.delete(b.key===null?P:b.key),g=i(b,g,P),j===null?I=b:j.sibling=b,j=b);return t&&_.forEach(function(R){return e(y,R)}),ze&&as(y,P),I}function k(y,g,v,C){if(typeof v=="object"&&v!==null&&v.type===Vs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case _o:e:{for(var I=v.key,j=g;j!==null;){if(j.key===I){if(I=v.type,I===Vs){if(j.tag===7){n(y,j.sibling),g=s(j,v.props.children),g.return=y,y=g;break e}}else if(j.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===vr&&ap(I)===j.type){n(y,j.sibling),g=s(j,v.props),g.ref=Gi(y,j,v),g.return=y,y=g;break e}n(y,j);break}else e(y,j);j=j.sibling}v.type===Vs?(g=_s(v.props.children,y.mode,C,v.key),g.return=y,y=g):(C=il(v.type,v.key,v.props,null,y.mode,C),C.ref=Gi(y,g,v),C.return=y,y=C)}return o(y);case Hs:e:{for(j=v.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=s(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=lu(v,y.mode,C),g.return=y,y=g}return o(y);case vr:return j=v._init,k(y,g,j(v._payload),C)}if(na(v))return w(y,g,v,C);if(Vi(v))return S(y,g,v,C);Lo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,v),g.return=y,y=g):(n(y,g),g=ou(v,y.mode,C),g.return=y,y=g),o(y)):n(y,g)}return k}var bi=p0(!0),m0=p0(!1),bl=ns(null),jl=null,Xs=null,wh=null;function Sh(){wh=Xs=jl=null}function Eh(t){var e=bl.current;Oe(bl),t._currentValue=e}function td(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ai(t,e){jl=t,wh=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(wh!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(jl===null)throw Error(B(308));Xs=t,jl.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var us=null;function Ch(t){us===null?us=[t]:us.push(t)}function g0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ch(e)):(n.next=s.next,s.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ar(t,n)}return s=r.interleaved,s===null?(e.next=e,Ch(r)):(e.next=s.next,s.next=e),r.interleaved=e,ar(t,n)}function Zo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}function op(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tl(t,e,n,r){var s=t.updateQueue;wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,p=u=c=null,l=i;do{var d=l.lane,h=l.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,S=l;switch(d=e,h=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){f=w.call(h,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,d=typeof w=="function"?w.call(h,f,d):w,d==null)break e;f=We({},f,d);break e;case 2:wr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=h,c=f):p=p.next=h,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(p===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bs|=o,t.lanes=o,t.memoizedState=f}}function lp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var lo={},Mn=ns(lo),Oa=ns(lo),La=ns(lo);function ds(t){if(t===lo)throw Error(B(174));return t}function _h(t,e){switch(Te(La,e),Te(Oa,t),Te(Mn,lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lu(e,t)}Oe(Mn),Te(Mn,e)}function ji(){Oe(Mn),Oe(Oa),Oe(La)}function v0(t){ds(La.current);var e=ds(Mn.current),n=Lu(e,t.type);e!==n&&(Te(Oa,t),Te(Mn,n))}function Nh(t){Oa.current===t&&(Oe(Mn),Oe(Oa))}var He=ns(0);function Pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tu=[];function kh(){for(var t=0;t<tu.length;t++)tu[t]._workInProgressVersionPrimary=null;tu.length=0}var el=ur.ReactCurrentDispatcher,nu=ur.ReactCurrentBatchConfig,Is=0,Ve=null,et=null,st=null,Al=!1,ma=!1,Ma=0,w4=0;function ft(){throw Error(B(321))}function Ih(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function bh(t,e,n,r,s,i){if(Is=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,el.current=t===null||t.memoizedState===null?x4:_4,t=n(r,s),ma){i=0;do{if(ma=!1,Ma=0,25<=i)throw Error(B(301));i+=1,st=et=null,e.updateQueue=null,el.current=N4,t=n(r,s)}while(ma)}if(el.current=Rl,e=et!==null&&et.next!==null,Is=0,st=et=Ve=null,Al=!1,e)throw Error(B(300));return t}function jh(){var t=Ma!==0;return Ma=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ve.memoizedState=st=t:st=st.next=t,st}function sn(){if(et===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=st===null?Ve.memoizedState:st.next;if(e!==null)st=e,et=t;else{if(t===null)throw Error(B(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?Ve.memoizedState=st=t:st=st.next=t}return st}function Da(t,e){return typeof e=="function"?e(t):e}function ru(t){var e=sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var p=u.lane;if((Is&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ve.lanes|=p,bs|=p}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Nn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,bs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function su(t){var e=sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nn(i,e.memoizedState)||(Dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function w0(){}function S0(t,e){var n=Ve,r=sn(),s=e(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,Dt=!0),r=r.queue,Th(x0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,za(9,C0.bind(null,n,r,s,e),void 0,null),it===null)throw Error(B(349));Is&30||E0(n,e,s)}return s}function E0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C0(t,e,n,r){e.value=n,e.getSnapshot=r,_0(e)&&N0(t)}function x0(t,e,n){return n(function(){_0(e)&&N0(t)})}function _0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function N0(t){var e=ar(t,1);e!==null&&xn(e,t,1,-1)}function cp(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=C4.bind(null,Ve,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function k0(){return sn().memoizedState}function tl(t,e,n,r){var s=jn();Ve.flags|=t,s.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function uc(t,e,n,r){var s=sn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&Ih(r,o.deps)){s.memoizedState=za(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=za(1|e,n,i,r)}function up(t,e){return tl(8390656,8,t,e)}function Th(t,e){return uc(2048,8,t,e)}function I0(t,e){return uc(4,2,t,e)}function b0(t,e){return uc(4,4,t,e)}function j0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T0(t,e,n){return n=n!=null?n.concat([t]):null,uc(4,4,j0.bind(null,e,t),n)}function Ph(){}function P0(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function A0(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function R0(t,e,n){return Is&21?(Nn(n,e)||(n=z1(),Ve.lanes|=n,bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function S4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=nu.transition;nu.transition={};try{t(!1),e()}finally{ke=n,nu.transition=r}}function O0(){return sn().memoizedState}function E4(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L0(t))M0(e,n);else if(n=g0(t,e,n,r),n!==null){var s=Nt();xn(n,t,r,s),D0(n,e,r)}}function C4(t,e,n){var r=Vr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L0(t))M0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Nn(l,o)){var c=e.interleaved;c===null?(s.next=s,Ch(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=g0(t,e,s,r),n!==null&&(s=Nt(),xn(n,t,r,s),D0(n,e,r))}}function L0(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function M0(t,e){ma=Al=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}var Rl={readContext:rn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},x4={readContext:rn,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:up,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tl(4194308,4,j0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tl(4194308,4,t,e)},useInsertionEffect:function(t,e){return tl(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E4.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:cp,useDebugValue:Ph,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=cp(!1),e=t[0];return t=S4.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=jn();if(ze){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),it===null)throw Error(B(349));Is&30||E0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,up(x0.bind(null,r,i,t),[t]),r.flags|=2048,za(9,C0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=jn(),e=it.identifierPrefix;if(ze){var n=Jn,r=Yn;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_4={readContext:rn,useCallback:P0,useContext:rn,useEffect:Th,useImperativeHandle:T0,useInsertionEffect:I0,useLayoutEffect:b0,useMemo:A0,useReducer:ru,useRef:k0,useState:function(){return ru(Da)},useDebugValue:Ph,useDeferredValue:function(t){var e=sn();return R0(e,et.memoizedState,t)},useTransition:function(){var t=ru(Da)[0],e=sn().memoizedState;return[t,e]},useMutableSource:w0,useSyncExternalStore:S0,useId:O0,unstable_isNewReconciler:!1},N4={readContext:rn,useCallback:P0,useContext:rn,useEffect:Th,useImperativeHandle:T0,useInsertionEffect:I0,useLayoutEffect:b0,useMemo:A0,useReducer:su,useRef:k0,useState:function(){return su(Da)},useDebugValue:Ph,useDeferredValue:function(t){var e=sn();return et===null?e.memoizedState=t:R0(e,et.memoizedState,t)},useTransition:function(){var t=su(Da)[0],e=sn().memoizedState;return[t,e]},useMutableSource:w0,useSyncExternalStore:S0,useId:O0,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dc={isMounted:function(t){return(t=t._reactInternals)?Ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Vr(t),i=er(r,s);i.payload=e,n!=null&&(i.callback=n),e=Br(t,i,s),e!==null&&(xn(e,t,s,r),Zo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Vr(t),i=er(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Br(t,i,s),e!==null&&(xn(e,t,s,r),Zo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=Vr(t),s=er(n,r);s.tag=2,e!=null&&(s.callback=e),e=Br(t,s,r),e!==null&&(xn(e,t,r,n),Zo(e,t,r))}};function dp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ta(n,r)||!Ta(s,i):!0}function z0(t,e,n){var r=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=rn(i):(s=Ft(e)?Ns:yt.current,r=e.contextTypes,i=(r=r!=null)?ki(t,s):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dc.enqueueReplaceState(e,e.state,null)}function rd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rn(i):(i=Ft(e)?Ns:yt.current,s.context=ki(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(nd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dc.enqueueReplaceState(s,s.state,null),Tl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,e){try{var n="",r=e;do n+=Zy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function iu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k4=typeof WeakMap=="function"?WeakMap:Map;function F0(t,e,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ll||(Ll=!0,pd=r),sd(t,e)},n}function $0(t,e,n){n=er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sd(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$4.bind(null,t,e,n),e.then(t,t))}function pp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=er(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var I4=ur.ReactCurrentOwner,Dt=!1;function xt(t,e,n,r){e.child=t===null?m0(e,null,n,r):bi(e,t.child,n,r)}function gp(t,e,n,r,s){n=n.render;var i=e.ref;return ai(e,s),r=bh(t,e,n,r,i,s),n=jh(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,or(t,e,s)):(ze&&n&&gh(e),e.flags|=1,xt(t,e,r,s),e.child)}function yp(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,U0(t,e,i,r,s)):(t=il(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ta,n(o,r)&&t.ref===e.ref)return or(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function U0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ta(i,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,or(t,e,s)}return id(t,e,n,r,s)}function B0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ei,Ut),Ut|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(ei,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(ei,Ut),Ut|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(ei,Ut),Ut|=r;return xt(t,e,s,n),e.child}function H0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function id(t,e,n,r,s){var i=Ft(n)?Ns:yt.current;return i=ki(e,i),ai(e,s),n=bh(t,e,n,r,i,s),r=jh(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,or(t,e,s)):(ze&&r&&gh(e),e.flags|=1,xt(t,e,n,s),e.child)}function vp(t,e,n,r,s){if(Ft(n)){var i=!0;Nl(e)}else i=!1;if(ai(e,s),e.stateNode===null)nl(t,e),z0(e,n,r),rd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Ft(n)?Ns:yt.current,u=ki(e,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&hp(e,o,r,u),wr=!1;var d=e.memoizedState;o.state=d,Tl(e,r,o,s),c=e.memoizedState,l!==r||d!==c||zt.current||wr?(typeof p=="function"&&(nd(e,n,p,r),c=e.memoizedState),(l=wr||dp(e,n,l,r,d,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,y0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:mn(e.type,l),o.props=u,f=e.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=Ft(n)?Ns:yt.current,c=ki(e,c));var h=n.getDerivedStateFromProps;(p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==c)&&hp(e,o,r,c),wr=!1,d=e.memoizedState,o.state=d,Tl(e,r,o,s);var w=e.memoizedState;l!==f||d!==w||zt.current||wr?(typeof h=="function"&&(nd(e,n,h,r),w=e.memoizedState),(u=wr||dp(e,n,u,r,d,w,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return ad(t,e,n,r,i,s)}function ad(t,e,n,r,s,i){H0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rp(e,n,!1),or(t,e,i);r=e.stateNode,I4.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bi(e,t.child,null,i),e.child=bi(e,null,l,i)):xt(t,e,l,i),e.memoizedState=r.state,s&&rp(e,n,!0),e.child}function V0(t){var e=t.stateNode;e.pendingContext?np(t,e.pendingContext,e.pendingContext!==e.context):e.context&&np(t,e.context,!1),_h(t,e.containerInfo)}function wp(t,e,n,r,s){return Ii(),vh(s),e.flags|=256,xt(t,e,n,r),e.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ld(t){return{baseLanes:t,cachePool:null,transitions:null}}function W0(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(He,s&1),t===null)return ed(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pc(o,r,0,null),t=_s(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ld(n),e.memoizedState=od,t):Ah(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return b4(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Wr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wr(l,i):(i=_s(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ld(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=od,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ah(t,e){return e=pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mo(t,e,n,r){return r!==null&&vh(r),bi(e,t.child,null,n),t=Ah(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=iu(Error(B(422))),Mo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pc({mode:"visible",children:r.children},s,0,null),i=_s(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bi(e,t.child,null,o),e.child.memoizedState=ld(o),e.memoizedState=od,i);if(!(e.mode&1))return Mo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=iu(i,r,void 0),Mo(t,e,o,r)}if(l=(o&t.childLanes)!==0,Dt||l){if(r=it,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ar(t,s),xn(r,t,s,-1))}return zh(),r=iu(Error(B(421))),Mo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=U4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ht=Ur(s.nextSibling),Vt=e,ze=!0,Sn=null,t!==null&&(Xt[Zt++]=Yn,Xt[Zt++]=Jn,Xt[Zt++]=ks,Yn=t.id,Jn=t.overflow,ks=e),e=Ah(e,r.children),e.flags|=4096,e)}function Sp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),td(t.return,e,n)}function au(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function K0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sp(t,n,e);else if(t.tag===19)Sp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),au(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}au(e,!0,n,null,i);break;case"together":au(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j4(t,e,n){switch(e.tag){case 3:V0(e),Ii();break;case 5:v0(e);break;case 1:Ft(e.type)&&Nl(e);break;case 4:_h(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(bl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?W0(t,e,n):(Te(He,He.current&1),t=or(t,e,n),t!==null?t.sibling:null);Te(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,B0(t,e,n)}return or(t,e,n)}var q0,cd,Q0,G0;q0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};Q0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ds(Mn.current);var i=null;switch(n){case"input":s=Pu(t,s),r=Pu(t,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=Ou(t,s),r=Ou(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xl)}Mu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};G0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yi(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function T4(t,e,n){var r=e.pendingProps;switch(yh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Ft(e.type)&&_l(),pt(e),null;case 3:return r=e.stateNode,ji(),Oe(zt),Oe(yt),kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(yd(Sn),Sn=null))),cd(t,e),pt(e),null;case 5:Nh(e);var s=ds(La.current);if(n=e.type,t!==null&&e.stateNode!=null)Q0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return pt(e),null}if(t=ds(Mn.current),Oo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[On]=e,r[Ra]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<sa.length;s++)Re(sa[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":jf(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Pf(r,i),Re("invalid",r)}Mu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,l,t),s=["children",""+l]):xa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":No(r),Tf(r,i,!0);break;case"textarea":No(r),Af(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[On]=e,t[Ra]=r,q0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Du(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<sa.length;s++)Re(sa[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":jf(t,r),s=Pu(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Pf(t,r),s=Ou(t,r),Re("invalid",t);break;default:s=r}Mu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?k1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_1(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_a(t,c):typeof c=="number"&&_a(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&nh(t,i,c,o))}switch(n){case"input":No(t),Tf(t,r,!1);break;case"textarea":No(t),Af(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ni(t,!!r.multiple,i,!1):r.defaultValue!=null&&ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)G0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ds(La.current),ds(Mn.current),Oo(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(i=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Ro(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return pt(e),null;case 13:if(Oe(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&Ht!==null&&e.mode&1&&!(e.flags&128))f0(),Ii(),e.flags|=98560,i=!1;else if(i=Oo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[On]=e}else Ii(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),i=!1}else Sn!==null&&(yd(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?nt===0&&(nt=3):zh())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return ji(),cd(t,e),t===null&&Pa(e.stateNode.containerInfo),pt(e),null;case 10:return Eh(e.type._context),pt(e),null;case 17:return Ft(e.type)&&_l(),pt(e),null;case 19:if(Oe(He),i=e.memoizedState,i===null)return pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yi(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pl(t),o!==null){for(e.flags|=128,Yi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ye()>Pi&&(e.flags|=128,r=!0,Yi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return pt(e),null}else 2*Ye()-i.renderingStartTime>Pi&&n!==1073741824&&(e.flags|=128,r=!0,Yi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ye(),e.sibling=null,n=He.current,Te(He,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Dh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function P4(t,e){switch(yh(e),e.tag){case 1:return Ft(e.type)&&_l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(),Oe(zt),Oe(yt),kh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nh(e),null;case 13:if(Oe(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(He),null;case 4:return ji(),null;case 10:return Eh(e.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var Do=!1,gt=!1,A4=typeof WeakSet=="function"?WeakSet:Set,te=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function ud(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var Ep=!1;function R4(t,e){if(qu=Sl,t=e0(),mh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,p=0,f=t,d=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===s&&(l=o),d===i&&++p===r&&(c=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:t,selectionRange:n},Sl=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,k=w.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:mn(e.type,S),k);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ge(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return w=Ep,Ep=!1,w}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ud(e,n,i)}s=s.next}while(s!==r)}}function hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Y0(t){var e=t.alternate;e!==null&&(t.alternate=null,Y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Ra],delete e[Ju],delete e[m4],delete e[g4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J0(t){return t.tag===5||t.tag===3||t.tag===4}function Cp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xl));else if(r!==4&&(t=t.child,t!==null))for(hd(t,e,n),t=t.sibling;t!==null;)hd(t,e,n),t=t.sibling}function fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fd(t,e,n),t=t.sibling;t!==null;)fd(t,e,n),t=t.sibling}var lt=null,wn=!1;function mr(t,e,n){for(n=n.child;n!==null;)X0(t,e,n),n=n.sibling}function X0(t,e,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(sc,n)}catch{}switch(n.tag){case 5:gt||Zs(n,e);case 6:var r=lt,s=wn;lt=null,mr(t,e,n),lt=r,wn=s,lt!==null&&(wn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(wn?(t=lt,n=n.stateNode,t.nodeType===8?Zc(t.parentNode,n):t.nodeType===1&&Zc(t,n),ba(t)):Zc(lt,n.stateNode));break;case 4:r=lt,s=wn,lt=n.stateNode.containerInfo,wn=!0,mr(t,e,n),lt=r,wn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ud(n,e,o),s=s.next}while(s!==r)}mr(t,e,n);break;case 1:if(!gt&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ge(n,e,l)}mr(t,e,n);break;case 21:mr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,mr(t,e,n),gt=r):mr(t,e,n);break;default:mr(t,e,n)}}function xp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A4),e.forEach(function(r){var s=B4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:lt=l.stateNode,wn=!1;break e;case 3:lt=l.stateNode.containerInfo,wn=!0;break e;case 4:lt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(lt===null)throw Error(B(160));X0(i,o,s),lt=null,wn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ge(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z0(e,t),e=e.sibling}function Z0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),bn(t),r&4){try{ga(3,t,t.return),hc(3,t)}catch(S){Ge(t,t.return,S)}try{ga(5,t,t.return)}catch(S){Ge(t,t.return,S)}}break;case 1:fn(e,t),bn(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(fn(e,t),bn(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var s=t.stateNode;try{_a(s,"")}catch(S){Ge(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&E1(s,i),Du(l,o);var u=Du(l,i);for(o=0;o<c.length;o+=2){var p=c[o],f=c[o+1];p==="style"?k1(s,f):p==="dangerouslySetInnerHTML"?_1(s,f):p==="children"?_a(s,f):nh(s,p,f,u)}switch(l){case"input":Au(s,i);break;case"textarea":C1(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ni(s,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?ni(s,!!i.multiple,i.defaultValue,!0):ni(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ra]=i}catch(S){Ge(t,t.return,S)}}break;case 6:if(fn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Ge(t,t.return,S)}}break;case 3:if(fn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(e.containerInfo)}catch(S){Ge(t,t.return,S)}break;case 4:fn(e,t),bn(t);break;case 13:fn(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lh=Ye())),r&4&&xp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(u=gt)||p,fn(e,t),gt=u):fn(e,t),bn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(te=t,p=t.child;p!==null;){for(f=te=p;te!==null;){switch(d=te,h=d.child,d.tag){case 0:case 11:case 14:case 15:ga(4,d,d.return);break;case 1:Zs(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){Ge(r,n,S)}}break;case 5:Zs(d,d.return);break;case 22:if(d.memoizedState!==null){Np(f);continue}}h!==null?(h.return=d,te=h):Np(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N1("display",o))}catch(S){Ge(t,t.return,S)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){Ge(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(e,t),bn(t),r&4&&xp(t);break;case 21:break;default:fn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J0(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_a(s,""),r.flags&=-33);var i=Cp(t);fd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Cp(t);hd(t,l,o);break;default:throw Error(B(161))}}catch(c){Ge(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O4(t,e,n){te=t,eg(t)}function eg(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Do;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||gt;l=Do;var u=gt;if(Do=o,(gt=c)&&!u)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?kp(s):c!==null?(c.return=o,te=c):kp(s);for(;i!==null;)te=i,eg(i),i=i.sibling;te=s,Do=l,gt=u}_p(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):_p(t)}}function _p(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lp(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}gt||e.flags&512&&dd(e)}catch(d){Ge(e,e.return,d)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Np(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function kp(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hc(4,e)}catch(c){Ge(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ge(e,s,c)}}var i=e.return;try{dd(e)}catch(c){Ge(e,i,c)}break;case 5:var o=e.return;try{dd(e)}catch(c){Ge(e,o,c)}}}catch(c){Ge(e,e.return,c)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var L4=Math.ceil,Ol=ur.ReactCurrentDispatcher,Rh=ur.ReactCurrentOwner,nn=ur.ReactCurrentBatchConfig,Ce=0,it=null,Xe=null,ct=0,Ut=0,ei=ns(0),nt=0,Fa=null,bs=0,fc=0,Oh=0,ya=null,Mt=null,Lh=0,Pi=1/0,Hn=null,Ll=!1,pd=null,Hr=null,zo=!1,Mr=null,Ml=0,va=0,md=null,rl=-1,sl=0;function Nt(){return Ce&6?Ye():rl!==-1?rl:rl=Ye()}function Vr(t){return t.mode&1?Ce&2&&ct!==0?ct&-ct:v4.transition!==null?(sl===0&&(sl=z1()),sl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:W1(t.type)),t):1}function xn(t,e,n,r){if(50<va)throw va=0,md=null,Error(B(185));io(t,n,r),(!(Ce&2)||t!==it)&&(t===it&&(!(Ce&2)&&(fc|=n),nt===4&&Er(t,ct)),$t(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Pi=Ye()+500,cc&&rs()))}function $t(t,e){var n=t.callbackNode;vv(t,e);var r=wl(t,t===it?ct:0);if(r===0)n!==null&&Lf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lf(n),e===1)t.tag===0?y4(Ip.bind(null,t)):u0(Ip.bind(null,t)),f4(function(){!(Ce&6)&&rs()}),n=null;else{switch(F1(r)){case 1:n=oh;break;case 4:n=M1;break;case 16:n=vl;break;case 536870912:n=D1;break;default:n=vl}n=lg(n,tg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tg(t,e){if(rl=-1,sl=0,Ce&6)throw Error(B(327));var n=t.callbackNode;if(oi()&&t.callbackNode!==n)return null;var r=wl(t,t===it?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dl(t,r);else{e=r;var s=Ce;Ce|=2;var i=rg();(it!==t||ct!==e)&&(Hn=null,Pi=Ye()+500,xs(t,e));do try{z4();break}catch(l){ng(t,l)}while(!0);Sh(),Ol.current=i,Ce=s,Xe!==null?e=0:(it=null,ct=0,e=nt)}if(e!==0){if(e===2&&(s=Bu(t),s!==0&&(r=s,e=gd(t,s))),e===1)throw n=Fa,xs(t,0),Er(t,r),$t(t,Ye()),n;if(e===6)Er(t,r);else{if(s=t.current.alternate,!(r&30)&&!M4(s)&&(e=Dl(t,r),e===2&&(i=Bu(t),i!==0&&(r=i,e=gd(t,i))),e===1))throw n=Fa,xs(t,0),Er(t,r),$t(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:os(t,Mt,Hn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=Lh+500-Ye(),10<e)){if(wl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yu(os.bind(null,t,Mt,Hn),e);break}os(t,Mt,Hn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Cn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L4(r/1960))-r,10<r){t.timeoutHandle=Yu(os.bind(null,t,Mt,Hn),r);break}os(t,Mt,Hn);break;case 5:os(t,Mt,Hn);break;default:throw Error(B(329))}}}return $t(t,Ye()),t.callbackNode===n?tg.bind(null,t):null}function gd(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Dl(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&yd(e)),t}function yd(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function M4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~Oh,e&=~fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Ip(t){if(Ce&6)throw Error(B(327));oi();var e=wl(t,0);if(!(e&1))return $t(t,Ye()),null;var n=Dl(t,e);if(t.tag!==0&&n===2){var r=Bu(t);r!==0&&(e=r,n=gd(t,r))}if(n===1)throw n=Fa,xs(t,0),Er(t,e),$t(t,Ye()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Mt,Hn),$t(t,Ye()),null}function Mh(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Pi=Ye()+500,cc&&rs())}}function js(t){Mr!==null&&Mr.tag===0&&!(Ce&6)&&oi();var e=Ce;Ce|=1;var n=nn.transition,r=ke;try{if(nn.transition=null,ke=1,t)return t()}finally{ke=r,nn.transition=n,Ce=e,!(Ce&6)&&rs()}}function Dh(){Ut=ei.current,Oe(ei)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h4(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:ji(),Oe(zt),Oe(yt),kh();break;case 5:Nh(r);break;case 4:ji();break;case 13:Oe(He);break;case 19:Oe(He);break;case 10:Eh(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(it=t,Xe=t=Wr(t.current,null),ct=Ut=e,nt=0,Fa=null,Oh=fc=bs=0,Mt=ya=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}us=null}return t}function ng(t,e){do{var n=Xe;try{if(Sh(),el.current=Rl,Al){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Al=!1}if(Is=0,st=et=Ve=null,ma=!1,Ma=0,Rh.current=null,n===null||n.return===null){nt=1,Fa=e,Xe=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var h=pp(o);if(h!==null){h.flags&=-257,mp(h,o,l,i,e),h.mode&1&&fp(i,u,e),e=h,c=u;var w=e.updateQueue;if(w===null){var S=new Set;S.add(c),e.updateQueue=S}else w.add(c);break e}else{if(!(e&1)){fp(i,u,e),zh();break e}c=Error(B(426))}}else if(ze&&l.mode&1){var k=pp(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),mp(k,o,l,i,e),vh(Ti(c,l));break e}}i=c=Ti(c,l),nt!==4&&(nt=2),ya===null?ya=[i]:ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=F0(i,c,e);op(i,y);break e;case 1:l=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hr===null||!Hr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=$0(i,l,e);op(i,C);break e}}i=i.return}while(i!==null)}ig(n)}catch(I){e=I,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function rg(){var t=Ol.current;return Ol.current=Rl,t===null?Rl:t}function zh(){(nt===0||nt===3||nt===2)&&(nt=4),it===null||!(bs&268435455)&&!(fc&268435455)||Er(it,ct)}function Dl(t,e){var n=Ce;Ce|=2;var r=rg();(it!==t||ct!==e)&&(Hn=null,xs(t,e));do try{D4();break}catch(s){ng(t,s)}while(!0);if(Sh(),Ce=n,Ol.current=r,Xe!==null)throw Error(B(261));return it=null,ct=0,nt}function D4(){for(;Xe!==null;)sg(Xe)}function z4(){for(;Xe!==null&&!cv();)sg(Xe)}function sg(t){var e=og(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?ig(t):Xe=e,Rh.current=null}function ig(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P4(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=T4(n,e,Ut),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function os(t,e,n){var r=ke,s=nn.transition;try{nn.transition=null,ke=1,F4(t,e,n,r)}finally{nn.transition=s,ke=r}return null}function F4(t,e,n,r){do oi();while(Mr!==null);if(Ce&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wv(t,i),t===it&&(Xe=it=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,lg(vl,function(){return oi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var o=ke;ke=1;var l=Ce;Ce|=4,Rh.current=null,R4(t,n),Z0(n,t),i4(Qu),Sl=!!qu,Qu=qu=null,t.current=n,O4(n),uv(),Ce=l,ke=o,nn.transition=i}else t.current=n;if(zo&&(zo=!1,Mr=t,Ml=s),i=t.pendingLanes,i===0&&(Hr=null),fv(n.stateNode),$t(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ll)throw Ll=!1,t=pd,pd=null,t;return Ml&1&&t.tag!==0&&oi(),i=t.pendingLanes,i&1?t===md?va++:(va=0,md=t):va=0,rs(),null}function oi(){if(Mr!==null){var t=F1(Ml),e=nn.transition,n=ke;try{if(nn.transition=null,ke=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,Ml=0,Ce&6)throw Error(B(331));var s=Ce;for(Ce|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var p=te;switch(p.tag){case 0:case 11:case 15:ga(8,p,i)}var f=p.child;if(f!==null)f.return=p,te=f;else for(;te!==null;){p=te;var d=p.sibling,h=p.return;if(Y0(p),p===u){te=null;break}if(d!==null){d.return=h,te=d;break}te=h}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ga(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,te=y;break e}te=i.return}}var g=t.current;for(te=g;te!==null;){o=te;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,te=v;else e:for(o=g;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hc(9,l)}}catch(I){Ge(l,l.return,I)}if(l===o){te=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,te=C;break e}te=l.return}}if(Ce=s,rs(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(sc,t)}catch{}r=!0}return r}finally{ke=n,nn.transition=e}}return!1}function bp(t,e,n){e=Ti(n,e),e=F0(t,e,1),t=Br(t,e,1),e=Nt(),t!==null&&(io(t,1,e),$t(t,e))}function Ge(t,e,n){if(t.tag===3)bp(t,t,n);else for(;e!==null;){if(e.tag===3){bp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=Ti(n,t),t=$0(e,t,1),e=Br(e,t,1),t=Nt(),e!==null&&(io(e,1,t),$t(e,t));break}}e=e.return}}function $4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(ct&n)===n&&(nt===4||nt===3&&(ct&130023424)===ct&&500>Ye()-Lh?xs(t,0):Oh|=n),$t(t,e)}function ag(t,e){e===0&&(t.mode&1?(e=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):e=1);var n=Nt();t=ar(t,e),t!==null&&(io(t,e,n),$t(t,n))}function U4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ag(t,n)}function B4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),ag(t,n)}var og;og=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,j4(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,ze&&e.flags&1048576&&d0(e,Il,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nl(t,e),t=e.pendingProps;var s=ki(e,yt.current);ai(e,n),s=bh(null,e,r,t,s,n);var i=jh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(i=!0,Nl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xh(e),s.updater=dc,e.stateNode=s,s._reactInternals=e,rd(e,r,t,n),e=ad(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&gh(e),xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=V4(r),t=mn(r,t),s){case 0:e=id(null,e,r,t,n);break e;case 1:e=vp(null,e,r,t,n);break e;case 11:e=gp(null,e,r,t,n);break e;case 14:e=yp(null,e,r,mn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),id(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),vp(t,e,r,s,n);case 3:e:{if(V0(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,y0(t,e),Tl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ti(Error(B(423)),e),e=wp(t,e,r,n,s);break e}else if(r!==s){s=Ti(Error(B(424)),e),e=wp(t,e,r,n,s);break e}else for(Ht=Ur(e.stateNode.containerInfo.firstChild),Vt=e,ze=!0,Sn=null,n=m0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===s){e=or(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return v0(e),t===null&&ed(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Gu(r,s)?o=null:i!==null&&Gu(r,i)&&(e.flags|=32),H0(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&ed(e),null;case 13:return W0(t,e,n);case 4:return _h(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bi(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),gp(t,e,r,s,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(bl,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!zt.current){e=or(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=er(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),td(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),td(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ai(e,n),s=rn(s),r=r(s),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,s=mn(r,e.pendingProps),s=mn(r.type,s),yp(t,e,r,s,n);case 15:return U0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),nl(t,e),e.tag=1,Ft(r)?(t=!0,Nl(e)):t=!1,ai(e,n),z0(e,r,s),rd(e,r,s,n),ad(null,e,r,!0,t,n);case 19:return K0(t,e,n);case 22:return B0(t,e,n)}throw Error(B(156,e.tag))};function lg(t,e){return L1(t,e)}function H4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new H4(t,e,n,r)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V4(t){if(typeof t=="function")return Fh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sh)return 11;if(t===ih)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function il(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vs:return _s(n.children,s,i,e);case rh:o=8,s|=8;break;case Iu:return t=tn(12,n,e,s|2),t.elementType=Iu,t.lanes=i,t;case bu:return t=tn(13,n,e,s),t.elementType=bu,t.lanes=i,t;case ju:return t=tn(19,n,e,s),t.elementType=ju,t.lanes=i,t;case v1:return pc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g1:o=10;break e;case y1:o=9;break e;case sh:o=11;break e;case ih:o=14;break e;case vr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=tn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function _s(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function pc(t,e,n,r){return t=tn(22,t,r,e),t.elementType=v1,t.lanes=n,t.stateNode={isHidden:!1},t}function ou(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function lu(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $h(t,e,n,r,s,i,o,l,c){return t=new W4(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(i),t}function K4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cg(t){if(!t)return Zr;t=t._reactInternals;e:{if(Ds(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ft(n))return c0(t,n,e)}return e}function ug(t,e,n,r,s,i,o,l,c){return t=$h(n,r,!0,t,s,i,o,l,c),t.context=cg(null),n=t.current,r=Nt(),s=Vr(n),i=er(r,s),i.callback=e??null,Br(n,i,s),t.current.lanes=s,io(t,s,r),$t(t,r),t}function mc(t,e,n,r){var s=e.current,i=Nt(),o=Vr(s);return n=cg(n),e.context===null?e.context=n:e.pendingContext=n,e=er(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(s,e,o),t!==null&&(xn(t,s,o,i),Zo(t,s,o)),o}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uh(t,e){jp(t,e),(t=t.alternate)&&jp(t,e)}function q4(){return null}var dg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bh(t){this._internalRoot=t}gc.prototype.render=Bh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));mc(t,e,null,null)};gc.prototype.unmount=Bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){mc(null,t,null,null)}),e[ir]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var e=B1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sr.length&&e!==0&&e<Sr[n].priority;n++);Sr.splice(n,0,t),n===0&&V1(t)}};function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function Q4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zl(o);i.call(u)}}var o=ug(e,r,t,0,null,!1,!1,"",Tp);return t._reactRootContainer=o,t[ir]=o.current,Pa(t.nodeType===8?t.parentNode:t),js(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=zl(c);l.call(u)}}var c=$h(t,0,!1,null,null,!1,!1,"",Tp);return t._reactRootContainer=c,t[ir]=c.current,Pa(t.nodeType===8?t.parentNode:t),js(function(){mc(e,c,n,r)}),c}function vc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=zl(o);l.call(c)}}mc(e,o,t,s)}else o=Q4(n,e,t,s,r);return zl(o)}$1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ra(e.pendingLanes);n!==0&&(lh(e,n|1),$t(e,Ye()),!(Ce&6)&&(Pi=Ye()+500,rs()))}break;case 13:js(function(){var r=ar(t,1);if(r!==null){var s=Nt();xn(r,t,1,s)}}),Uh(t,1)}};ch=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=Nt();xn(e,t,134217728,n)}Uh(t,134217728)}};U1=function(t){if(t.tag===13){var e=Vr(t),n=ar(t,e);if(n!==null){var r=Nt();xn(n,t,e,r)}Uh(t,e)}};B1=function(){return ke};H1=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Fu=function(t,e,n){switch(e){case"input":if(Au(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lc(r);if(!s)throw Error(B(90));S1(r),Au(r,s)}}}break;case"textarea":C1(t,n);break;case"select":e=n.value,e!=null&&ni(t,!!n.multiple,e,!1)}};j1=Mh;T1=js;var G4={usingClientEntryPoint:!1,Events:[oo,Qs,lc,I1,b1,Mh]},Ji={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||q4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{sc=Fo.inject(Y4),Ln=Fo}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G4;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(e))throw Error(B(200));return K4(t,e,null,n)};Kt.createRoot=function(t,e){if(!Hh(t))throw Error(B(299));var n=!1,r="",s=dg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$h(t,1,!1,null,null,n,!1,r,s),t[ir]=e.current,Pa(t.nodeType===8?t.parentNode:t),new Bh(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=R1(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return js(t)};Kt.hydrate=function(t,e,n){if(!yc(e))throw Error(B(200));return vc(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!Hh(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ug(e,null,t,1,n??null,s,!1,i,o),t[ir]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gc(e)};Kt.render=function(t,e,n){if(!yc(e))throw Error(B(200));return vc(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!yc(t))throw Error(B(40));return t._reactRootContainer?(js(function(){vc(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};Kt.unstable_batchedUpdates=Mh;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return vc(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hg)}catch(t){console.error(t)}}hg(),h1.exports=Kt;var wc=h1.exports;const J4=e1(wc);var fg,Pp=wc;fg=Pp.createRoot,Pp.hydrateRoot;var Bi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},X4={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Nr,Gd,Hm,Z4=(Hm=class{constructor(){re(this,Nr,X4);re(this,Gd,!1)}setTimeoutProvider(t){K(this,Nr,t)}setTimeout(t,e){return E(this,Nr).setTimeout(t,e)}clearTimeout(t){E(this,Nr).clearTimeout(t)}setInterval(t,e){return E(this,Nr).setInterval(t,e)}clearInterval(t){E(this,Nr).clearInterval(t)}},Nr=new WeakMap,Gd=new WeakMap,Hm),hs=new Z4;function ew(t){setTimeout(t,0)}var Ts=typeof window>"u"||"Deno"in globalThis;function _t(){}function tw(t,e){return typeof t=="function"?t(e):t}function vd(t){return typeof t=="number"&&t>=0&&t!==1/0}function pg(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kr(t,e){return typeof t=="function"?t(e):t}function Jt(t,e){return typeof t=="function"?t(e):t}function Ap(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Vh(o,e.options))return!1}else if(!$a(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Rp(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ps(e.options.mutationKey)!==Ps(i))return!1}else if(!$a(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Vh(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ps)(t)}function Ps(t){return JSON.stringify(t,(e,n)=>wd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $a(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$a(t[n],e[n])):!1}var nw=Object.prototype.hasOwnProperty;function mg(t,e){if(t===e)return t;const n=Op(t)&&Op(e);if(!n&&!(wd(t)&&wd(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const p=n?u:i[u],f=t[p],d=e[p];if(f===d){l[p]=f,(n?u<s:nw.call(t,p))&&c++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){l[p]=d;continue}const h=mg(f,d);l[p]=h,h===f&&c++}return s===o&&c===s?t:l}function Fl(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Op(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wd(t){if(!Lp(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Lp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lp(t){return Object.prototype.toString.call(t)==="[object Object]"}function rw(t){return new Promise(e=>{hs.setTimeout(e,t)})}function Sd(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mg(t,e):e}function sw(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iw(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Wh=Symbol();function gg(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Wh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Kh(t,e){return typeof t=="function"?t(...e):!!t}function aw(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var ps,kr,fi,Vm,ow=(Vm=class extends Bi{constructor(){super();re(this,ps);re(this,kr);re(this,fi);K(this,fi,e=>{if(!Ts&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,kr)||this.setEventListener(E(this,fi))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,kr))==null||e.call(this),K(this,kr,void 0))}setEventListener(e){var n;K(this,fi,e),(n=E(this,kr))==null||n.call(this),K(this,kr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,ps)!==e&&(K(this,ps,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof E(this,ps)=="boolean"?E(this,ps):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ps=new WeakMap,kr=new WeakMap,fi=new WeakMap,Vm),qh=new ow;function Ed(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var lw=ew;function cw(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=lw;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var tt=cw(),pi,Ir,mi,Wm,uw=(Wm=class extends Bi{constructor(){super();re(this,pi,!0);re(this,Ir);re(this,mi);K(this,mi,e=>{if(!Ts&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Ir)||this.setEventListener(E(this,mi))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Ir))==null||e.call(this),K(this,Ir,void 0))}setEventListener(e){var n;K(this,mi,e),(n=E(this,Ir))==null||n.call(this),K(this,Ir,e(this.setOnline.bind(this)))}setOnline(e){E(this,pi)!==e&&(K(this,pi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,pi)}},pi=new WeakMap,Ir=new WeakMap,mi=new WeakMap,Wm),$l=new uw;function dw(t){return Math.min(1e3*2**t,3e4)}function yg(t){return(t??"online")==="online"?$l.isOnline():!0}var Cd=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vg(t){let e=!1,n=0,r;const s=Ed(),i=()=>s.status!=="pending",o=S=>{var k;if(!i()){const y=new Cd(S);d(y),(k=t.onCancel)==null||k.call(t,y)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>qh.isFocused()&&(t.networkMode==="always"||$l.isOnline())&&t.canRun(),p=()=>yg(t.networkMode)&&t.canRun(),f=S=>{i()||(r==null||r(),s.resolve(S))},d=S=>{i()||(r==null||r(),s.reject(S))},h=()=>new Promise(S=>{var k;r=y=>{(i()||u())&&S(y)},(k=t.onPause)==null||k.call(t)}).then(()=>{var S;r=void 0,i()||(S=t.onContinue)==null||S.call(t)}),w=()=>{if(i())return;let S;const k=n===0?t.initialPromise:void 0;try{S=k??t.fn()}catch(y){S=Promise.reject(y)}Promise.resolve(S).then(f).catch(y=>{var j;if(i())return;const g=t.retry??(Ts?0:3),v=t.retryDelay??dw,C=typeof v=="function"?v(n,y):v,I=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(e||!I){d(y);return}n++,(j=t.onFail)==null||j.call(t,n,y),rw(C).then(()=>u()?void 0:h()).then(()=>{e?d(y):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?w():h().then(w),s)}}var ms,Km,wg=(Km=class{constructor(){re(this,ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vd(this.gcTime)&&K(this,ms,hs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ts?1/0:5*60*1e3))}clearGcTimeout(){E(this,ms)&&(hs.clearTimeout(E(this,ms)),K(this,ms,void 0))}},ms=new WeakMap,Km),gs,gi,Yt,ys,rt,Xa,vs,gn,Bn,qm,hw=(qm=class extends wg{constructor(e){super();re(this,gn);re(this,gs);re(this,gi);re(this,Yt);re(this,ys);re(this,rt);re(this,Xa);re(this,vs);K(this,vs,!1),K(this,Xa,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,ys,e.client),K(this,Yt,E(this,ys).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,gs,Dp(this.options)),this.state=e.state??E(this,gs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,rt))==null?void 0:e.promise}setOptions(e){if(this.options={...E(this,Xa),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Dp(this.options);n.data!==void 0&&(this.setState(Mp(n.data,n.dataUpdatedAt)),K(this,gs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Yt).remove(this)}setData(e,n){const r=Sd(this.state.data,e,this.options);return ue(this,gn,Bn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ue(this,gn,Bn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=E(this,rt))==null?void 0:r.promise;return(s=E(this,rt))==null||s.cancel(e),n?n.then(_t).catch(_t):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,gs))}isActive(){return this.observers.some(e=>Jt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Kr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pg(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,rt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,rt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,Yt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(E(this,rt)&&(E(this,vs)?E(this,rt).cancel({revert:!0}):E(this,rt).cancelRetry()),this.scheduleGc()),E(this,Yt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,gn,Bn).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,p,f,d,h,w,S,k,y,g,v;if(this.state.fetchStatus!=="idle"&&((c=E(this,rt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,rt))return E(this,rt).continueRetry(),E(this,rt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(I=>I.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,s=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(K(this,vs,!0),r.signal)})},i=()=>{const C=gg(this.options,n),j=(()=>{const _={client:E(this,ys),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return K(this,vs,!1),this.options.persister?this.options.persister(C,j,this):C(j)},l=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,ys),state:this.state,fetchFn:i};return s(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),K(this,gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&ue(this,gn,Bn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),K(this,rt,vg({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof Cd&&C.revert&&this.setState({...E(this,gi),fetchStatus:"idle"}),r.abort()},onFail:(C,I)=>{ue(this,gn,Bn).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{ue(this,gn,Bn).call(this,{type:"pause"})},onContinue:()=>{ue(this,gn,Bn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await E(this,rt).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(h=(d=E(this,Yt).config).onSuccess)==null||h.call(d,C,this),(S=(w=E(this,Yt).config).onSettled)==null||S.call(w,C,this.state.error,this),C}catch(C){if(C instanceof Cd){if(C.silent)return E(this,rt).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw ue(this,gn,Bn).call(this,{type:"error",error:C}),(y=(k=E(this,Yt).config).onError)==null||y.call(k,C,this),(v=(g=E(this,Yt).config).onSettled)==null||v.call(g,this.state.data,C,this),C}finally{this.scheduleGc()}}},gs=new WeakMap,gi=new WeakMap,Yt=new WeakMap,ys=new WeakMap,rt=new WeakMap,Xa=new WeakMap,vs=new WeakMap,gn=new WeakSet,Bn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Sg(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...Mp(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,gi,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Yt).notify({query:this,type:"updated",action:e})})},qm);function Sg(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yg(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Mp(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Dp(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rt,we,Za,Et,ws,yi,Wn,br,eo,vi,wi,Ss,Es,jr,Si,_e,ia,xd,_d,Nd,kd,Id,bd,jd,Cg,Qm,Eg=(Qm=class extends Bi{constructor(e,n){super();re(this,_e);re(this,Rt);re(this,we);re(this,Za);re(this,Et);re(this,ws);re(this,yi);re(this,Wn);re(this,br);re(this,eo);re(this,vi);re(this,wi);re(this,Ss);re(this,Es);re(this,jr);re(this,Si,new Set);this.options=n,K(this,Rt,e),K(this,br,null),K(this,Wn,Ed()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,we).addObserver(this),zp(E(this,we),this.options)?ue(this,_e,ia).call(this):this.updateResult(),ue(this,_e,kd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Td(E(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Td(E(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,_e,Id).call(this),ue(this,_e,bd).call(this),E(this,we).removeObserver(this)}setOptions(e){const n=this.options,r=E(this,we);if(this.options=E(this,Rt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,E(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,_e,jd).call(this),E(this,we).setOptions(this.options),n._defaulted&&!Fl(this.options,n)&&E(this,Rt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,we),observer:this});const s=this.hasListeners();s&&Fp(E(this,we),r,this.options,n)&&ue(this,_e,ia).call(this),this.updateResult(),s&&(E(this,we)!==r||Jt(this.options.enabled,E(this,we))!==Jt(n.enabled,E(this,we))||Kr(this.options.staleTime,E(this,we))!==Kr(n.staleTime,E(this,we)))&&ue(this,_e,xd).call(this);const i=ue(this,_e,_d).call(this);s&&(E(this,we)!==r||Jt(this.options.enabled,E(this,we))!==Jt(n.enabled,E(this,we))||i!==E(this,jr))&&ue(this,_e,Nd).call(this,i)}getOptimisticResult(e){const n=E(this,Rt).getQueryCache().build(E(this,Rt),e),r=this.createResult(n,e);return pw(this,r)&&(K(this,Et,r),K(this,yi,this.options),K(this,ws,E(this,we).state)),r}getCurrentResult(){return E(this,Et)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&E(this,Wn).status==="pending"&&E(this,Wn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){E(this,Si).add(e)}getCurrentQuery(){return E(this,we)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,Rt).defaultQueryOptions(e),r=E(this,Rt).getQueryCache().build(E(this,Rt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ue(this,_e,ia).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Et)))}createResult(e,n){var z;const r=E(this,we),s=this.options,i=E(this,Et),o=E(this,ws),l=E(this,yi),u=e!==r?e.state:E(this,Za),{state:p}=e;let f={...p},d=!1,h;if(n._optimisticResults){const b=this.hasListeners(),A=!b&&zp(e,n),R=b&&Fp(e,r,n,s);(A||R)&&(f={...f,...Sg(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:k}=f;h=f.data;let y=!1;if(n.placeholderData!==void 0&&h===void 0&&k==="pending"){let b;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(b=i.data,y=!0):b=typeof n.placeholderData=="function"?n.placeholderData((z=E(this,wi))==null?void 0:z.state.data,E(this,wi)):n.placeholderData,b!==void 0&&(k="success",h=Sd(i==null?void 0:i.data,b,n),d=!0)}if(n.select&&h!==void 0&&!y)if(i&&h===(o==null?void 0:o.data)&&n.select===E(this,eo))h=E(this,vi);else try{K(this,eo,n.select),h=n.select(h),h=Sd(i==null?void 0:i.data,h,n),K(this,vi,h),K(this,br,null)}catch(b){K(this,br,b)}E(this,br)&&(w=E(this,br),h=E(this,vi),S=Date.now(),k="error");const g=f.fetchStatus==="fetching",v=k==="pending",C=k==="error",I=v&&g,j=h!==void 0,P={status:k,fetchStatus:f.fetchStatus,isPending:v,isSuccess:k==="success",isError:C,isInitialLoading:I,isLoading:I,data:h,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:C&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:C&&j,isStale:Qh(e,n),refetch:this.refetch,promise:E(this,Wn),isEnabled:Jt(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const b=x=>{P.status==="error"?x.reject(P.error):P.data!==void 0&&x.resolve(P.data)},A=()=>{const x=K(this,Wn,P.promise=Ed());b(x)},R=E(this,Wn);switch(R.status){case"pending":e.queryHash===r.queryHash&&b(R);break;case"fulfilled":(P.status==="error"||P.data!==R.value)&&A();break;case"rejected":(P.status!=="error"||P.error!==R.reason)&&A();break}}return P}updateResult(){const e=E(this,Et),n=this.createResult(E(this,we),this.options);if(K(this,ws,E(this,we).state),K(this,yi,this.options),E(this,ws).data!==void 0&&K(this,wi,E(this,we)),Fl(n,e))return;K(this,Et,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!E(this,Si).size)return!0;const o=new Set(i??E(this,Si));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,Et)).some(l=>{const c=l;return E(this,Et)[c]!==e[c]&&o.has(c)})};ue(this,_e,Cg).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,_e,kd).call(this)}},Rt=new WeakMap,we=new WeakMap,Za=new WeakMap,Et=new WeakMap,ws=new WeakMap,yi=new WeakMap,Wn=new WeakMap,br=new WeakMap,eo=new WeakMap,vi=new WeakMap,wi=new WeakMap,Ss=new WeakMap,Es=new WeakMap,jr=new WeakMap,Si=new WeakMap,_e=new WeakSet,ia=function(e){ue(this,_e,jd).call(this);let n=E(this,we).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(_t)),n},xd=function(){ue(this,_e,Id).call(this);const e=Kr(this.options.staleTime,E(this,we));if(Ts||E(this,Et).isStale||!vd(e))return;const r=pg(E(this,Et).dataUpdatedAt,e)+1;K(this,Ss,hs.setTimeout(()=>{E(this,Et).isStale||this.updateResult()},r))},_d=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,we)):this.options.refetchInterval)??!1},Nd=function(e){ue(this,_e,bd).call(this),K(this,jr,e),!(Ts||Jt(this.options.enabled,E(this,we))===!1||!vd(E(this,jr))||E(this,jr)===0)&&K(this,Es,hs.setInterval(()=>{(this.options.refetchIntervalInBackground||qh.isFocused())&&ue(this,_e,ia).call(this)},E(this,jr)))},kd=function(){ue(this,_e,xd).call(this),ue(this,_e,Nd).call(this,ue(this,_e,_d).call(this))},Id=function(){E(this,Ss)&&(hs.clearTimeout(E(this,Ss)),K(this,Ss,void 0))},bd=function(){E(this,Es)&&(hs.clearInterval(E(this,Es)),K(this,Es,void 0))},jd=function(){const e=E(this,Rt).getQueryCache().build(E(this,Rt),this.options);if(e===E(this,we))return;const n=E(this,we);K(this,we,e),K(this,Za,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Cg=function(e){tt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,Et))}),E(this,Rt).getQueryCache().notify({query:E(this,we),type:"observerResultsUpdated"})})},Qm);function fw(t,e){return Jt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zp(t,e){return fw(t,e)||t.state.data!==void 0&&Td(t,e,e.refetchOnMount)}function Td(t,e,n){if(Jt(e.enabled,t)!==!1&&Kr(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Qh(t,e)}return!1}function Fp(t,e,n,r){return(t!==e||Jt(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Qh(t,n)}function Qh(t,e){return Jt(e.enabled,t)!==!1&&t.isStaleByTime(Kr(e.staleTime,t))}function pw(t,e){return!Fl(t.getCurrentResult(),e)}function Ul(t){return{onFetch:(e,n)=>{var p,f,d,h,w;const r=e.options,s=(d=(f=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let S=!1;const k=v=>{aw(v,()=>e.signal,()=>S=!0)},y=gg(e.options,e.fetchOptions),g=async(v,C,I)=>{if(S)return Promise.reject();if(C==null&&v.pages.length)return Promise.resolve(v);const _=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:C,direction:I?"backward":"forward",meta:e.options.meta};return k(A),A})(),P=await y(_),{maxPages:z}=e.options,b=I?iw:sw;return{pages:b(v.pages,P,z),pageParams:b(v.pageParams,C,z)}};if(s&&i.length){const v=s==="backward",C=v?xg:Pd,I={pages:i,pageParams:o},j=C(r,I);l=await g(I,j,v)}else{const v=t??i.length;do{const C=c===0?o[0]??r.initialPageParam:Pd(r,l);if(c>0&&C==null)break;l=await g(l,C),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var S,k;return(k=(S=e.options).persister)==null?void 0:k.call(S,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Pd(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xg(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}function mw(t,e){return e?Pd(t,e)!=null:!1}function gw(t,e){return!e||!t.getPreviousPageParam?!1:xg(t,e)!=null}var yw=class extends Eg{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Ul()})}getOptimisticResult(t){return t.behavior=Ul(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var w,S;const{state:n}=t,r=super.createResult(t,e),{isFetching:s,isRefetching:i,isError:o,isRefetchError:l}=r,c=(S=(w=n.fetchMeta)==null?void 0:w.fetchMore)==null?void 0:S.direction,u=o&&c==="forward",p=s&&c==="forward",f=o&&c==="backward",d=s&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:mw(e,n.data),hasPreviousPage:gw(e,n.data),isFetchNextPageError:u,isFetchingNextPage:p,isFetchPreviousPageError:f,isFetchingPreviousPage:d,isRefetchError:l&&!u&&!f,isRefetching:i&&!p&&!d}}},to,Tn,Ct,Cs,Pn,yr,Gm,vw=(Gm=class extends wg{constructor(e){super();re(this,Pn);re(this,to);re(this,Tn);re(this,Ct);re(this,Cs);K(this,to,e.client),this.mutationId=e.mutationId,K(this,Ct,e.mutationCache),K(this,Tn,[]),this.state=e.state||_g(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Tn).includes(e)||(E(this,Tn).push(e),this.clearGcTimeout(),E(this,Ct).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,Tn,E(this,Tn).filter(n=>n!==e)),this.scheduleGc(),E(this,Ct).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Tn).length||(this.state.status==="pending"?this.scheduleGc():E(this,Ct).remove(this))}continue(){var e;return((e=E(this,Cs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,p,f,d,h,w,S,k,y,g,v,C,I,j,_,P,z;const n=()=>{ue(this,Pn,yr).call(this,{type:"continue"})},r={client:E(this,to),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,Cs,vg({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(b,A)=>{ue(this,Pn,yr).call(this,{type:"failed",failureCount:b,error:A})},onPause:()=>{ue(this,Pn,yr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Ct).canRun(this)}));const s=this.state.status==="pending",i=!E(this,Cs).canStart();try{if(s)n();else{ue(this,Pn,yr).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=E(this,Ct).config).onMutate)==null?void 0:l.call(o,e,this,r));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));A!==this.state.context&&ue(this,Pn,yr).call(this,{type:"pending",context:A,variables:e,isPaused:i})}const b=await E(this,Cs).start();return await((f=(p=E(this,Ct).config).onSuccess)==null?void 0:f.call(p,b,e,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,b,e,this.state.context,r)),await((S=(w=E(this,Ct).config).onSettled)==null?void 0:S.call(w,b,null,this.state.variables,this.state.context,this,r)),await((y=(k=this.options).onSettled)==null?void 0:y.call(k,b,null,e,this.state.context,r)),ue(this,Pn,yr).call(this,{type:"success",data:b}),b}catch(b){try{await((v=(g=E(this,Ct).config).onError)==null?void 0:v.call(g,b,e,this.state.context,this,r))}catch(A){Promise.reject(A)}try{await((I=(C=this.options).onError)==null?void 0:I.call(C,b,e,this.state.context,r))}catch(A){Promise.reject(A)}try{await((_=(j=E(this,Ct).config).onSettled)==null?void 0:_.call(j,void 0,b,this.state.variables,this.state.context,this,r))}catch(A){Promise.reject(A)}try{await((z=(P=this.options).onSettled)==null?void 0:z.call(P,void 0,b,e,this.state.context,r))}catch(A){Promise.reject(A)}throw ue(this,Pn,yr).call(this,{type:"error",error:b}),b}finally{E(this,Ct).runNext(this)}}},to=new WeakMap,Tn=new WeakMap,Ct=new WeakMap,Cs=new WeakMap,Pn=new WeakSet,yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tt.batch(()=>{E(this,Tn).forEach(r=>{r.onMutationUpdate(e)}),E(this,Ct).notify({mutation:this,type:"updated",action:e})})},Gm);function _g(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kn,yn,no,Ym,ww=(Ym=class extends Bi{constructor(e={}){super();re(this,Kn);re(this,yn);re(this,no);this.config=e,K(this,Kn,new Set),K(this,yn,new Map),K(this,no,0)}build(e,n,r){const s=new vw({client:e,mutationCache:this,mutationId:++Co(this,no)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){E(this,Kn).add(e);const n=$o(e);if(typeof n=="string"){const r=E(this,yn).get(n);r?r.push(e):E(this,yn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(E(this,Kn).delete(e)){const n=$o(e);if(typeof n=="string"){const r=E(this,yn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&E(this,yn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=$o(e);if(typeof n=="string"){const r=E(this,yn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=$o(e);if(typeof n=="string"){const s=(r=E(this,yn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tt.batch(()=>{E(this,Kn).forEach(e=>{this.notify({type:"removed",mutation:e})}),E(this,Kn).clear(),E(this,yn).clear()})}getAll(){return Array.from(E(this,Kn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Rp(n,r))}findAll(e={}){return this.getAll().filter(n=>Rp(e,n))}notify(e){tt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tt.batch(()=>Promise.all(e.map(n=>n.continue().catch(_t))))}},Kn=new WeakMap,yn=new WeakMap,no=new WeakMap,Ym);function $o(t){var e;return(e=t.options.scope)==null?void 0:e.id}var qn,Tr,Ot,Qn,rr,al,Ad,Jm,Sw=(Jm=class extends Bi{constructor(n,r){super();re(this,rr);re(this,qn);re(this,Tr);re(this,Ot);re(this,Qn);K(this,qn,n),this.setOptions(r),this.bindMethods(),ue(this,rr,al).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,qn).defaultMutationOptions(n),Fl(this.options,r)||E(this,qn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Ot),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ps(r.mutationKey)!==Ps(this.options.mutationKey)?this.reset():((s=E(this,Ot))==null?void 0:s.state.status)==="pending"&&E(this,Ot).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,Ot))==null||n.removeObserver(this)}onMutationUpdate(n){ue(this,rr,al).call(this),ue(this,rr,Ad).call(this,n)}getCurrentResult(){return E(this,Tr)}reset(){var n;(n=E(this,Ot))==null||n.removeObserver(this),K(this,Ot,void 0),ue(this,rr,al).call(this),ue(this,rr,Ad).call(this)}mutate(n,r){var s;return K(this,Qn,r),(s=E(this,Ot))==null||s.removeObserver(this),K(this,Ot,E(this,qn).getMutationCache().build(E(this,qn),this.options)),E(this,Ot).addObserver(this),E(this,Ot).execute(n)}},qn=new WeakMap,Tr=new WeakMap,Ot=new WeakMap,Qn=new WeakMap,rr=new WeakSet,al=function(){var r;const n=((r=E(this,Ot))==null?void 0:r.state)??_g();K(this,Tr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ad=function(n){tt.batch(()=>{var r,s,i,o,l,c,u,p;if(E(this,Qn)&&this.hasListeners()){const f=E(this,Tr).variables,d=E(this,Tr).context,h={client:E(this,qn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=E(this,Qn)).onSuccess)==null||s.call(r,n.data,f,d,h)}catch(w){Promise.reject(w)}try{(o=(i=E(this,Qn)).onSettled)==null||o.call(i,n.data,null,f,d,h)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=E(this,Qn)).onError)==null||c.call(l,n.error,f,d,h)}catch(w){Promise.reject(w)}try{(p=(u=E(this,Qn)).onSettled)==null||p.call(u,void 0,n.error,f,d,h)}catch(w){Promise.reject(w)}}}this.listeners.forEach(f=>{f(E(this,Tr))})})},Jm),An,Xm,Ew=(Xm=class extends Bi{constructor(e={}){super();re(this,An);this.config=e,K(this,An,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Vh(s,n);let o=this.get(i);return o||(o=new hw({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){E(this,An).has(e.queryHash)||(E(this,An).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,An).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,An).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,An).get(e)}getAll(){return[...E(this,An).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ap(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ap(e,r)):n}notify(e){tt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},An=new WeakMap,Xm),qe,Pr,Ar,Ei,Ci,Rr,xi,_i,Zm,Ng=(Zm=class{constructor(t={}){re(this,qe);re(this,Pr);re(this,Ar);re(this,Ei);re(this,Ci);re(this,Rr);re(this,xi);re(this,_i);K(this,qe,t.queryCache||new Ew),K(this,Pr,t.mutationCache||new ww),K(this,Ar,t.defaultOptions||{}),K(this,Ei,new Map),K(this,Ci,new Map),K(this,Rr,0)}mount(){Co(this,Rr)._++,E(this,Rr)===1&&(K(this,xi,qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,qe).onFocus())})),K(this,_i,$l.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,qe).onOnline())})))}unmount(){var t,e;Co(this,Rr)._--,E(this,Rr)===0&&((t=E(this,xi))==null||t.call(this),K(this,xi,void 0),(e=E(this,_i))==null||e.call(this),K(this,_i,void 0))}isFetching(t){return E(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,Pr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=E(this,qe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Kr(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return E(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=E(this,qe).get(r.queryHash),i=s==null?void 0:s.state.data,o=tw(e,i);if(o!==void 0)return E(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return tt.batch(()=>E(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=E(this,qe);tt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,qe);return tt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tt.batch(()=>E(this,qe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_t).catch(_t)}invalidateQueries(t,e={}){return tt.batch(()=>(E(this,qe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tt.batch(()=>E(this,qe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_t)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_t)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=E(this,qe).build(this,e);return n.isStaleByTime(Kr(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_t).catch(_t)}fetchInfiniteQuery(t){return t.behavior=Ul(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_t).catch(_t)}ensureInfiniteQueryData(t){return t.behavior=Ul(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $l.isOnline()?E(this,Pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,qe)}getMutationCache(){return E(this,Pr)}getDefaultOptions(){return E(this,Ar)}setDefaultOptions(t){K(this,Ar,t)}setQueryDefaults(t,e){E(this,Ei).set(Ps(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,Ei).values()],n={};return e.forEach(r=>{$a(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){E(this,Ci).set(Ps(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,Ci).values()],n={};return e.forEach(r=>{$a(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,Ar).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,Ar).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,qe).clear(),E(this,Pr).clear()}},qe=new WeakMap,Pr=new WeakMap,Ar=new WeakMap,Ei=new WeakMap,Ci=new WeakMap,Rr=new WeakMap,xi=new WeakMap,_i=new WeakMap,Zm),kg=m.createContext(void 0),dr=t=>{const e=m.useContext(kg);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ig=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(kg.Provider,{value:t,children:e})),bg=m.createContext(!1),Cw=()=>m.useContext(bg);bg.Provider;function xw(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _w=m.createContext(xw()),Nw=()=>m.useContext(_w),kw=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?Kh(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Iw=t=>{m.useEffect(()=>{t.clearReset()},[t])},bw=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Kh(n,[t.error,r])),jw=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Tw=(t,e)=>t.isLoading&&t.isFetching&&!e,Pw=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,$p=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function jg(t,e,n){var d,h,w,S;const r=Cw(),s=Nw(),i=dr(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",jw(o),kw(o,s,l),Iw(s);const c=!i.getQueryCache().get(o.queryHash),[u]=m.useState(()=>new e(i,o)),p=u.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(k=>{const y=f?u.subscribe(tt.batchCalls(k)):_t;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(o)},[o,u]),Pw(o,p))throw $p(o,u,s);if(bw({result:p,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw p.error;if((S=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,o,p),o.experimental_prefetchInRender&&!Ts&&Tw(p,r)){const k=c?$p(o,u,s):l==null?void 0:l.promise;k==null||k.catch(_t).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?p:u.trackResult(p)}function Sc(t,e){return jg(t,Eg)}function zs(t,e){const n=dr(),[r]=m.useState(()=>new Sw(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(tt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,l)=>{r.mutate(o,l).catch(_t)},[r]);if(s.error&&Kh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Aw(t,e){return jg(t,yw)}var Rw=t=>{switch(t){case"success":return Mw;case"info":return zw;case"warning":return Dw;case"error":return Fw;default:return null}},Ow=Array(12).fill(0),Lw=({visible:t,className:e})=>V.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},V.createElement("div",{className:"sonner-spinner"},Ow.map((n,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Mw=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Dw=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zw=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Fw=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$w=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Uw=()=>{let[t,e]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Rd=1,Bw=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Rd++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],V.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(Vw(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:p})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,p=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:p})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,p=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:p})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Rd++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Lt=new Bw,Hw=(t,e)=>{let n=(e==null?void 0:e.id)||Rd++;return Lt.addToast({title:t,...e,id:n}),n},Vw=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ww=Hw,Kw=()=>Lt.toasts,qw=()=>Lt.getActiveToasts(),Qe=Object.assign(Ww,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:Kw,getToasts:qw});function Qw(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Qw(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uo(t){return t.label!==void 0}var Gw=3,Yw="32px",Jw="16px",Up=4e3,Xw=356,Zw=14,e3=20,t3=200;function pn(...t){return t.filter(Boolean).join(" ")}function n3(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var r3=t=>{var e,n,r,s,i,o,l,c,u,p,f;let{invert:d,toast:h,unstyled:w,interacting:S,setHeights:k,visibleToasts:y,heights:g,index:v,toasts:C,expanded:I,removeToast:j,defaultRichColors:_,closeButton:P,style:z,cancelButtonStyle:b,actionButtonStyle:A,className:R="",descriptionClassName:x="",duration:q,position:$,gap:Y,loadingIcon:F,expandByDefault:L,classNames:M,icons:W,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:H}=t,[ie,ae]=V.useState(null),[J,fe]=V.useState(null),[ee,Fe]=V.useState(!1),[Ne,ce]=V.useState(!1),[je,me]=V.useState(!1),[vt,ve]=V.useState(!1),[wt,xe]=V.useState(!1),[Ze,ln]=V.useState(0),[ht,cn]=V.useState(0),jt=V.useRef(h.duration||q||Up),Le=V.useRef(null),ge=V.useRef(null),$e=v===0,Ke=v+1<=y,Ue=h.type,Tt=h.dismissible!==!1,un=h.className||"",kn=h.descriptionClassName||"",dn=V.useMemo(()=>g.findIndex(T=>T.toastId===h.id)||0,[g,h.id]),is=V.useMemo(()=>{var T;return(T=h.closeButton)!=null?T:P},[h.closeButton,P]),Fn=V.useMemo(()=>h.duration||q||Up,[h.duration,q]),$n=V.useRef(0),Qt=V.useRef(0),Un=V.useRef(0),Pt=V.useRef(null),[O,se]=$.split("-"),Me=V.useMemo(()=>g.reduce((T,X,ne)=>ne>=dn?T:T+X.height,0),[g,dn]),Gt=Uw(),Se=h.invert||d,pe=Ue==="loading";Qt.current=V.useMemo(()=>dn*Y+Me,[dn,Me]),V.useEffect(()=>{jt.current=Fn},[Fn]),V.useEffect(()=>{Fe(!0)},[]),V.useEffect(()=>{let T=ge.current;if(T){let X=T.getBoundingClientRect().height;return cn(X),k(ne=>[{toastId:h.id,height:X,position:h.position},...ne]),()=>k(ne=>ne.filter(Ae=>Ae.toastId!==h.id))}},[k,h.id]),V.useLayoutEffect(()=>{if(!ee)return;let T=ge.current,X=T.style.height;T.style.height="auto";let ne=T.getBoundingClientRect().height;T.style.height=X,cn(ne),k(Ae=>Ae.find(Ie=>Ie.toastId===h.id)?Ae.map(Ie=>Ie.toastId===h.id?{...Ie,height:ne}:Ie):[{toastId:h.id,height:ne,position:h.position},...Ae])},[ee,h.title,h.description,k,h.id]);let N=V.useCallback(()=>{ce(!0),ln(Qt.current),k(T=>T.filter(X=>X.toastId!==h.id)),setTimeout(()=>{j(h)},t3)},[h,j,k,Qt]);V.useEffect(()=>{if(h.promise&&Ue==="loading"||h.duration===1/0||h.type==="loading")return;let T;return I||S||H&&Gt?(()=>{if(Un.current<$n.current){let X=new Date().getTime()-$n.current;jt.current=jt.current-X}Un.current=new Date().getTime()})():jt.current!==1/0&&($n.current=new Date().getTime(),T=setTimeout(()=>{var X;(X=h.onAutoClose)==null||X.call(h,h),N()},jt.current)),()=>clearTimeout(T)},[I,S,h,Ue,H,Gt,N]),V.useEffect(()=>{h.delete&&N()},[N,h.delete]);function U(){var T,X,ne;return W!=null&&W.loading?V.createElement("div",{className:pn(M==null?void 0:M.loader,(T=h==null?void 0:h.classNames)==null?void 0:T.loader,"sonner-loader"),"data-visible":Ue==="loading"},W.loading):F?V.createElement("div",{className:pn(M==null?void 0:M.loader,(X=h==null?void 0:h.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Ue==="loading"},F):V.createElement(Lw,{className:pn(M==null?void 0:M.loader,(ne=h==null?void 0:h.classNames)==null?void 0:ne.loader),visible:Ue==="loading"})}return V.createElement("li",{tabIndex:0,ref:ge,className:pn(R,un,M==null?void 0:M.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Ue],(n=h==null?void 0:h.classNames)==null?void 0:n[Ue]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:_,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":ee,"data-promise":!!h.promise,"data-swiped":wt,"data-removed":Ne,"data-visible":Ke,"data-y-position":O,"data-x-position":se,"data-index":v,"data-front":$e,"data-swiping":je,"data-dismissible":Tt,"data-type":Ue,"data-invert":Se,"data-swipe-out":vt,"data-swipe-direction":J,"data-expanded":!!(I||L&&ee),style:{"--index":v,"--toasts-before":v,"--z-index":C.length-v,"--offset":`${Ne?Ze:Qt.current}px`,"--initial-height":L?"auto":`${ht}px`,...z,...h.style},onDragEnd:()=>{me(!1),ae(null),Pt.current=null},onPointerDown:T=>{pe||!Tt||(Le.current=new Date,ln(Qt.current),T.target.setPointerCapture(T.pointerId),T.target.tagName!=="BUTTON"&&(me(!0),Pt.current={x:T.clientX,y:T.clientY}))},onPointerUp:()=>{var T,X,ne,Ae;if(vt||!Tt)return;Pt.current=null;let Ie=Number(((T=ge.current)==null?void 0:T.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),De=Number(((X=ge.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((ne=Le.current)==null?void 0:ne.getTime()),Je=ie==="x"?Ie:De,In=Math.abs(Je)/Ee;if(Math.abs(Je)>=e3||In>.11){ln(Qt.current),(Ae=h.onDismiss)==null||Ae.call(h,h),fe(ie==="x"?Ie>0?"right":"left":De>0?"down":"up"),N(),ve(!0),xe(!1);return}me(!1),ae(null)},onPointerMove:T=>{var X,ne,Ae,Ie;if(!Pt.current||!Tt||((X=window.getSelection())==null?void 0:X.toString().length)>0)return;let De=T.clientY-Pt.current.y,Ee=T.clientX-Pt.current.x,Je=(ne=t.swipeDirections)!=null?ne:n3($);!ie&&(Math.abs(Ee)>1||Math.abs(De)>1)&&ae(Math.abs(Ee)>Math.abs(De)?"x":"y");let In={x:0,y:0};ie==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&De<0||Je.includes("bottom")&&De>0)&&(In.y=De):ie==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Ee<0||Je.includes("right")&&Ee>0)&&(In.x=Ee),(Math.abs(In.x)>0||Math.abs(In.y)>0)&&xe(!0),(Ae=ge.current)==null||Ae.style.setProperty("--swipe-amount-x",`${In.x}px`),(Ie=ge.current)==null||Ie.style.setProperty("--swipe-amount-y",`${In.y}px`)}},is&&!h.jsx?V.createElement("button",{"aria-label":Q,"data-disabled":pe,"data-close-button":!0,onClick:pe||!Tt?()=>{}:()=>{var T;N(),(T=h.onDismiss)==null||T.call(h,h)},className:pn(M==null?void 0:M.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=W==null?void 0:W.close)!=null?i:$w):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:V.createElement(V.Fragment,null,Ue||h.icon||h.promise?V.createElement("div",{"data-icon":"",className:pn(M==null?void 0:M.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||U():null,h.type!=="loading"?h.icon||(W==null?void 0:W[Ue])||Rw(Ue):null):null,V.createElement("div",{"data-content":"",className:pn(M==null?void 0:M.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},V.createElement("div",{"data-title":"",className:pn(M==null?void 0:M.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?V.createElement("div",{"data-description":"",className:pn(x,kn,M==null?void 0:M.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&Uo(h.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||b,onClick:T=>{var X,ne;Uo(h.cancel)&&Tt&&((ne=(X=h.cancel).onClick)==null||ne.call(X,T),N())},className:pn(M==null?void 0:M.cancelButton,(p=h==null?void 0:h.classNames)==null?void 0:p.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&Uo(h.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:T=>{var X,ne;Uo(h.action)&&((ne=(X=h.action).onClick)==null||ne.call(X,T),!T.defaultPrevented&&N())},className:pn(M==null?void 0:M.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Bp(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function s3(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?Jw:Yw;function c(u){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var Tg=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:p="light",richColors:f,duration:d,style:h,visibleToasts:w=Gw,toastOptions:S,dir:k=Bp(),gap:y=Zw,loadingIcon:g,icons:v,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:I}=t,[j,_]=V.useState([]),P=V.useMemo(()=>Array.from(new Set([r].concat(j.filter(H=>H.position).map(H=>H.position)))),[j,r]),[z,b]=V.useState([]),[A,R]=V.useState(!1),[x,q]=V.useState(!1),[$,Y]=V.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=V.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=V.useRef(null),W=V.useRef(!1),Q=V.useCallback(H=>{_(ie=>{var ae;return(ae=ie.find(J=>J.id===H.id))!=null&&ae.delete||Lt.dismiss(H.id),ie.filter(({id:J})=>J!==H.id)})},[]);return V.useEffect(()=>Lt.subscribe(H=>{if(H.dismiss){_(ie=>ie.map(ae=>ae.id===H.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{J4.flushSync(()=>{_(ie=>{let ae=ie.findIndex(J=>J.id===H.id);return ae!==-1?[...ie.slice(0,ae),{...ie[ae],...H},...ie.slice(ae+1)]:[H,...ie]})})})}),[]),V.useEffect(()=>{if(p!=="system"){Y(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:ie})=>{Y(ie?"dark":"light")})}catch{H.addListener(({matches:ae})=>{try{Y(ae?"dark":"light")}catch(J){console.error(J)}})}},[p]),V.useEffect(()=>{j.length<=1&&R(!1)},[j]),V.useEffect(()=>{let H=ie=>{var ae,J;s.every(fe=>ie[fe]||ie.code===fe)&&(R(!0),(ae=F.current)==null||ae.focus()),ie.code==="Escape"&&(document.activeElement===F.current||(J=F.current)!=null&&J.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),V.useEffect(()=>{if(F.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,W.current=!1)}},[F.current]),V.createElement("section",{ref:e,"aria-label":`${C} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((H,ie)=>{var ae;let[J,fe]=H.split("-");return j.length?V.createElement("ol",{key:H,dir:k==="auto"?Bp():k,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":J,"data-lifted":A&&j.length>1&&!i,"data-x-position":fe,style:{"--front-toast-height":`${((ae=z[0])==null?void 0:ae.height)||0}px`,"--width":`${Xw}px`,"--gap":`${y}px`,...h,...s3(c,u)},onBlur:ee=>{W.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(W.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||W.current||(W.current=!0,M.current=ee.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{x||R(!1)},onDragEnd:()=>R(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},j.filter(ee=>!ee.position&&ie===0||ee.position===H).map((ee,Fe)=>{var Ne,ce;return V.createElement(r3,{key:ee.id,icons:v,index:Fe,toast:ee,defaultRichColors:f,duration:(Ne=S==null?void 0:S.duration)!=null?Ne:d,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ce=S==null?void 0:S.closeButton)!=null?ce:o,interacting:x,position:H,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,removeToast:Q,toasts:j.filter(je=>je.position==ee.position),heights:z.filter(je=>je.position==ee.position),setHeights:b,expandByDefault:i,gap:y,loadingIcon:g,expanded:A,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pg=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...a3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Pg("lucide",s),...l},[...o.map(([u,p])=>m.createElement(u,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(o3,{ref:i,iconNode:e,className:Pg(`lucide-${i3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Pe("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Pe("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Pe("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=Pe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function N3({currentView:t,setView:e,isAIChatOpen:n,onToggleAIChat:r,isSchemaTreeVisible:s,onToggleSchemaTree:i,userInfo:o,onLogout:l}){const[c,u]=m.useState(!1),p=m.useRef(null),f=()=>{u(h=>!h)},d=m.useCallback(h=>{const w=h.target;!w.closest(".user-menu-popup")&&!w.closest(".sidebar-profile")&&u(!1)},[]);return m.useEffect(()=>{if(c)return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[c,d]),a.jsxs("div",{className:"dbx-sidebar dark",children:[a.jsx(du,{icon:a.jsx(Od,{size:20}),tooltip:"Collections - Manage your database connections",isActive:t==="collections"&&!n,onClick:()=>{e("collections"),n&&r()}}),a.jsx(du,{icon:a.jsx(m3,{size:20}),tooltip:"AI Chat - Open AI assistant",isActive:n,onClick:()=>{t!=="collections"&&e("collections"),r()}}),t==="collections"&&!s&&a.jsx(du,{icon:a.jsx(y3,{size:20}),tooltip:"Show Schema Tree",isActive:!1,onClick:i}),a.jsx("div",{className:"sidebar-spacer"}),o&&a.jsx("div",{className:"sidebar-profile",ref:p,children:a.jsx("div",{className:"profile-icon-container",onClick:f,title:o.email,children:o.profile_pic_url?a.jsx("img",{src:o.profile_pic_url,alt:"Profile",className:"profile-icon profile-image"}):a.jsx("div",{className:"profile-icon",children:(o.first_name||o.name||o.email).charAt(0).toUpperCase()})})}),c&&o&&wc.createPortal(a.jsxs("div",{className:"user-menu-popup dark",children:[a.jsxs("div",{className:"user-menu-header",children:[a.jsxs("div",{className:"user-name",children:[o.first_name," ",o.last_name||o.name]}),a.jsx("div",{className:"user-email",children:o.email})]}),a.jsx("div",{className:"user-menu-divider"}),a.jsxs("div",{className:"user-menu-item",onClick:()=>{u(!1),l==null||l()},children:[a.jsx(p3,{size:14}),a.jsx("span",{children:"Sign Out"})]})]}),document.body)]})}function du({icon:t,tooltip:e,isActive:n,onClick:r}){const[s,i]=m.useState(!1),[o,l]=m.useState({left:0,top:0}),c=m.useRef(null),u=()=>{if(c.current){const p=c.current.getBoundingClientRect();l({left:60,top:p.top+p.height/2})}i(!0)};return a.jsxs("div",{ref:c,className:`sidebar-item dark ${n?"active":""}`,onClick:r,onMouseEnter:u,onMouseLeave:()=>i(!1),role:"button",tabIndex:0,children:[t,s&&wc.createPortal(a.jsx("div",{className:"sidebar-tooltip",style:{left:o.left,top:o.top,transform:"translateY(-50%)"},children:e}),document.body)]})}var Rg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wp=V.createContext&&V.createContext(Rg),k3=["attr","size","title"];function I3(t,e){if(t==null)return{};var n=b3(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}function Kp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kp(Object(n),!0).forEach(function(r){j3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j3(t,e,n){return e=T3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T3(t){var e=P3(t,"string");return typeof e=="symbol"?e:e+""}function P3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Og(t){return t&&t.map((e,n)=>V.createElement(e.tag,Hl({key:n},e.attr),Og(e.child)))}function de(t){return e=>V.createElement(A3,Bl({attr:Hl({},t.attr)},e),Og(t.child))}function A3(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=I3(t,k3),l=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),V.createElement("svg",Bl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Hl(Hl({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&V.createElement("title",null,i),t.children)};return Wp!==void 0?V.createElement(Wp.Consumer,null,n=>e(n)):e(Rg)}function R3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function O3(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ua(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function qr(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Ba(t){return de({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function L3(t){return de({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function M3(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(t)}function D3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function z3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function Qr(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function F3(t){return de({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function $3(t){return de({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(t)}function U3(t){return de({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function B3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Lg(t){return de({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(t)}function Ld(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function Mg(t){return de({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function Dg(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(t)}function zg(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Fg(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function H3(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(t)}function V3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Yh(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function W3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function $g(t){return de({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(t)}function Ug(t){return de({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(t)}function Bg(t){return de({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function Ha(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function K3(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function es(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function Vl(t){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(t)}function an(t){return de({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Hg(t){return de({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Ec(t){return de({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.74 12.89v-.11c.06-.15.12-.29.19-.43a5.15 5.15 0 0 0 .26-3.74.86.86 0 0 0-.66-.74 3.12 3.12 0 0 0-2.08.61v.18a11.34 11.34 0 0 1-.06 2.41 2.37 2.37 0 0 0 .62 2 2 2 0 0 0 1.43.63 8.05 8.05 0 0 1 .3-.81zM10 8.58a.36.36 0 0 1-.09-.23.19.19 0 0 1 .09-.12.74.74 0 0 1 .48-.07c.25 0 .5.16.48.34a.51.51 0 0 1-.49.33h-.06a.63.63 0 0 1-.41-.25z"},child:[]},{tag:"path",attr:{d:"M7.88 11a12.58 12.58 0 0 0 .06-2.3v-.28a7 7 0 0 1 1.54-4.55c-1-.32-3.4-1-4.87.1-.9.64-1.32 1.84-1.23 3.55a24.85 24.85 0 0 0 1 4.4c.68 2.22 1.45 3.62 2.11 3.85.1 0 .41.13.86-.41.64-.76 1.23-1.41 1.5-1.7l-.19-.19A2.89 2.89 0 0 1 7.88 11zm3.5 3.4c-.16-.06-.24-.1-.42.11a2.52 2.52 0 0 0-.29.35c-.35.43-.5.58-1.51.79a2 2 0 0 0-.4.11 1 1 0 0 0 .37.16 2.21 2.21 0 0 0 2.5-.8.41.41 0 0 0 0-.35.59.59 0 0 0-.25-.37zm6.29-5.82a5.29 5.29 0 0 0 .08-.79c-.66-.08-1.42-.07-1.72.36-.58.83.56 2.88 1 3.75a4.34 4.34 0 0 1 .26.48 1.79 1.79 0 0 0 .15.31 3.72 3.72 0 0 0 .16-2.13 7.51 7.51 0 0 1-.07-1.05 6 6 0 0 1 .14-.93zm-.56-.16a.6.6 0 0 1-.32.17h-.06a.47.47 0 0 1-.44-.3c0-.14.2-.24.44-.28s.48 0 .5.15a.38.38 0 0 1-.12.26z"},child:[]},{tag:"path",attr:{d:"M17 4.88a6.06 6.06 0 0 1 1.37 2.57.71.71 0 0 1 0 .15 5.67 5.67 0 0 1-.09 1.06 7.11 7.11 0 0 0-.09.86 6.61 6.61 0 0 0 .07 1 4 4 0 0 1-.36 2.71l.07.08c2.22-3.49 3-7.54 2.29-8.43a4.77 4.77 0 0 0-3.81-1.8 7.34 7.34 0 0 0-1.63.16A6.17 6.17 0 0 1 17 4.88z"},child:[]},{tag:"path",attr:{d:"M21.65 14c-.07-.2-.37-.85-1.47-.62a6.28 6.28 0 0 1-1 .13 19.74 19.74 0 0 0 2.06-4.88c.37-1.45.66-3.39-.11-4.38A5.91 5.91 0 0 0 16.37 2a8.44 8.44 0 0 0-2.46.35 9.38 9.38 0 0 0-1.45-.14 4.8 4.8 0 0 0-2.46.62 12.22 12.22 0 0 0-1.77-.44A5.44 5.44 0 0 0 4 3.05c-1.24.87-1.81 2.39-1.71 4.52a26.28 26.28 0 0 0 1 4.67A15.76 15.76 0 0 0 4.4 15a3.39 3.39 0 0 0 1.75 1.83 1.71 1.71 0 0 0 1.69-.37 2 2 0 0 0 1 .59 3.65 3.65 0 0 0 2.35-.14v.81a8.46 8.46 0 0 0 .31 2.36 1 1 0 0 1 0 .13 3 3 0 0 0 .71 1.24 2.08 2.08 0 0 0 1.49.56 3 3 0 0 0 .7-.08 3.27 3.27 0 0 0 2.21-1.27 7.34 7.34 0 0 0 .91-4v-.26h.17a5.24 5.24 0 0 0 2.4-.4c.45-.23 1.91-1 1.56-2zm-1.81 1.47a4.7 4.7 0 0 1-1.8.34 2.62 2.62 0 0 1-.79-.1c-.1.94-.32 2.69-.45 3.42a2.47 2.47 0 0 1-2.25 2.3 3.23 3.23 0 0 1-.66.07A2 2 0 0 1 12 20a16.77 16.77 0 0 1-.28-4.06 2.56 2.56 0 0 1-1.78.66 3.94 3.94 0 0 1-.94-.13c-.09 0-.87-.23-.86-.73s.66-.59.9-.64c.86-.18.92-.25 1.19-.59a2.79 2.79 0 0 1 .19-.24 2.56 2.56 0 0 1-1.11-.3c-.23.25-.86.93-1.54 1.74a1.43 1.43 0 0 1-1.11.63 1.23 1.23 0 0 1-.35 0C5.43 16 4.6 14.55 3.84 12a25.21 25.21 0 0 1-1-4.53c-.1-1.92.4-3.28 1.47-4 1.92-1.36 5-.31 5.7-.06a4 4 0 0 1 2.41-.66 5.58 5.58 0 0 1 1.4.18 7.51 7.51 0 0 1 2.5-.4 5.35 5.35 0 0 1 4.32 2c.69.88.23 3 0 3.89a18.84 18.84 0 0 1-2.41 5.41c.16.11.65.31 2 0 .46-.1.73 0 .82.25.22.55-.7 1.13-1.21 1.37z"},child:[]},{tag:"path",attr:{d:"M17.43 13.59a4 4 0 0 1-.62-1c0-.07-.12-.24-.23-.43-.58-1-1.79-3.22-1-4.34a2.16 2.16 0 0 1 2.12-.61 6.28 6.28 0 0 0-1.13-1.94 5.41 5.41 0 0 0-4.13-2 3.34 3.34 0 0 0-2.55.95A5.82 5.82 0 0 0 8.51 7.8l.15-.08A3.7 3.7 0 0 1 10 7.3a1.45 1.45 0 0 1 1.76 1.19 5.73 5.73 0 0 1-.29 4.09 3.29 3.29 0 0 0-.17.39v.11c-.1.27-.19.52-.25.73a.94.94 0 0 1 .57.07 1.16 1.16 0 0 1 .62.74v.16a.28.28 0 0 1 0 .09 22.22 22.22 0 0 0 .22 4.9 1.5 1.5 0 0 0 2 1.09A1.92 1.92 0 0 0 16.25 19c.15-.88.45-3.35.49-3.88 0-1.06.52-1.27.84-1.36z"},child:[]},{tag:"path",attr:{d:"m18 14.33-.08-.06h-.12c-.26.07-.5.14-.47.8a1.9 1.9 0 0 0 .93.12 4.29 4.29 0 0 0 1.38-.29 3 3 0 0 0 .79-.52 3.47 3.47 0 0 1-2.43-.05z"},child:[]}]})(t)}function Jh(t){return de({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.46192862,4.04007684 C5.18892668,4.03501656 4.99575061,4.06967946 4.79169495,4.11446291 L4.79169495,4.15152944 L4.82901449,4.15152944 C4.95944313,4.41909158 5.18943271,4.591394 5.35034952,4.82188962 C5.47407329,5.08262038 5.59817658,5.34297163 5.72227987,5.60332288 C5.73493056,5.5909252 5.74745474,5.57865403 5.75959941,5.56625635 C5.99047454,5.40394797 6.0957283,5.14410275 6.09471625,4.74737704 C6.00211318,4.64996671 5.98832392,4.52826705 5.90837155,4.4122602 C5.80235875,4.25754224 5.59615247,4.17012595 5.46192862,4.04007684 L5.46192862,4.04007684 Z M23.478665,23.1369293 C23.6543831,23.2658398 23.772161,23.4657208 24,23.5466852 L24,23.5093657 C23.8800714,23.3573044 23.8495833,23.1474294 23.7395222,22.9880306 C23.5786054,22.8271138 23.4164236,22.6655645 23.2555068,22.5040152 C22.7821179,21.8759083 22.1818425,21.3245911 21.5432356,20.8663831 C21.0345512,20.5006515 19.8944709,20.0072745 19.6819392,19.4148426 C19.6697946,19.4021919 19.6571439,19.3896677 19.6444932,19.3770171 C20.0054174,19.3365348 20.4283301,19.2059797 20.7614228,19.1165393 C21.3210894,18.9665021 21.8214243,19.0054662 22.3990549,18.8560615 C22.6600387,18.781296 22.9203899,18.7066569 23.1808677,18.6329033 L23.1808677,18.4834987 C22.8887632,18.1836773 22.6805328,17.7869515 22.3622414,17.5155942 C21.5283078,16.8061434 20.6188495,16.0966926 19.6818127,15.5056522 C19.1626283,15.1774933 18.5200996,14.9645821 17.969415,14.6865199 C17.7842089,14.5931578 17.4590861,14.5444526 17.3365009,14.3887226 C17.0476856,14.0198284 16.8899314,13.5523853 16.6667732,13.1228943 C16.1997097,12.2230506 15.740363,11.2403448 15.3263059,10.293567 C15.044322,9.6481287 14.8597484,9.01154587 14.5076796,8.43227067 C12.8174206,5.65329311 10.9976185,3.97581132 8.17942382,2.3270466 C7.57927498,1.97649592 6.85742648,1.83809735 6.09471625,1.65719245 C5.68546635,1.6325236 5.27545742,1.60734872 4.86620752,1.58267987 C4.61635635,1.47831166 4.35651113,1.17267094 4.12184079,1.02427832 C3.18796669,0.434503045 0.792811133,-0.848656668 0.10157731,0.838313141 C-0.335124586,1.90286889 0.753847001,2.94174374 1.14361483,3.48142227 C1.4172493,3.85980447 1.76704094,4.2842352 1.96287366,4.70967798 C2.09127818,4.98938478 2.11316388,5.27010364 2.22385744,5.56600333 C2.49432924,6.29518923 2.7293791,7.08838764 3.07929725,7.76241652 C3.25653344,8.10322617 3.45173363,8.46263233 3.67539786,8.76738751 C3.81265788,8.95449125 4.04720171,9.03684725 4.08401522,9.32578906 C3.85465817,9.64749617 3.84150145,10.1466925 3.7125909,10.5541713 C3.13065906,12.3887747 3.35014857,14.6686824 4.19660638,16.0266077 C4.45594557,16.443195 5.06773305,17.3374725 5.90837155,16.9942592 C6.64375629,16.6946908 6.47980332,15.76613 6.69018433,14.9469976 C6.73749792,14.760906 6.70865434,14.624405 6.80176344,14.5003017 L6.80176344,14.5373682 C7.02542767,14.9840642 7.2488389,15.4307601 7.47199711,15.8773296 C7.96815726,16.6759678 8.84826592,17.5111665 9.59415073,18.0739958 C9.98037636,18.3659737 10.2848785,18.8709894 10.7852134,19.0419002 L10.7852134,19.0040746 L10.7478939,19.0040746 C10.6504835,18.8536579 10.4989282,18.790531 10.3759635,18.6694638 C10.0844916,18.3836847 9.76050733,18.0287063 9.51938514,17.7014329 C8.84080201,16.780589 8.24153872,15.7725818 7.69553484,14.7235864 C7.43455106,14.2224925 7.20785066,13.6697838 6.98785512,13.1600874 C6.90322199,12.9633691 6.90423404,12.6662043 6.72737736,12.5643663 C6.48650818,12.9378147 6.13190928,13.2401663 5.94556458,13.6811694 C5.64776729,14.386319 5.60943569,15.2461865 5.49899515,16.1379338 C5.43371758,16.1614641 5.46268766,16.1453977 5.42422956,16.1750003 C4.90555118,16.0502645 4.72350772,15.5164053 4.53096418,15.0584502 C4.04378602,13.9006589 3.95333357,12.0360734 4.38206553,10.7030699 C4.4930121,10.3583386 4.99499157,9.27202362 4.79131543,8.95347919 C4.69441112,8.63544079 4.37510765,8.45187925 4.19635337,8.20885945 C3.97420721,7.90853201 3.75332613,7.5134509 3.59974672,7.16644241 C3.20150293,6.26368901 3.01528474,5.25024206 2.59540827,4.33749461 C2.39451528,3.90142525 2.0550972,3.45966308 1.77627595,3.07166635 C1.46759906,2.64204884 1.12185564,2.32578153 0.882884062,1.80583808 C0.797744903,1.62126448 0.681991069,1.32587082 0.808244978,1.13598393 C0.848094658,1.00783242 0.905022773,0.954446496 1.03190922,0.912572704 C1.24810955,0.746089595 1.84889092,0.967982736 2.07394674,1.06147135 C2.67055338,1.30929841 3.16924367,1.54548684 3.67489184,1.88035066 C3.91740561,2.04126747 4.16295554,2.35272751 4.45607208,2.43887872 L4.79118892,2.43887872 C5.31568662,2.5591868 5.90280525,2.47645128 6.39200751,2.62509691 C7.25744137,2.8881048 8.0329288,3.29722819 8.73719284,3.74202653 C10.8826237,5.09653615 12.6370217,7.02526068 13.8370664,9.32578906 C14.030116,9.69620133 14.1138635,10.0496617 14.2836358,10.4427187 C14.6265961,11.2350315 15.0591233,12.0501156 15.4004389,12.825097 C15.7408691,13.5978013 16.0728232,14.3779695 16.5541821,15.0213837 C16.8071959,15.3594102 17.7850944,15.5408211 18.2297663,15.7288104 C18.5412263,15.8602511 19.0514287,15.9976376 19.3460633,16.1750003 C19.9100312,16.5151775 20.4556556,16.9197466 20.9842015,17.292183 C21.2483479,17.4785277 22.0606489,17.886639 22.1006251,18.2223884 C20.7916579,18.1877255 19.7916207,18.3092986 18.9366869,18.6695903 C18.6936671,18.7716814 18.3064295,18.7747176 18.2664533,19.0787137 C18.4000446,19.2186304 18.4211712,19.4281259 18.527437,19.6000488 C18.7309867,19.9304848 19.0755915,20.3728795 19.3833829,20.6053993 C19.7195118,20.8590456 20.0657612,21.130403 20.4255469,21.3498925 C21.0663045,21.7407989 21.7818276,21.9638306 22.3984224,22.3551165 C22.7632683,22.5861182 23.1241926,22.8764515 23.478665,23.1369293 L23.478665,23.1369293 Z"},child:[]}]})(t)}function Vg(t){return de({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.333 10H24v4h-2.667ZM16 1.335h2.667v21.33H16Zm-5.333 0h2.666v21.33h-2.666ZM0 22.665V1.335h2.667v21.33zm5.333-21.33H8v21.33H5.333Z"},child:[]}]})(t)}function Wg(t){return de({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.157 4.412c-.676.284-.79.31-1.673.372-.65.045-.757.057-1.212.209-.75.246-1.395.75-2.02 1.59-.296.398-1.249 1.913-1.249 1.988 0 .057-.65.998-.915 1.32-.574.713-1.08 1.079-2.14 1.59-.77.36-1.224.524-4.102 1.477-1.073.353-2.133.738-2.367.864-.852.449-1.515 1.036-2.203 1.938-1.003 1.32-.972 1.313-3.042.947a12.264 12.264 0 00-.675-.063c-.644-.05-1.023.044-1.332.334L0 17.193l.177.088c.094.05.353.234.561.398.215.17.461.347.55.391.088.044.17.088.183.101.012.013-.089.17-.228.353-.435.581-.593.871-.574 1.048.019.164.032.17.43.17.517-.006.826-.056 1.261-.208.65-.233 2.058-.94 2.784-1.4.776-.5 1.717-.998 1.956-1.042.082-.02.354-.07.594-.114.58-.107 1.464-.095 2.587.05.108.013.373.045.6.064.227.025.43.057.454.076.026.012.474.037.998.056.934.026 1.104.007 1.3-.189.126-.133.385-.631.498-.985.209-.643.417-.921.366-.492-.113.966-.322 1.692-.713 2.411-.259.499-.663 1.092-.934 1.395-.322.347-.315.36.088.315.619-.063 1.471-.397 2.096-.82.827-.562 1.647-1.691 2.19-3.03.107-.27.22-.22.183.083-.013.094-.038.315-.057.498l-.031.328.353-.202c.833-.48 1.414-1.262 2.127-2.884.227-.518.877-2.922 1.073-3.976a9.64 9.64 0 01.271-1.042c.127-.429.196-.555.48-.858.183-.19.625-.555.978-.808.72-.505.953-.75 1.187-1.205.208-.417.284-1.13.132-1.357-.132-.202-.284-.196-.763.006Z"},child:[]}]})(t)}function Cc(t){return de({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 3.459c0 .646-.418 1.18-1.141 1.18-.723 0-1.142-.534-1.142-1.18 0-.647.419-1.18 1.142-1.18.723 0 1.141.533 1.141 1.18zm-.228 0c0-.533-.38-.951-.913-.951s-.913.38-.913.95c0 .533.38.952.913.952.57 0 .913-.419.913-.951zm-1.37-.533h.495c.266 0 .456.152.456.38 0 .153-.076.229-.19.305l.19.266v.038h-.266l-.19-.266h-.229v.266h-.266zm.495.228h-.229v.267h.229c.114 0 .152-.038.152-.114.038-.077-.038-.153-.152-.153zM7.602 12.4c.038-.151.076-.304.076-.456 0-.114-.038-.228-.038-.342-.114-.343-.304-.647-.646-.838l-4.87-2.777c-.685-.38-1.56-.152-1.94.533-.381.685-.153 1.56.532 1.94l2.701 1.56-2.701 1.56c-.685.38-.913 1.256-.533 1.94.38.685 1.256.914 1.94.533l4.832-2.777c.343-.267.571-.533.647-.876zm1.332 2.626c-.266-.038-.57.038-.837.19l-4.832 2.777c-.685.38-.913 1.256-.532 1.94.38.686 1.255.914 1.94.533l2.701-1.56v3.12c0 .8.647 1.408 1.446 1.408.799 0 1.407-.647 1.407-1.408v-5.592c0-.761-.57-1.37-1.293-1.408zm4.946-6.088c.266.038.57-.038.837-.19l4.832-2.777c.685-.38.913-1.256.532-1.94-.38-.686-1.255-.914-1.94-.533l-2.701 1.56V1.975c0-.799-.647-1.408-1.446-1.408-.799 0-1.446.609-1.446 1.408V7.53c0 .76.609 1.37 1.332 1.407zM3.265 5.97l4.832 2.777c.266.152.533.19.837.19.723-.038 1.331-.684 1.331-1.407V1.975c0-.799-.646-1.408-1.407-1.408-.799 0-1.446.647-1.446 1.408v3.12l-2.701-1.56c-.685-.38-1.56-.152-1.94.533-.419.646-.19 1.521.494 1.902zm9.093 6.011a.412.412 0 00-.114-.266l-.57-.571a.346.346 0 00-.267-.114.412.412 0 00-.266.114l-.571.57a.411.411 0 00-.114.267c0 .076.038.19.114.267l.57.57a.345.345 0 00.267.114c.076 0 .19-.038.266-.114l.571-.57a.412.412 0 00.114-.267zm1.598.533L11.94 14.53c-.039.038-.153.114-.229.114h-.608a.411.411 0 01-.267-.114L8.82 12.514a.408.408 0 01-.076-.229v-.608c0-.076.038-.19.114-.267l2.016-2.016a.41.41 0 01.267-.114h.608a.41.41 0 01.267.114l2.016 2.016a.347.347 0 01.114.267v.608c-.076.077-.114.19-.19.229zm5.593 5.44l-4.832-2.777c-.266-.152-.57-.19-.837-.152-.723.038-1.332.684-1.332 1.408v5.554c0 .8.647 1.408 1.408 1.408.799 0 1.446-.647 1.446-1.408v-3.12l2.7 1.56c.686.38 1.561.152 1.941-.533.419-.646.19-1.521-.494-1.94zm2.549-7.533l-2.701 1.56 2.7 1.56c.686.38.914 1.256.533 1.94-.38.685-1.255.913-1.94.533l-4.832-2.778a1.644 1.644 0 01-.647-.798c-.037-.153-.076-.305-.076-.457 0-.114.039-.228.039-.342.114-.343.342-.647.646-.837l4.832-2.778c.685-.38 1.56-.152 1.94.533.457.609.19 1.484-.494 1.864"},child:[]}]})(t)}function Xh(t){return de({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71 8.71 0 0 0-.547.535c-2.109 2.237-4.066 6.38-4.674 9.544.237.48.422 1.093.544 1.561a13.044 13.044 0 0 1 .164.703s-.019-.071-.096-.296l-.05-.146a1.689 1.689 0 0 0-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376 1.176.484.884.778 2.4.778 2.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304 1.346-.226 1.478.152.256.296.698.422 1.186.286 1.1.485 2.44.485 2.44l.017.224a22.41 22.41 0 0 0 .056 2.748c.095 1.146.273 2.13.5 2.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29 1.661-8.304 1.723-4.55 4.113-8.201 6.3-9.945-1.993 1.8-4.692 7.63-5.5 9.788-.904 2.416-1.545 4.684-1.931 6.857.666-2.037 2.821-2.912 2.821-2.912s1.057-1.304 2.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184 3.613-1.72C21.695 7.9 24.195 2.767 21.678.521m-18.573.543A1.842 1.842 0 0 0 1.27 2.9v16.608a1.84 1.84 0 0 0 1.835 1.834h9.418a22.953 22.953 0 0 1-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01 27.01 0 0 0-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432 0-.12.015-.245.037-.386a9.98 9.98 0 0 1 .234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8 32.8 0 0 1 .382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28 2.587-7.443 4.8-9.791.066-.069.133-.128.198-.194Z"},child:[]}]})(t)}function q3(t){return de({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.22 14.47 9.69 12 7.22 9.53a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l3 3a.75.75 0 0 1 0 1.06l-3 3a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Z"},child:[]},{tag:"path",attr:{d:"M3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H3.75A1.75 1.75 0 0 1 2 20.25V3.75C2 2.784 2.784 2 3.75 2ZM3.5 3.75v16.5c0 .138.112.25.25.25H15v-17H3.75a.25.25 0 0 0-.25.25Zm13 16.75h3.75a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25H16.5Z"},child:[]}]})(t)}function Q3(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"},child:[]},{tag:"path",attr:{d:"M4 6v6c0 1.657 3.582 3 8 3c1.075 0 2.1 -.08 3.037 -.224"},child:[]},{tag:"path",attr:{d:"M20 12v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6c0 1.657 3.582 3 8 3c.166 0 .331 -.002 .495 -.006"},child:[]},{tag:"path",attr:{d:"M16 19h6"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]}]})(t)}function Va(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 2h5v4h-5z"},child:[]},{tag:"path",attr:{d:"M15 10h5v4h-5z"},child:[]},{tag:"path",attr:{d:"M5 18h5v4h-5z"},child:[]},{tag:"path",attr:{d:"M5 10h5v4h-5z"},child:[]},{tag:"path",attr:{d:"M10 12h5"},child:[]},{tag:"path",attr:{d:"M7.5 6v4"},child:[]},{tag:"path",attr:{d:"M7.5 14v4"},child:[]}]})(t)}function G3(t){return t[0]??{}}function Wl(t){return Array.isArray(t)?t:t==null?[]:[t]}const qp="orpc",Y3="@orpc/shared",J3="1.13.4";class X3 extends Error{constructor(...e){super(...e),this.name="AbortError"}}function Z3(t){let e;return()=>{if(e)return e.result;const n=t();return e={result:n},n}}function e6(t){let e=Promise.resolve();return(...n)=>e=e.catch(()=>{}).then(()=>t(...n))}const t6=2,n6=`__${Y3}@${J3}/otel/config__`;function xc(){return globalThis[n6]}function Zh(t,e={},n){var s;const r=(s=xc())==null?void 0:s.tracer;return r==null?void 0:r.startSpan(t,e,n)}function As(t,e,n={}){var s;if(!t)return;const r=r6(e);t.recordException(r),(!((s=n.signal)!=null&&s.aborted)||n.signal.reason!==e)&&t.setStatus({code:t6,message:r.message})}function r6(t){if(t instanceof Error){const e={message:t.message,name:t.name,stack:t.stack};return"code"in t&&(typeof t.code=="string"||typeof t.code=="number")&&(e.code=t.code),e}return{message:String(t)}}async function aa({name:t,context:e,...n},r){var o;const s=(o=xc())==null?void 0:o.tracer;if(!s)return r();const i=async l=>{try{return await r(l)}catch(c){throw As(l,c,n),c}finally{l.end()}};return e?s.startActiveSpan(t,n,e,i):s.startActiveSpan(t,n,i)}async function Ri(t,e){const n=xc();if(!t||!n)return e();const r=n.trace.setSpan(n.context.active(),t);return n.context.with(r,e)}function Oi(t){return!t||typeof t!="object"?!1:"next"in t&&typeof t.next=="function"&&Symbol.asyncIterator in t&&typeof t[Symbol.asyncIterator]=="function"}const s6=Symbol.for("asyncDispose"),i6=Symbol.asyncDispose??s6;var Rn,vn,Or,ro;class ef{constructor(e,n){re(this,Rn,!1);re(this,vn,!1);re(this,Or);re(this,ro);K(this,Or,n),K(this,ro,e6(async()=>{if(E(this,Rn))return{done:!0,value:void 0};try{const r=await e();return r.done&&K(this,Rn,!0),r}catch(r){throw K(this,Rn,!0),r}finally{E(this,Rn)&&!E(this,vn)&&(K(this,vn,!0),await E(this,Or).call(this,"next"))}}))}next(){return E(this,ro).call(this)}async return(e){return K(this,Rn,!0),E(this,vn)||(K(this,vn,!0),await E(this,Or).call(this,"return")),{done:!0,value:e}}async throw(e){throw K(this,Rn,!0),E(this,vn)||(K(this,vn,!0),await E(this,Or).call(this,"throw")),e}async[i6](){K(this,Rn,!0),E(this,vn)||(K(this,vn,!0),await E(this,Or).call(this,"dispose"))}[Symbol.asyncIterator](){return this}}Rn=new WeakMap,vn=new WeakMap,Or=new WeakMap,ro=new WeakMap;function Qp({name:t,...e},n){let r;return new ef(async()=>{r??(r=Zh(t));try{const s=await Ri(r,()=>n.next());return r==null||r.addEvent(s.done?"completed":"yielded"),s}catch(s){throw As(r,s,e),s}},async s=>{try{s!=="next"&&await Ri(r,()=>{var i;return(i=n.return)==null?void 0:i.call(n)})}catch(i){throw As(r,i,e),i}finally{r==null||r.end()}})}function Md(t,e,n){const r=(s,i)=>{const o=t[i];return o?o({...s,next:(l=s)=>r(l,i+1)}):n(s)};return r(e,0)}function ol(t){if(t)return JSON.parse(t)}function Wa(t){return JSON.stringify(t)}function a6(t){var e;return Li(t)?(e=Object.getPrototypeOf(t))==null?void 0:e.constructor:null}function Kg(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||!e||!e.constructor}function Li(t){return!!t&&(typeof t=="object"||typeof t=="function")}function Bo(t,...e){return typeof t=="function"?t(...e):t}function qg(t){return new Proxy(t,{get(e,n,r){const s=Reflect.get(e,n,r);return n!=="then"||typeof s!="function"?s:new Proxy(s,{apply(i,o,l){if(l.length!==2||l.some(u=>!l6(u)))return Reflect.apply(i,o,l);let c=!0;l[0].call(o,qg(new Proxy(e,{get:(u,p,f)=>{if(c&&p==="then"){c=!1;return}return Reflect.get(u,p,f)}})))}})}})}const o6=/^\s*function\s*\(\)\s*\{\s*\[native code\]\s*\}\s*$/;function l6(t){return typeof t=="function"&&o6.test(t.toString())}function c6(t){try{return decodeURIComponent(t)}catch{return t}}const u6="@orpc/client",d6="1.13.4",tf={BAD_REQUEST:{status:400,message:"Bad Request"},UNAUTHORIZED:{status:401,message:"Unauthorized"},FORBIDDEN:{status:403,message:"Forbidden"},NOT_FOUND:{status:404,message:"Not Found"},METHOD_NOT_SUPPORTED:{status:405,message:"Method Not Supported"},NOT_ACCEPTABLE:{status:406,message:"Not Acceptable"},TIMEOUT:{status:408,message:"Request Timeout"},CONFLICT:{status:409,message:"Conflict"},PRECONDITION_FAILED:{status:412,message:"Precondition Failed"},PAYLOAD_TOO_LARGE:{status:413,message:"Payload Too Large"},UNSUPPORTED_MEDIA_TYPE:{status:415,message:"Unsupported Media Type"},UNPROCESSABLE_CONTENT:{status:422,message:"Unprocessable Content"},TOO_MANY_REQUESTS:{status:429,message:"Too Many Requests"},CLIENT_CLOSED_REQUEST:{status:499,message:"Client Closed Request"},INTERNAL_SERVER_ERROR:{status:500,message:"Internal Server Error"},NOT_IMPLEMENTED:{status:501,message:"Not Implemented"},BAD_GATEWAY:{status:502,message:"Bad Gateway"},SERVICE_UNAVAILABLE:{status:503,message:"Service Unavailable"},GATEWAY_TIMEOUT:{status:504,message:"Gateway Timeout"}};function h6(t,e){var n;return e??((n=tf[t])==null?void 0:n.status)??500}function f6(t,e){var n;return e||((n=tf[t])==null?void 0:n.message)||t}const ll=Symbol.for(`__${u6}@${d6}/error/ORPC_ERROR_CONSTRUCTORS__`);globalThis[ll]??(globalThis[ll]=new WeakSet);const Dd=globalThis[ll];class Ka extends Error{constructor(n,...r){const s=G3(r);if(s.status!==void 0&&!nf(s.status))throw new Error("[ORPCError] Invalid error status code.");const i=f6(n,s.message);super(i,s);Be(this,"defined");Be(this,"code");Be(this,"status");Be(this,"data");this.code=n,this.status=h6(n,s.status),this.defined=s.defined??!1,this.data=s.data}toJSON(){return{defined:this.defined,code:this.code,status:this.status,message:this.message,data:this.data}}static[Symbol.hasInstance](n){if(Dd.has(this)){const r=a6(n);if(r&&Dd.has(r))return!0}return super[Symbol.hasInstance](n)}}Dd.add(Ka);function p6(t){return t instanceof Ka?t:new Ka("INTERNAL_SERVER_ERROR",{message:"Internal server error",cause:t})}function nf(t){return t<200||t>=400}function Qg(t){if(!Kg(t))return!1;const e=["defined","code","status","message","data"];return Object.keys(t).some(n=>!e.includes(n))?!1:"defined"in t&&typeof t.defined=="boolean"&&"code"in t&&typeof t.code=="string"&&"status"in t&&typeof t.status=="number"&&nf(t.status)&&"message"in t&&typeof t.message=="string"}function Gg(t,e={}){return new Ka(t.code,{...e,...t})}class _c extends TypeError{}class m6 extends TypeError{}class li extends Error{constructor(n){super((n==null?void 0:n.message)??"An error event was received",n);Be(this,"data");this.data=n==null?void 0:n.data}}function g6(t){var r;const e=t.replace(/\n+$/,"").split(/\n/),n={data:void 0,event:void 0,id:void 0,retry:void 0,comments:[]};for(const s of e){const i=s.indexOf(":"),o=i===-1?s:s.slice(0,i),l=i===-1?"":s.slice(i+1).replace(/^\s/,"");if(i===0)n.comments.push(l);else if(o==="data")n.data??(n.data=""),n.data+=`${l}
`;else if(o==="event")n.event=l;else if(o==="id")n.id=l;else if(o==="retry"){const c=Number.parseInt(l);Number.isInteger(c)&&c>=0&&c.toString()===l&&(n.retry=c)}}return n.data=(r=n.data)==null?void 0:r.replace(/\n$/,""),n}class y6{constructor(e={}){Be(this,"incomplete","");this.options=e}feed(e){this.incomplete+=e;const n=this.incomplete.lastIndexOf(`

`);if(n===-1)return;const r=this.incomplete.slice(0,n).split(/\n\n/);this.incomplete=this.incomplete.slice(n+2);for(const s of r){const i=g6(`${s}

`);this.options.onEvent&&this.options.onEvent(i)}}end(){if(this.incomplete)throw new m6("Event Iterator ended before complete")}}class v6 extends TransformStream{constructor(){let e;super({start(n){e=new y6({onEvent:r=>{n.enqueue(r)}})},transform(n){e.feed(n)},flush(){e.end()}})}}function Yg(t){if(t.includes(`
`))throw new _c("Event's id must not contain a newline character")}function w6(t){if(t.includes(`
`))throw new _c("Event's event must not contain a newline character")}function Jg(t){if(!Number.isInteger(t)||t<0)throw new _c("Event's retry must be a integer and >= 0")}function Xg(t){if(t.includes(`
`))throw new _c("Event's comment must not contain a newline character")}function S6(t){const e=(t==null?void 0:t.split(/\n/))??[];let n="";for(const r of e)n+=`data: ${r}
`;return n}function E6(t){let e="";for(const n of t??[])Xg(n),e+=`: ${n}
`;return e}function Ho(t){let e="";return e+=E6(t.comments),t.event!==void 0&&(w6(t.event),e+=`event: ${t.event}
`),t.retry!==void 0&&(Jg(t.retry),e+=`retry: ${t.retry}
`),t.id!==void 0&&(Yg(t.id),e+=`id: ${t.id}
`),e+=S6(t.data),e+=`
`,e}const Zg=Symbol("ORPC_EVENT_SOURCE_META");function wa(t,e){var n;if(e.id===void 0&&e.retry===void 0&&!((n=e.comments)!=null&&n.length))return t;if(e.id!==void 0&&Yg(e.id),e.retry!==void 0&&Jg(e.retry),e.comments!==void 0)for(const r of e.comments)Xg(r);return new Proxy(t,{get(r,s,i){return s===Zg?e:Reflect.get(r,s,i)}})}function Kl(t){return Li(t)?Reflect.get(t,Zg):void 0}function C6(t){const e=t.replace(/"/g,'\\"'),n=encodeURIComponent(t).replace(/['()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`).replace(/%(7C|60|5E)/g,(r,s)=>String.fromCharCode(Number.parseInt(s,16)));return`inline; filename="${e}"; filename*=utf-8''${n}`}function x6(t){const e=t.match(/filename\*=(UTF-8'')?([^;]*)/i);if(e&&typeof e[2]=="string")return c6(e[2]);const n=t.match(/filename="((?:\\"|[^"])*)"/i);if(n&&typeof n[1]=="string")return n[1].replace(/\\"/g,'"')}function _6(t,e){const n={...t};for(const r in e)Array.isArray(e[r])?n[r]=[...Wl(n[r]),...e[r]]:e[r]!==void 0&&(Array.isArray(n[r])?n[r]=[...n[r],e[r]]:n[r]!==void 0?n[r]=[n[r],e[r]]:n[r]=e[r]);return n}function Gp(t,e){const n=async r=>{let s=await e.error(r);if(s!==r){const i=Kl(r);i&&Li(s)&&(s=wa(s,i))}return s};return new ef(async()=>{const{done:r,value:s}=await(async()=>{try{return await t.next()}catch(o){throw await n(o)}})();let i=await e.value(s,r);if(i!==s){const o=Kl(s);o&&Li(i)&&(i=wa(i,o))}return{done:r,value:i}},async()=>{var r;try{await((r=t.return)==null?void 0:r.call(t))}catch(s){throw await n(s)}})}function N6(t){return{...t,context:t.context??{}}}function e2(t,e={}){const n=e.path??[],r=async(...[i,o={}])=>await t.call(n,i,N6(o)),s=new Proxy(r,{get(i,o){return typeof o!="string"?Reflect.get(i,o):e2(t,{...e,path:[...n,o]})}});return qg(s)}function k6(t,e={}){const n=t==null?void 0:t.pipeThrough(new TextDecoderStream).pipeThrough(new v6),r=n==null?void 0:n.getReader();let s,i=!1;return new ef(async()=>{s??(s=Zh("consume_event_iterator_stream"));try{for(;;){if(r===void 0)return{done:!0,value:void 0};const{done:o,value:l}=await Ri(s,()=>r.read());if(o){if(i)throw new X3("Stream was cancelled");return{done:!0,value:void 0}}switch(l.event){case"message":{let c=ol(l.data);return Li(c)&&(c=wa(c,l)),s==null||s.addEvent("message"),{done:!1,value:c}}case"error":{let c=new li({data:ol(l.data)});throw c=wa(c,l),s==null||s.addEvent("error"),c}case"done":{let c=ol(l.data);return Li(c)&&(c=wa(c,l)),s==null||s.addEvent("done"),{done:!0,value:c}}default:s==null||s.addEvent("maybe_keepalive")}}}catch(o){throw o instanceof li||As(s,o,e),o}},async o=>{try{o!=="next"&&(i=!0,s==null||s.addEvent("cancelled")),await Ri(s,()=>r==null?void 0:r.cancel())}catch(l){throw As(s,l,e),l}finally{s==null||s.end()}})}function I6(t,e={}){const n=e.eventIteratorKeepAliveEnabled??!0,r=e.eventIteratorKeepAliveInterval??5e3,s=e.eventIteratorKeepAliveComment??"",i=e.eventIteratorInitialCommentEnabled??!0,o=e.eventIteratorInitialComment??"";let l=!1,c,u;return new ReadableStream({start(f){u=Zh("stream_event_iterator"),i&&f.enqueue(Ho({comments:[o]}))},async pull(f){try{n&&(c=setInterval(()=>{f.enqueue(Ho({comments:[s]})),u==null||u.addEvent("keepalive")},r));const d=await Ri(u,()=>t.next());if(clearInterval(c),l)return;const h=Kl(d.value);if(!d.done||d.value!==void 0||h!==void 0){const w=d.done?"done":"message";f.enqueue(Ho({...h,event:w,data:Wa(d.value)})),u==null||u.addEvent(w)}d.done&&(f.close(),u==null||u.end())}catch(d){if(clearInterval(c),l)return;d instanceof li?(f.enqueue(Ho({...Kl(d),event:"error",data:Wa(d.data)})),u==null||u.addEvent("error"),f.close()):(As(u,d),f.error(d)),u==null||u.end()}},async cancel(){try{l=!0,clearInterval(c),u==null||u.addEvent("cancelled"),await Ri(u,()=>{var f;return(f=t.return)==null?void 0:f.call(t)})}catch(f){throw As(u,f),f}finally{u==null||u.end()}}}).pipeThrough(new TextEncoderStream)}function b6(t,e={}){return aa({name:"parse_standard_body",signal:e.signal},async()=>{const n=t.headers.get("content-disposition");if(typeof n=="string"){const i=x6(n)??"blob",o=await t.blob();return new File([o],i,{type:o.type})}const r=t.headers.get("content-type");if(!r||r.startsWith("application/json")){const i=await t.text();return ol(i)}if(r.startsWith("multipart/form-data"))return await t.formData();if(r.startsWith("application/x-www-form-urlencoded")){const i=await t.text();return new URLSearchParams(i)}if(r.startsWith("text/event-stream"))return k6(t.body,e);if(r.startsWith("text/plain"))return await t.text();const s=await t.blob();return new File([s],"blob",{type:s.type})})}function j6(t,e,n={}){const r=e.get("content-disposition");if(e.delete("content-type"),e.delete("content-disposition"),t!==void 0)return t instanceof Blob?(e.set("content-type",t.type),e.set("content-length",t.size.toString()),e.set("content-disposition",r??C6(t instanceof File?t.name:"blob")),t):t instanceof FormData||t instanceof URLSearchParams?t:Oi(t)?(e.set("content-type","text/event-stream"),I6(t,n)):(e.set("content-type","application/json"),Wa(t))}function t2(t,e={}){return t.forEach((n,r)=>{Array.isArray(e[r])?e[r].push(n):e[r]!==void 0?e[r]=[e[r],n]:e[r]=n}),e}function T6(t,e=new Headers){for(const[n,r]of Object.entries(t))if(Array.isArray(r))for(const s of r)e.append(n,s);else r!==void 0&&e.append(n,r);return e}function P6(t,e={}){const n=T6(t.headers),r=j6(t.body,n,e);return new Request(t.url,{signal:t.signal,method:t.method,headers:n,body:r})}function A6(t,e={}){return{body:Z3(()=>b6(t,e)),status:t.status,get headers(){const n=t2(t.headers);return Object.defineProperty(this,"headers",{value:n,writable:!0}),n},set headers(n){Object.defineProperty(this,"headers",{value:n,writable:!0})}}}class n2{constructor(e=[]){Be(this,"plugins");this.plugins=[...e].sort((n,r)=>(n.order??0)-(r.order??0))}init(e){var n;for(const r of this.plugins)(n=r.init)==null||n.call(r,e)}}class R6{constructor(e,n,r={}){Be(this,"interceptors");Be(this,"clientInterceptors");this.codec=e,this.sender=n,new n2(r.plugins).init(r),this.interceptors=Wl(r.interceptors),this.clientInterceptors=Wl(r.clientInterceptors)}call(e,n,r){return aa({name:`${qp}.${e.join("/")}`,signal:r.signal},s=>(s==null||s.setAttribute("rpc.system",qp),s==null||s.setAttribute("rpc.method",e.join(".")),Oi(n)&&(n=Qp({name:"consume_event_iterator_input",signal:r.signal},n)),Md(this.interceptors,{...r,path:e,input:n},async({path:i,input:o,...l})=>{const c=xc();let u;const p=(c==null?void 0:c.trace.getActiveSpan())??s;p&&c&&(u=c==null?void 0:c.trace.setSpan(c.context.active(),p));const f=await aa({name:"encode_request",context:u},()=>this.codec.encode(i,o,l)),d=await Md(this.clientInterceptors,{...l,input:o,path:i,request:f},({input:w,path:S,request:k,...y})=>aa({name:"send_request",signal:y.signal,context:u},()=>this.sender.call(k,y,S,w))),h=await aa({name:"decode_response",context:u},()=>this.codec.decode(d,l,i,o));return Oi(h)?Qp({name:"consume_event_iterator_output",signal:l.signal},h):h})))}}const mt={BIGINT:0,DATE:1,NAN:2,UNDEFINED:3,URL:4,REGEXP:5,SET:6,MAP:7};class O6{constructor(e={}){Be(this,"customSerializers");if(this.customSerializers=e.customJsonSerializers??[],this.customSerializers.length!==new Set(this.customSerializers.map(n=>n.type)).size)throw new Error("Custom serializer type must be unique.")}serialize(e,n=[],r=[],s=[],i=[]){for(const o of this.customSerializers)if(o.condition(e)){const l=this.serialize(o.serialize(e),n,r,s,i);return r.push([o.type,...n]),l}if(e instanceof Blob)return s.push(n),i.push(e),[e,r,s,i];if(typeof e=="bigint")return r.push([mt.BIGINT,...n]),[e.toString(),r,s,i];if(e instanceof Date)return r.push([mt.DATE,...n]),Number.isNaN(e.getTime())?[null,r,s,i]:[e.toISOString(),r,s,i];if(Number.isNaN(e))return r.push([mt.NAN,...n]),[null,r,s,i];if(e instanceof URL)return r.push([mt.URL,...n]),[e.toString(),r,s,i];if(e instanceof RegExp)return r.push([mt.REGEXP,...n]),[e.toString(),r,s,i];if(e instanceof Set){const o=this.serialize(Array.from(e),n,r,s,i);return r.push([mt.SET,...n]),o}if(e instanceof Map){const o=this.serialize(Array.from(e.entries()),n,r,s,i);return r.push([mt.MAP,...n]),o}if(Array.isArray(e))return[e.map((l,c)=>l===void 0?(r.push([mt.UNDEFINED,...n,c]),l):this.serialize(l,[...n,c],r,s,i)[0]),r,s,i];if(Kg(e)){const o={};for(const l in e)l==="toJSON"&&typeof e[l]=="function"||(o[l]=this.serialize(e[l],[...n,l],r,s,i)[0]);return[o,r,s,i]}return[e,r,s,i]}deserialize(e,n,r,s){const i={data:e};r&&s&&r.forEach((o,l)=>{let c=i,u="data";o.forEach(p=>{c=c[u],u=p}),c[u]=s(l)});for(const o of n){const l=o[0];let c=i,u="data";for(let p=1;p<o.length;p++)c=c[u],u=o[p];for(const p of this.customSerializers)if(p.type===l){c[u]=p.deserialize(c[u]);break}switch(l){case mt.BIGINT:c[u]=BigInt(c[u]);break;case mt.DATE:c[u]=new Date(c[u]??"Invalid Date");break;case mt.NAN:c[u]=Number.NaN;break;case mt.UNDEFINED:c[u]=void 0;break;case mt.URL:c[u]=new URL(c[u]);break;case mt.REGEXP:{const[,p,f]=c[u].match(/^\/(.*)\/([a-z]*)$/);c[u]=new RegExp(p,f);break}case mt.SET:c[u]=new Set(c[u]);break;case mt.MAP:c[u]=new Map(c[u]);break}}return i.data}}function L6(t){return`/${t.map(encodeURIComponent).join("/")}`}function M6(t){return typeof t.forEach=="function"?t2(t):t}function D6(t){var e;return((e=Object.entries(tf).find(([,n])=>n.status===t))==null?void 0:e[0])??"MALFORMED_ORPC_ERROR_RESPONSE"}class z6{constructor(e,n){Be(this,"baseUrl");Be(this,"maxUrlLength");Be(this,"fallbackMethod");Be(this,"expectedMethod");Be(this,"headers");this.serializer=e,this.baseUrl=n.url,this.maxUrlLength=n.maxUrlLength??2083,this.fallbackMethod=n.fallbackMethod??"POST",this.expectedMethod=n.method??this.fallbackMethod,this.headers=n.headers??{}}async encode(e,n,r){let s=M6(await Bo(this.headers,r,e,n));r.lastEventId!==void 0&&(s=_6(s,{"last-event-id":r.lastEventId}));const i=await Bo(this.expectedMethod,r,e,n),o=await Bo(this.baseUrl,r,e,n),l=new URL(o);l.pathname=`${l.pathname.replace(/\/$/,"")}${L6(e)}`;const c=this.serializer.serialize(n);if(i==="GET"&&!(c instanceof FormData)&&!Oi(c)){const u=await Bo(this.maxUrlLength,r,e,n),p=new URL(l);if(p.searchParams.append("data",Wa(c)),p.toString().length<=u)return{body:void 0,method:i,headers:s,url:p,signal:r.signal}}return{url:l,method:i==="GET"?this.fallbackMethod:i,headers:s,body:c,signal:r.signal}}async decode(e){const n=!nf(e.status),r=await(async()=>{let s=!1;try{const i=await e.body();return s=!0,this.serializer.deserialize(i)}catch(i){throw s?new Error("Invalid RPC response format.",{cause:i}):new Error("Cannot parse response body, please check the response body and content-type.",{cause:i})}})();if(!n)throw Qg(r)?Gg(r):new Ka(D6(e.status),{status:e.status,data:{...e,body:r}});return r}}var zn,cl,ul;class F6{constructor(e){re(this,zn);this.jsonSerializer=e}serialize(e){return Oi(e)?Gp(e,{value:async n=>ue(this,zn,cl).call(this,n,!1),error:async n=>new li({data:ue(this,zn,cl).call(this,p6(n).toJSON(),!1),cause:n})}):ue(this,zn,cl).call(this,e,!0)}deserialize(e){return Oi(e)?Gp(e,{value:async n=>ue(this,zn,ul).call(this,n),error:async n=>{if(!(n instanceof li))return n;const r=ue(this,zn,ul).call(this,n.data);return Qg(r)?Gg(r,{cause:n}):new li({data:r,cause:n})}}):ue(this,zn,ul).call(this,e)}}zn=new WeakSet,cl=function(e,n){const[r,s,i,o]=this.jsonSerializer.serialize(e),l=s.length===0?void 0:s;if(!n||o.length===0)return{json:r,meta:l};const c=new FormData;return c.set("data",Wa({json:r,meta:l,maps:i})),o.forEach((u,p)=>{c.set(p.toString(),u)}),c},ul=function(e){if(e===void 0)return;if(!(e instanceof FormData))return this.jsonSerializer.deserialize(e.json,e.meta??[]);const n=JSON.parse(e.get("data"));return this.jsonSerializer.deserialize(n.json,n.meta??[],n.maps,r=>e.get(r.toString()))};class $6 extends R6{constructor(e,n){const r=new O6(n),s=new F6(r),i=new z6(s,n);super(i,e,n)}}class U6 extends n2{initRuntimeAdapter(e){var n;for(const r of this.plugins)(n=r.initRuntimeAdapter)==null||n.call(r,e)}}class B6{constructor(e){Be(this,"fetch");Be(this,"toFetchRequestOptions");Be(this,"adapterInterceptors");new U6(e.plugins).initRuntimeAdapter(e),this.fetch=e.fetch??globalThis.fetch.bind(globalThis),this.toFetchRequestOptions=e,this.adapterInterceptors=Wl(e.adapterInterceptors)}async call(e,n,r,s){const i=P6(e,this.toFetchRequestOptions),o=await Md(this.adapterInterceptors,{...n,request:i,path:r,input:s,init:{redirect:"manual"}},({request:c,path:u,input:p,init:f,...d})=>this.fetch(c,f,d,u,p));return A6(o,{signal:i.signal})}}class H6 extends $6{constructor(e){const n=new B6(e);super(n,e)}}const V6=window.location.origin,W6=new H6({url:`${V6}/api/rpc`,headers:()=>{const t={"Content-Type":"application/json"},e=localStorage.getItem("dbx_auth_token");return e&&(t.Authorization=`Bearer ${e}`),t}}),dt=e2(W6),co="dbx_auth_token",uo="dbx_user_info",ho="dbx_token_expiry",fo="dbx_refresh_token",Nc="dbx_token_type",K6="https://fp9waphqm5.us-east-1.awsapprunner.com/api/v1",q6="AIzaSyDbwkcGLiA1Qzv0b2kexialt2mLyZ3FwT0",Q6=5*60*1e3;function rf(){return localStorage.getItem(co)}function G6(){const t=localStorage.getItem(uo);if(!t)return null;try{const e=JSON.parse(t);return e&&e.user_id!==void 0&&(e.user_id=String(e.user_id)),e}catch{return null}}function Y6(){return localStorage.getItem(Nc)||"custom"}function r2(){return localStorage.getItem(fo)}function s2(t,e,n=null){localStorage.setItem(co,t),localStorage.setItem(uo,JSON.stringify(e)),localStorage.setItem(Nc,"custom"),n&&localStorage.setItem(fo,n);const r=Date.now()+60*60*1e3;localStorage.setItem(ho,r.toString())}function J6(t){localStorage.setItem(co,t.idToken),localStorage.setItem(fo,t.refreshToken),localStorage.setItem(Nc,"firebase");const e={user_id:t.localId,firebase_user_id:t.localId,email:t.email,first_name:"",last_name:""};localStorage.setItem(uo,JSON.stringify(e));const n=parseInt(t.expiresIn,10),r=Date.now()+n*1e3;localStorage.setItem(ho,r.toString())}function i2(){localStorage.removeItem(co),localStorage.removeItem(uo),localStorage.removeItem(ho),localStorage.removeItem(fo),localStorage.removeItem(Nc)}function a2(){if(!rf())return!1;const e=localStorage.getItem(ho);if(!e)return!0;const n=parseInt(e,10),r=Date.now();return n>r+Q6}async function o2(){return Y6()==="firebase"?await Z6():await X6()}async function X6(){const t=r2();if(!t)return{success:!1,error:"No refresh token available"};try{const e=await fetch(`${K6}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:t})});if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||`Token refresh failed: ${e.statusText}`)}const n=await e.json();if(n.status==="success"&&n.token){localStorage.setItem(co,n.token),n.refresh_token&&localStorage.setItem(fo,n.refresh_token),n.user&&localStorage.setItem(uo,JSON.stringify(n.user));const r=Date.now()+60*60*1e3;return localStorage.setItem(ho,r.toString()),{success:!0,token:n.token}}throw new Error("Invalid refresh response")}catch(e){return{success:!1,error:e.message}}}async function Z6(){var e;const t=r2();if(!t)return{success:!1,error:"No refresh token available"};try{const n=await fetch(`https://securetoken.googleapis.com/v1/token?key=${q6}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token",refresh_token:t})});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(((e=s.error)==null?void 0:e.message)||`Token refresh failed: ${n.statusText}`)}const r=await n.json();if(r.id_token){const s={idToken:r.id_token,refreshToken:r.refresh_token,expiresIn:r.expires_in,email:r.email||"",localId:r.user_id,displayName:""};return J6(s),{success:!0,token:r.id_token}}throw new Error("Invalid response from Firebase refresh endpoint")}catch(n){return{success:!1,error:n.message}}}async function sf(){const t=rf();if(!t)return{success:!1,error:"No authentication token found"};if(a2())return{success:!0,token:t};const e=await o2();return e.success?{success:!0,token:e.token}:{success:!1,error:"Token expired and refresh failed"}}async function eS(t,e={}){const n=await sf();if(!n.success||!n.token)throw new Error(n.error||"Authentication required");const r={...e.headers||{},Authorization:`Bearer ${n.token}`};let s=await fetch(t,{...e,headers:r});if(s.status===401){const i=await o2();if(i.success&&i.token){const o={...e.headers||{},Authorization:`Bearer ${i.token}`};s=await fetch(t,{...e,headers:o})}else throw i2(),new Error("Session expired. Please login again.")}return s}const Mi={all:["connections"],list:t=>[...Mi.all,"list",t],detail:t=>[...Mi.all,"detail",t]};function kc(t){return t&&typeof t=="object"&&"json"in t?t.json:t}function tS(t){return Sc({queryKey:Mi.list(t),queryFn:async()=>{const e=await dt.connections.list(t?{userId:t}:void 0);return{connections:kc(e)}},staleTime:0,refetchOnMount:"always"})}function l2(){const t=dr();return zs({mutationFn:async e=>{var s;const n=await dt.connections.create(e),r=kc(n);try{const i="https://fp9waphqm5.us-east-1.awsapprunner.com/api/v1",o=encodeURIComponent(e.username||""),l=encodeURIComponent(e.password||""),c=e.host||"localhost",u=e.port||5432,p=e.database||"";let f=e.type,d="";if(e.type==="postgresql")f="postgres",d=`postgresql+asyncpg://${o}:${l}@${c}:${u}${p?"/"+p:""}`;else if(e.type==="mysql")d=`mysql+asyncmy://${o}:${l}@${c}:${u}${p?"/"+p:""}`;else if(e.type==="snowflake"){const w=e.account||"";d=`snowflake://${o}:${l}@${w}${p?"/"+p:""}`}else d=`${f}://${o}:${l}@${c}:${u}${p?"/"+p:""}`;const h=await eS(`${i}/llm-inference/create-connection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({db_connection_string:d,driver:f})});if(h.ok){const S=(s=(await h.json()).connection)==null?void 0:s.connection_id;S&&(await dt.connections.update({id:r.id,externalConnectionId:S}),r.externalConnectionId=S,console.log(" Connection registered with server, external ID:",S))}else console.warn(" Failed to register connection with main server:",h.status)}catch(i){console.warn(" Could not register connection with AI server:",i)}return r},onSuccess:()=>{t.invalidateQueries({queryKey:Mi.all}),Qe.success("Connection created successfully")},onError:e=>{Qe.error(e.message||"Failed to create connection")}})}function c2(){const t=dr();return zs({mutationFn:async e=>{const n=await dt.connections.update(e);return kc(n)},onSuccess:()=>{t.invalidateQueries({queryKey:Mi.all}),Qe.success("Connection updated")},onError:e=>{Qe.error(e.message||"Failed to update connection")}})}function nS(){const t=dr();return zs({mutationFn:async e=>(await dt.connections.remove({id:e}),e),onSuccess:()=>{t.invalidateQueries({queryKey:Mi.all}),Qe.success("Connection deleted")},onError:e=>{Qe.error(e.message||"Failed to delete connection")}})}function u2(){return zs({mutationFn:async t=>{const e=await dt.connections.test(t);return kc(e)},onSuccess:t=>{Qe.success(`Connection successful (${t.latency}ms)`)},onError:t=>{Qe.error(t.message||"Connection failed")}})}const tr={all:["tables"],list:(t,e)=>[...tr.all,"list",t,e],columns:(t,e,n)=>[...tr.all,"columns",t,e,n],data:(t,e,n,r)=>[...tr.all,"data",t,e,n,r]};function Rs(t){return t&&typeof t=="object"&&"json"in t?t.json:t}function d2(t,e="public"){return Sc({queryKey:tr.list(t,e),queryFn:async()=>{const n=await dt.tables.list({connectionId:t,schema:e});return Rs(n)},enabled:!!t})}function h2(t,e,n="public"){return Sc({queryKey:tr.columns(t,e,n),queryFn:async()=>{const r=await dt.tables.columns({connectionId:t,tableName:e,schema:n});return Rs(r)},enabled:!!t&&!!e})}function rS(){const t=dr();return m.useCallback((e,n,r="public")=>{t.prefetchQuery({queryKey:tr.columns(e,n,r),queryFn:async()=>{const s=await dt.tables.columns({connectionId:e,tableName:n,schema:r});return Rs(s)},staleTime:5*60*1e3}),t.prefetchInfiniteQuery({queryKey:[...tr.all,"infinite",e,n,r,void 0,void 0],queryFn:async()=>{const s=await dt.tables.data({connectionId:e,tableName:n,schema:r,page:1,pageSize:50});return Rs(s)},initialPageParam:1,staleTime:5*60*1e3})},[t])}function sS(t,e,n="public",r={}){const{pageSize:s=50,orderBy:i,orderDirection:o,filters:l}=r;return Aw({queryKey:[...tr.all,"infinite",t,e,n,i,o,JSON.stringify(l)],queryFn:async({pageParam:c=1})=>{const u=await dt.tables.data({connectionId:t,tableName:e,schema:n,page:c,pageSize:s,orderBy:i,orderDirection:o,filters:l});return Rs(u)},getNextPageParam:c=>{if(c.page<c.totalPages)return c.page+1},initialPageParam:1,enabled:!!t&&!!e,staleTime:2*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1})}function iS(){return zs({mutationFn:async t=>{const e=await dt.tables.updateRow(t);return Rs(e)}})}function aS(){return zs({mutationFn:async t=>{const e=await dt.tables.deleteRow(t);return Rs(e)}})}const f2={all:["queries"],history:t=>[...f2.all,"history",t]};function oS(){const t=dr();return zs({mutationFn:async e=>await dt.queries.execute(e),onSuccess:()=>{t.invalidateQueries({queryKey:f2.history()})},onError:e=>{Qe.error(e.message||"Query execution failed")}})}const p2={all:["schemas"],connection:t=>[...p2.all,t]};function lS(t){return t&&typeof t=="object"&&"json"in t?t.json:t}function m2(t){return Sc({queryKey:p2.connection(t||""),queryFn:async()=>{if(!t)return[];const e=await dt.tables.schemas({connectionId:t});return lS(e)},enabled:!!t})}const g2="dbx_schema_tree_expanded";function Xi(t){try{const e=localStorage.getItem(`${g2}_${t}`);return e?JSON.parse(e):{}}catch{return{}}}function Zi(t,e){try{localStorage.setItem(`${g2}_${t}`,JSON.stringify(e))}catch{}}const cS=(t,e=16)=>{if(!t)return a.jsx(Va,{size:e,className:"db-type-icon default"});const n=t.toLowerCase();return n==="postgres"||n==="postgresql"?a.jsx(Ec,{size:e,className:"db-type-icon postgres"}):n==="sqlite"||n==="sqlite3"?a.jsx(Xh,{size:e,className:"db-type-icon sqlite"}):n==="mariadb"?a.jsx(Wg,{size:e,className:"db-type-icon mariadb"}):n==="mysql"?a.jsx(Jh,{size:e,className:"db-type-icon mysql"}):n==="snowflake"?a.jsx(Cc,{size:e-2,className:"db-type-icon snowflake"}):n==="clickhouse"?a.jsx(Vg,{size:e,className:"db-type-icon clickhouse"}):a.jsx(Va,{size:e,className:"db-type-icon default"})},y2=m.forwardRef(({connections:t,onTableSelect:e,onClose:n,onRefresh:r,onAddConnection:s,onEditConnection:i,onDeleteConnection:o},l)=>{const c=(A,R)=>{const x={};return Object.keys(A).forEach(q=>{const $=q.split("-")[0];(R.has($)||R.has(q))&&(x[q]=A[q])}),x},u=new Set(t.map(A=>A.id)),[p,f]=m.useState(()=>{const A=t[0];if(!A)return{};const R=Xi(A.id);return c(R,u)}),[d,h]=m.useState(()=>{const A=t[0];if(!A)return{};const R=Xi(`${A.id}_schemas`);return c(R,u)}),[w,S]=m.useState(()=>{const A=t[0];if(!A)return{};const R=Xi(`${A.id}_tableSections`);return c(R,u)}),[k,y]=m.useState(()=>{const A=t[0];if(!A)return{};const R=Xi(`${A.id}_tables`);return c(R,u)}),[g,v]=m.useState(()=>{const A=t[0];if(!A)return{};const R=Xi(`${A.id}_columnSections`);return c(R,u)}),C=dr();m.useEffect(()=>{if(t.length===0)return;const A=new Set(t.map(R=>R.id));f(R=>{const x={};return Object.keys(R).forEach(q=>{A.has(q)&&(x[q]=R[q])}),x}),h(R=>{const x={};return Object.keys(R).forEach(q=>{const $=q.split("-")[0];A.has($)&&(x[q]=R[q])}),x}),S(R=>{const x={};return Object.keys(R).forEach(q=>{const $=q.split("-")[0];A.has($)&&(x[q]=R[q])}),x}),y(R=>{const x={};return Object.keys(R).forEach(q=>{const $=q.split("-")[0];A.has($)&&(x[q]=R[q])}),x}),v(R=>{const x={};return Object.keys(R).forEach(q=>{const $=q.split("-")[0];A.has($)&&(x[q]=R[q])}),x})},[t]),m.useEffect(()=>{const A=t[0];A&&Zi(A.id,p)},[p,t]),m.useEffect(()=>{const A=t[0];A&&Zi(`${A.id}_schemas`,d)},[d,t]),m.useEffect(()=>{const A=t[0];A&&Zi(`${A.id}_tableSections`,w)},[w,t]),m.useEffect(()=>{const A=t[0];A&&Zi(`${A.id}_tables`,k)},[k,t]),m.useEffect(()=>{const A=t[0];A&&Zi(`${A.id}_columnSections`,g)},[g,t]);const I=m.useCallback(A=>{f(R=>({...R,[A]:!R[A]}))},[]),j=m.useCallback(A=>{h(R=>({...R,[A]:!R[A]}))},[]),_=m.useCallback(A=>{S(R=>({...R,[A]:!R[A]}))},[]),P=m.useCallback(A=>{y(R=>({...R,[A]:!R[A]}))},[]),z=m.useCallback(A=>{v(R=>({...R,[A]:!R[A]}))},[]),b=m.useCallback(()=>{C.invalidateQueries({queryKey:tr.all}),r()},[C,r]);return a.jsxs("div",{className:"schema-tree-container",children:[a.jsxs("div",{className:"schema-header",children:[a.jsx("div",{className:"schema-title",children:a.jsx("span",{className:"schema-label",children:"Connections"})}),a.jsxs("div",{className:"schema-controls",children:[a.jsx("button",{className:"schema-btn add-connection-btn",onClick:s,title:"New Connection",children:a.jsx(Q3,{size:16})}),a.jsx("button",{className:"schema-btn",onClick:b,title:"Refresh",children:a.jsx(es,{size:12})}),a.jsx("button",{className:"schema-btn collapse-schema-btn",onClick:n,title:"Collapse Schema Tree",children:a.jsx(q3,{size:16})})]})]}),a.jsx("div",{className:"schema-content-wrapper",children:t.length===0?a.jsxs("div",{className:"schema-empty",children:[a.jsx("p",{children:"No connections yet"}),a.jsxs("button",{className:"add-connection-cta",onClick:s,children:[a.jsx(Yh,{size:12}),a.jsx("span",{children:"Add Connection"})]})]}):t.map(A=>a.jsx(uS,{connection:A,isExpanded:!!p[A.id],expandedSchemas:d,expandedTableSections:w,expandedTables:k,expandedColumnSections:g,onToggle:()=>I(A.id),onToggleSchema:j,onToggleTableSection:_,onToggleTable:P,onToggleColumnSection:z,onTableSelect:e,onEdit:i,onDelete:o},A.id))})]})});y2.displayName="SchemaTree";function uS({connection:t,isExpanded:e,expandedSchemas:n,expandedTableSections:r,expandedTables:s,expandedColumnSections:i,onToggle:o,onToggleSchema:l,onToggleTableSection:c,onToggleTable:u,onToggleColumnSection:p,onTableSelect:f,onEdit:d,onDelete:h}){const{data:w,isLoading:S,isError:k,error:y}=m2(e?t.id:void 0),[g,v]=m.useState(!1),C=m.useRef(null),I=y instanceof Error?y.message:(y==null?void 0:y.message)||"Failed to connect to database";m.useEffect(()=>{const z=b=>{C.current&&!C.current.contains(b.target)&&v(!1)};return g&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[g]);const j=z=>{z.stopPropagation(),v(!g)},_=z=>{z.stopPropagation(),v(!1),d==null||d(t)},P=z=>{z.stopPropagation(),v(!1),window.confirm(`Are you sure you want to delete "${t.name}"?`)&&(h==null||h(t.id))};return a.jsxs("div",{className:"connection-block",children:[a.jsxs("div",{className:`connection-header ${e?"expanded":""} ${k?"has-error":""}`,onClick:o,children:[a.jsx("span",{className:"connection-toggle",children:e?a.jsx(qr,{size:10}):a.jsx(Ba,{size:10})}),cS(t.type,16),a.jsx("span",{className:"connection-name",children:t.name}),k&&a.jsx("span",{className:"connection-error-indicator",title:I,children:""}),!k&&t.isActive&&a.jsx("span",{className:"connection-status",children:""}),a.jsxs("div",{className:"connection-menu-wrapper",ref:C,children:[a.jsx("button",{className:"connection-menu-btn",onClick:j,title:"Connection options",children:a.jsx($3,{size:12})}),g&&a.jsxs("div",{className:"connection-menu-dropdown",children:[a.jsxs("button",{className:"connection-menu-item",onClick:_,children:[a.jsx(F3,{size:12}),a.jsx("span",{children:"Edit Connection"})]}),a.jsxs("button",{className:"connection-menu-item danger",onClick:P,children:[a.jsx(Hg,{size:12}),a.jsx("span",{children:"Delete Connection"})]})]})]})]}),e&&a.jsx("div",{className:"connection-schema-wrapper",children:S?a.jsxs("div",{className:"schema-status loading",children:[a.jsx(es,{size:10,className:"spinning"}),a.jsx("span",{children:"Loading schemas..."})]}):k?a.jsxs("div",{className:"schema-status error",children:[a.jsx("span",{className:"error-icon",children:""}),a.jsxs("div",{className:"error-content",children:[a.jsx("span",{className:"error-title",children:"Connection failed"}),a.jsx("span",{className:"error-message",children:I})]})]}):w&&w.length>0?w.map(z=>{const b=`${t.id}-${z.name}`,A=!!n[b];return a.jsx(dS,{connectionId:t.id,schemaName:z.name,isExpanded:A,expandedTableSections:r,expandedTables:s,expandedColumnSections:i,onToggle:()=>l(b),onToggleTableSection:c,onToggleTable:u,onToggleColumnSection:p,onTableSelect:f},b)}):a.jsx("div",{className:"schema-status empty",children:a.jsx("span",{children:"No schemas found"})})})]})}function dS({connectionId:t,schemaName:e,isExpanded:n,expandedTableSections:r,expandedTables:s,expandedColumnSections:i,onToggle:o,onToggleTableSection:l,onToggleTable:c,onToggleColumnSection:u,onTableSelect:p}){const{data:f,isLoading:d}=d2(n?t:"",e),h=(f==null?void 0:f.length)||0,w=`${t}-${e}-tables`,S=!!r[w];return a.jsxs("div",{className:"schema-item",children:[a.jsxs("div",{className:"schema-header-row",onClick:o,children:[a.jsx("span",{className:"schema-toggle",children:d?a.jsx(es,{size:10,className:"spinning"}):n?a.jsx(qr,{size:10}):a.jsx(Ba,{size:10})}),a.jsx(Va,{size:14,className:"schema-icon"}),a.jsx("span",{className:"schema-name",children:e}),h>0&&a.jsx("span",{className:"schema-count",children:h})]}),n&&a.jsxs("div",{className:"db-object-group",children:[a.jsxs("div",{className:"db-object-group-header",onClick:()=>l(w),children:[a.jsx("span",{className:"schema-toggle",children:S?a.jsx(qr,{size:9}):a.jsx(Ba,{size:9})}),S?a.jsx(Mg,{size:10,className:"db-object-icon folder-icon"}):a.jsx(Dg,{size:10,className:"db-object-icon folder-icon"}),a.jsx("span",{className:"db-object-label",children:"Tables"}),h>0&&a.jsx("span",{className:"db-object-count",children:h})]}),S&&a.jsx("div",{className:"tables-list",children:d?a.jsxs("div",{className:"schema-status loading",children:[a.jsx(es,{size:10,className:"spinning"}),a.jsx("span",{children:"Loading tables..."})]}):f&&f.length>0?f.map(k=>a.jsx(hS,{connectionId:t,schemaName:e,table:k,isExpanded:!!s[`${t}-${e}-${k.name}`],expandedColumnSections:i,onToggle:()=>c(`${t}-${e}-${k.name}`),onToggleColumnSection:u,onSelect:()=>p(t,e,k.name)},k.name)):a.jsx("div",{className:"schema-empty",children:"No tables found"})})]})]})}function hS({connectionId:t,schemaName:e,table:n,isExpanded:r,expandedColumnSections:s,onToggle:i,onToggleColumnSection:o,onSelect:l}){const{data:c,isLoading:u}=h2(r?t:"",n.name,e),p=rS(),f=`${t}-${e}-${n.name}-columns`,d=!!s[f],h=(c==null?void 0:c.length)||0,w=m.useCallback(()=>{!r&&t&&n.name&&p(t,n.name,e)},[r,t,n.name,e,p]);return a.jsxs("div",{className:"table-item",children:[a.jsxs("div",{className:`table-header ${r?"expanded":""}`,onClick:l,onMouseEnter:w,children:[a.jsx("span",{className:"table-toggle",onClick:S=>{S.stopPropagation(),i()},children:u?a.jsx(es,{size:8,className:"spinning"}):r?a.jsx(qr,{size:9}):a.jsx(Ba,{size:9})}),a.jsx(Vl,{size:10,className:"table-icon"}),a.jsx("span",{className:"table-name",children:n.name})]}),r&&a.jsx("div",{className:"table-details",children:a.jsxs("div",{className:"table-detail-section",children:[a.jsxs("div",{className:"table-detail-header",onClick:()=>o(f),children:[a.jsx("span",{className:"detail-toggle",children:d?a.jsx(qr,{size:7}):a.jsx(Ba,{size:7})}),d?a.jsx(Mg,{size:8,className:"detail-icon folder-icon"}):a.jsx(Dg,{size:8,className:"detail-icon folder-icon"}),a.jsx("span",{className:"detail-label",children:"Columns"}),h>0&&a.jsx("span",{className:"detail-count",children:h})]}),d&&a.jsx("div",{className:"table-detail-list",children:u?a.jsxs("div",{className:"schema-status loading",children:[a.jsx(es,{size:9,className:"spinning"}),a.jsx("span",{children:"Loading columns..."})]}):c&&c.length>0?c.map((S,k)=>a.jsxs("div",{className:"detail-item",children:[S.isPrimaryKey?a.jsx(zg,{size:7,className:"detail-item-icon key-icon"}):a.jsx(H3,{size:7,className:"detail-item-icon"}),a.jsx("span",{className:"detail-item-name",children:S.name}),a.jsx("span",{className:"detail-item-type",children:S.type})]},k)):a.jsx("div",{className:"schema-empty",children:"No columns found"})})]})})]})}const fS=[{type:"postgresql",name:"PostgreSQL",icon:a.jsx(Ec,{size:40,className:"connection-type-icon postgres"}),description:"Connect to PostgreSQL database"},{type:"snowflake",name:"Snowflake",icon:a.jsx(Cc,{size:40,className:"connection-type-icon snowflake"}),description:"Connect to Snowflake Data Cloud",comingSoon:!0},{type:"mysql",name:"MySQL",icon:a.jsx(Jh,{size:40,className:"connection-type-icon mysql"}),description:"Connect to MySQL database",comingSoon:!0},{type:"sqlite",name:"SQLite",icon:a.jsx(Xh,{size:40,className:"connection-type-icon sqlite"}),description:"Connect to SQLite database",comingSoon:!0},{type:"mssql",name:"SQL Server",icon:a.jsx(Qr,{size:40,className:"connection-type-icon mssql"}),description:"Connect to Microsoft SQL Server",comingSoon:!0}];function Yp({isOpen:t,onClose:e,onSelectType:n}){if(!t)return null;const r=i=>{i.target===i.currentTarget&&i.button===0&&e()},s=i=>{i.stopPropagation()};return a.jsx("div",{className:"connection-modal-overlay",onMouseDown:r,children:a.jsxs("div",{className:"connection-type-selector dark-theme",onMouseDown:s,children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{children:"Select Database Type"}),a.jsx("div",{className:"close-btn",onClick:e,role:"button",tabIndex:0,"aria-label":"close",onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&e()},children:a.jsx(an,{size:16})})]}),a.jsx("div",{className:"connection-type-grid",children:fS.map(i=>a.jsxs("div",{className:`connection-type-card ${i.comingSoon?"coming-soon":""}`,onClick:()=>!i.comingSoon&&n(i.type),children:[a.jsx("div",{className:"connection-type-icon-wrapper",children:i.icon}),a.jsx("div",{className:"connection-type-name",children:i.name}),a.jsx("div",{className:"connection-type-desc",children:i.description}),i.comingSoon&&a.jsx("div",{className:"coming-soon-badge",children:"Coming Soon"})]},i.type))})]})})}function pS({isOpen:t,onClose:e,onBack:n,onSaveSuccess:r,userId:s,isEditing:i=!1,existingConnection:o}){var A;const[l,c]=m.useState({name:"",type:"postgresql",userId:s?String(s):void 0,host:"localhost",port:5432,database:"postgres",username:"",password:"",ssl:!1}),u=m.useRef(null),p=l2(),f=c2(),d=u2();if(m.useEffect(()=>{t&&(c(i&&o?{name:o.name||"",type:"postgresql",userId:o.userId||(s?String(s):void 0),host:o.host||"localhost",port:o.port||5432,database:o.database||"postgres",username:o.username||"",password:o.password||"",ssl:o.ssl||!1}:{name:"",type:"postgresql",userId:s?String(s):void 0,host:"localhost",port:5432,database:"postgres",username:"",password:"",ssl:!1}),p.reset(),f.reset(),d.reset())},[t,s,i,o]),!t)return null;const h=(R,x)=>{c(q=>({...q,[R]:x}))},w=async()=>{d.mutate(l)},S=async R=>{R.preventDefault();const x={...l,name:l.name||`${l.host}:${l.database}`};i&&(o!=null&&o.id)?f.mutate({id:o.id,...x},{onSuccess:()=>{o!=null&&o.id&&(r==null||r(o.id)),setTimeout(()=>{e()},1500)}}):p.mutate(x,{onSuccess:q=>{q!=null&&q.id&&(r==null||r(q.id)),setTimeout(()=>{e()},1500)}})},k=R=>{R.target===R.currentTarget&&e()},g=["host","username","database"].filter(R=>{const x=l[R];return!x||typeof x=="string"&&x.trim()===""}),v=g.length===0,C=d.isPending,I=d.isSuccess,j=d.isError,_=i?f.isPending:p.isPending,P=i?f.isSuccess:p.isSuccess,z=i?f.isError:p.isError,b=i?f.error:p.error;return a.jsx("div",{className:"connection-modal-overlay",onMouseDown:k,children:a.jsxs("div",{className:"connection-modal dark-theme",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-header-title",children:[a.jsx(Ec,{size:24,className:"postgres"}),a.jsx("h2",{children:i?"Edit PostgreSQL Connection":"New PostgreSQL Connection"})]}),a.jsx("div",{className:"close-btn",onClick:e,role:"button",tabIndex:0,"aria-label":"close",children:a.jsx(an,{size:16})})]}),(z||j)&&a.jsxs("div",{className:"message-box error",children:[a.jsx(Gh,{size:14}),a.jsx("span",{children:(b==null?void 0:b.message)||((A=d.error)==null?void 0:A.message)||"Connection failed. Please check your credentials and try again."})]}),P&&a.jsxs("div",{className:"message-box success",children:[a.jsx(Dr,{size:14}),a.jsx("span",{children:i?"Changes saved.":"Connection saved. This modal will close automatically."})]}),a.jsxs("form",{className:"connection-form",onSubmit:S,children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Host ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",value:l.host,onChange:R=>h("host",R.target.value),placeholder:"localhost or 192.168.1.100",ref:g.includes("host")?u:null})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Port"}),a.jsx("div",{className:"hint",children:"Default: 5432"}),a.jsx("input",{type:"number",value:l.port,onChange:R=>h("port",parseInt(R.target.value)||5432),placeholder:"5432"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Username ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",value:l.username,onChange:R=>h("username",R.target.value),placeholder:"postgres",ref:g.includes("username")?u:null})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Password"}),a.jsx("input",{type:"password",value:l.password,onChange:R=>h("password",R.target.value),placeholder:""})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Database ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",value:l.database,onChange:R=>h("database",R.target.value),placeholder:"postgres",ref:g.includes("database")?u:null}),a.jsx("div",{className:"hint",children:"Database used for connection and test"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Connection Name"}),a.jsx("input",{type:"text",value:l.name,onChange:R=>h("name",R.target.value),placeholder:"My PostgreSQL"}),a.jsx("div",{className:"hint",children:"Optional display name"})]}),a.jsx("div",{className:"form-group toggle-group",children:a.jsxs("label",{className:"toggle-label",children:[a.jsxs("label",{className:"toggle-switch",children:[a.jsx("input",{type:"checkbox",checked:l.ssl,onChange:R=>h("ssl",R.target.checked)}),a.jsx("span",{className:"slider"})]}),a.jsx("span",{children:"Use SSL Connection"})]})})]}),I&&a.jsxs("div",{className:"test-success",children:[a.jsx(Dr,{size:14}),a.jsx("span",{children:"Test connection successful! You can now save this connection."})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:n,children:[a.jsx(Ag,{size:14}),"Back"]}),a.jsxs("div",{className:"action-buttons",children:[a.jsxs("button",{type:"button",className:"btn btn-outline",onClick:w,disabled:!v||C,children:[C&&a.jsx(Ai,{size:14,className:"spin"}),"Test Connection"]}),a.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!v||_,children:[_&&a.jsx(Ai,{size:14,className:"spin"}),_?"Saving...":"Save Connection"]})]})]})]})]})})}function mS({isOpen:t,onClose:e,onBack:n,onSaveSuccess:r,userId:s,isEditing:i=!1,existingConnection:o}){var q;const[l,c]=m.useState({name:"",type:"snowflake",userId:s?String(s):void 0,account:"",username:"",password:"",warehouse:"",database:"",role:""}),[u,p]=m.useState("snowflake"),f=m.useRef(null),d=l2(),h=c2(),w=u2();if(m.useEffect(()=>{t&&(c(i&&o?{name:o.name||"",type:"snowflake",userId:o.userId||(s?String(s):void 0),account:o.account||"",username:o.username||"",password:o.password||"",warehouse:o.warehouse||"",database:o.database||"",role:o.role||""}:{name:"",type:"snowflake",userId:s?String(s):void 0,account:"",username:"",password:"",warehouse:"",database:"",role:""}),p("snowflake"),d.reset(),h.reset(),w.reset())},[t,s,i,o]),!t)return null;const S=u==="externalbrowser",k=($,Y)=>{c(F=>({...F,[$]:Y}))},y=async()=>{w.mutate({...l})},g=async $=>{$.preventDefault();const Y={...l,name:l.name||`Snowflake: ${l.account}`};i&&(o!=null&&o.id)?h.mutate({id:o.id,...Y},{onSuccess:()=>{o!=null&&o.id&&(r==null||r(o.id)),setTimeout(()=>{e()},1500)}}):d.mutate(Y,{onSuccess:F=>{F!=null&&F.id&&(r==null||r(F.id)),setTimeout(()=>{e()},1500)}})},v=$=>{$.target===$.currentTarget&&e()},I=(S?["account","username"]:["account","username","password"]).filter($=>{const Y=l[$];return!Y||typeof Y=="string"&&Y.trim()===""}),j=I.length===0,_=w.isPending,P=w.isSuccess,z=w.isError,b=i?h.isPending:d.isPending,A=i?h.isSuccess:d.isSuccess,R=i?h.isError:d.isError,x=i?h.error:d.error;return a.jsx("div",{className:"connection-modal-overlay",onMouseDown:v,children:a.jsxs("div",{className:"connection-modal dark-theme snowflake-modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-header-title",children:[a.jsx(Cc,{size:24,style:{color:"#29B5E8"}}),a.jsx("h2",{children:i?"Edit Snowflake Connection":"New Snowflake Connection"})]}),a.jsx("div",{className:"close-btn",onClick:e,role:"button",tabIndex:0,"aria-label":"close",children:a.jsx(an,{size:16})})]}),(R||z)&&a.jsxs("div",{className:"message-box error",children:[a.jsx(Gh,{size:14}),a.jsx("span",{children:(x==null?void 0:x.message)||((q=w.error)==null?void 0:q.message)||"Connection failed. Please check your credentials and try again."})]}),A&&a.jsxs("div",{className:"message-box success",children:[a.jsx(Dr,{size:14}),a.jsx("span",{children:i?"Changes saved.":"Connection saved. This modal will close automatically."})]}),a.jsxs("form",{className:"connection-form",onSubmit:g,children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Account Identifier ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",value:l.account||"",onChange:$=>k("account",$.target.value),placeholder:"xy12345.us-east-1",ref:I.includes("account")?f:null}),a.jsx("div",{className:"hint",children:"Your Snowflake account identifier (e.g., account-name.region.cloud)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Username ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",value:l.username||"",onChange:$=>k("username",$.target.value),placeholder:"SNOWFLAKE_USER",ref:I.includes("username")?f:null})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Authentication Method"}),a.jsxs("select",{value:u,onChange:$=>p($.target.value),className:"form-select",children:[a.jsx("option",{value:"snowflake",children:"Username/Password"}),a.jsx("option",{value:"externalbrowser",children:"External Browser (SSO)"})]}),a.jsx("div",{className:"hint",children:S?"Opens browser for SSO authentication - password not required":"Standard username and password authentication"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Password ",!S&&a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"password",value:l.password||"",onChange:$=>k("password",$.target.value),placeholder:S?"(not required for SSO)":"",disabled:S,ref:I.includes("password")?f:null,style:{opacity:S?.6:1}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Warehouse"}),a.jsx("input",{type:"text",value:l.warehouse||"",onChange:$=>k("warehouse",$.target.value),placeholder:"COMPUTE_WH"}),a.jsx("div",{className:"hint",children:"Default warehouse for running queries (optional)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Database"}),a.jsx("input",{type:"text",value:l.database||"",onChange:$=>k("database",$.target.value),placeholder:"SNOWFLAKE_SAMPLE_DATA"}),a.jsx("div",{className:"hint",children:"Default database to connect to (optional)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Role"}),a.jsx("input",{type:"text",value:l.role||"",onChange:$=>k("role",$.target.value),placeholder:"ACCOUNTADMIN"}),a.jsx("div",{className:"hint",children:"Role to use for the session (optional)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Connection Name"}),a.jsx("input",{type:"text",value:l.name,onChange:$=>k("name",$.target.value),placeholder:"My Snowflake"}),a.jsx("div",{className:"hint",children:"Optional display name"})]})]}),P&&a.jsxs("div",{className:"test-success",children:[a.jsx(Dr,{size:14}),a.jsx("span",{children:"Test connection successful! You can now save this connection."})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:n,children:[a.jsx(Ag,{size:14}),"Back"]}),a.jsxs("div",{className:"action-buttons",children:[a.jsxs("button",{type:"button",className:"btn btn-outline",onClick:y,disabled:!j||_,children:[_&&a.jsx(Ai,{size:14,className:"spin"}),"Test Connection"]}),a.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!j||b,children:[b&&a.jsx(Ai,{size:14,className:"spin"}),b?"Saving...":"Save Connection"]})]})]})]})]})})}function gS({isOpen:t,onClose:e,onSaveSuccess:n,userId:r,isEditing:s=!1,existingConnection:i}){const[o,l]=m.useState("select-type"),[c,u]=m.useState(null);m.useEffect(()=>{t&&(s&&(i!=null&&i.type)?(u(i.type),l("form")):(l("select-type"),u(null)))},[t,s,i==null?void 0:i.type]);const p=h=>{u(h),l("form")},f=()=>{l("select-type"),u(null)},d=()=>{e()};if(o==="select-type")return a.jsx(Yp,{isOpen:t,onClose:d,onSelectType:p});switch(c){case"postgresql":return a.jsx(pS,{isOpen:t,onClose:d,onBack:f,onSaveSuccess:n,userId:r,isEditing:s,existingConnection:i});case"snowflake":return a.jsx(mS,{isOpen:t,onClose:d,onBack:f,onSaveSuccess:n,userId:r,isEditing:s,existingConnection:i});default:return a.jsx(Yp,{isOpen:t,onClose:d,onSelectType:p})}}function Jp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yS(t){if(Array.isArray(t))return t}function vS(t,e,n){return(e=NS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wS(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){u=!0,s=p}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function SS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xp(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ES(t,e){if(t==null)return{};var n,r,s=CS(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function CS(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xS(t,e){return yS(t)||wS(t,e)||kS(t,e)||SS()}function _S(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NS(t){var e=_S(t,"string");return typeof e=="symbol"?e:e+""}function kS(t,e){if(t){if(typeof t=="string")return Jp(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jp(t,e):void 0}}function IS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?em(Object(n),!0).forEach(function(r){IS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}function oa(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return e.apply(n,[].concat(s,l))}}}function ql(t){return{}.toString.call(t).includes("Object")}function jS(t){return!Object.keys(t).length}function qa(t){return typeof t=="function"}function TS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function PS(t,e){return ql(e)||Gr("changeType"),Object.keys(e).some(function(n){return!TS(t,n)})&&Gr("changeField"),e}function AS(t){qa(t)||Gr("selectorType")}function RS(t){qa(t)||ql(t)||Gr("handlerType"),ql(t)&&Object.values(t).some(function(e){return!qa(e)})&&Gr("handlersType")}function OS(t){t||Gr("initialIsRequired"),ql(t)||Gr("initialType"),jS(t)&&Gr("initialContent")}function LS(t,e){throw new Error(t[e]||t.default)}var MS={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Gr=oa(LS)(MS),Vo={changes:PS,selector:AS,handler:RS,initial:OS};function DS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vo.initial(t),Vo.handler(e);var n={current:t},r=oa($S)(n,e),s=oa(FS)(n),i=oa(Vo.changes)(t),o=oa(zS)(n);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return Vo.selector(u),u(n.current)}function c(u){bS(r,s,i,o)(u)}return[l,c]}function zS(t,e){return qa(e)?e(t.current):e}function FS(t,e){return t.current=tm(tm({},t.current),e),e}function $S(t,e,n){return qa(e)?e(t.current):Object.keys(n).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,t.current[r])}),n}var US={create:DS},BS={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function HS(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return e.apply(n,[].concat(s,l))}}}function VS(t){return{}.toString.call(t).includes("Object")}function WS(t){return t||nm("configIsRequired"),VS(t)||nm("configType"),t.urls?(KS(),{paths:{vs:t.urls.monacoBase}}):t}function KS(){console.warn(v2.deprecation)}function qS(t,e){throw new Error(t[e]||t.default)}var v2={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},nm=HS(qS)(v2),QS={config:WS},GS=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,o){return o(i)},s)}};function w2(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],w2(t[n],e[n]))}),Zp(Zp({},t),e)}var YS={type:"cancelation",msg:"operation is manually canceled"};function hu(t){var e=!1,n=new Promise(function(r,s){t.then(function(i){return e?s(YS):r(i)}),t.catch(s)});return n.cancel=function(){return e=!0},n}var JS=["monaco"],XS=US.create({config:BS,isInitialized:!1,resolve:null,reject:null,monaco:null}),S2=xS(XS,2),po=S2[0],Ic=S2[1];function ZS(t){var e=QS.config(t),n=e.monaco,r=ES(e,JS);Ic(function(s){return{config:w2(s.config,r),monaco:n}})}function e5(){var t=po(function(e){var n=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!t.isInitialized){if(Ic({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),hu(fu);if(window.monaco&&window.monaco.editor)return E2(window.monaco),t.resolve(window.monaco),hu(fu);GS(t5,r5)(s5)}return hu(fu)}function t5(t){return document.body.appendChild(t)}function n5(t){var e=document.createElement("script");return t&&(e.src=t),e}function r5(t){var e=po(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),n=n5("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function s5(){var t=po(function(n){var r=n.config,s=n.resolve,i=n.reject;return{config:r,resolve:s,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m||n;E2(r),t.resolve(r)},function(n){t.reject(n)})}function E2(t){po().monaco||Ic({monaco:t})}function i5(){return po(function(t){var e=t.monaco;return e})}var fu=new Promise(function(t,e){return Ic({resolve:t,reject:e})}),C2={config:ZS,init:e5,__getMonacoInstance:i5},a5={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},pu=a5,o5={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},l5=o5;function c5({children:t}){return V.createElement("div",{style:l5.container},t)}var u5=c5,d5=u5;function h5({width:t,height:e,isEditorReady:n,loading:r,_ref:s,className:i,wrapperProps:o}){return V.createElement("section",{style:{...pu.wrapper,width:t,height:e},...o},!n&&V.createElement(d5,null,r),V.createElement("div",{ref:s,style:{...pu.fullWidth,...!n&&pu.hide},className:i}))}var f5=h5,x2=m.memo(f5);function p5(t){m.useEffect(t,[])}var _2=p5;function m5(t,e,n=!0){let r=m.useRef(!0);m.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Bt=m5;function Sa(){}function ti(t,e,n,r){return g5(t,r)||y5(t,e,n,r)}function g5(t,e){return t.editor.getModel(N2(t,e))}function y5(t,e,n,r){return t.editor.createModel(e,n,r?N2(t,r):void 0)}function N2(t,e){return t.Uri.parse(e)}function v5({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:p="Loading...",options:f={},height:d="100%",width:h="100%",className:w,wrapperProps:S={},beforeMount:k=Sa,onMount:y=Sa}){let[g,v]=m.useState(!1),[C,I]=m.useState(!0),j=m.useRef(null),_=m.useRef(null),P=m.useRef(null),z=m.useRef(y),b=m.useRef(k),A=m.useRef(!1);_2(()=>{let $=C2.init();return $.then(Y=>(_.current=Y)&&I(!1)).catch(Y=>(Y==null?void 0:Y.type)!=="cancelation"&&console.error("Monaco initialization: error:",Y)),()=>j.current?q():$.cancel()}),Bt(()=>{if(j.current&&_.current){let $=j.current.getOriginalEditor(),Y=ti(_.current,t||"",r||n||"text",i||"");Y!==$.getModel()&&$.setModel(Y)}},[i],g),Bt(()=>{if(j.current&&_.current){let $=j.current.getModifiedEditor(),Y=ti(_.current,e||"",s||n||"text",o||"");Y!==$.getModel()&&$.setModel(Y)}},[o],g),Bt(()=>{let $=j.current.getModifiedEditor();$.getOption(_.current.editor.EditorOption.readOnly)?$.setValue(e||""):e!==$.getValue()&&($.executeEdits("",[{range:$.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),$.pushUndoStop())},[e],g),Bt(()=>{var $,Y;(Y=($=j.current)==null?void 0:$.getModel())==null||Y.original.setValue(t||"")},[t],g),Bt(()=>{let{original:$,modified:Y}=j.current.getModel();_.current.editor.setModelLanguage($,r||n||"text"),_.current.editor.setModelLanguage(Y,s||n||"text")},[n,r,s],g),Bt(()=>{var $;($=_.current)==null||$.editor.setTheme(u)},[u],g),Bt(()=>{var $;($=j.current)==null||$.updateOptions(f)},[f],g);let R=m.useCallback(()=>{var F;if(!_.current)return;b.current(_.current);let $=ti(_.current,t||"",r||n||"text",i||""),Y=ti(_.current,e||"",s||n||"text",o||"");(F=j.current)==null||F.setModel({original:$,modified:Y})},[n,e,s,t,r,i,o]),x=m.useCallback(()=>{var $;!A.current&&P.current&&(j.current=_.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...f}),R(),($=_.current)==null||$.editor.setTheme(u),v(!0),A.current=!0)},[f,u,R]);m.useEffect(()=>{g&&z.current(j.current,_.current)},[g]),m.useEffect(()=>{!C&&!g&&x()},[C,g,x]);function q(){var Y,F,L,M;let $=(Y=j.current)==null?void 0:Y.getModel();l||((F=$==null?void 0:$.original)==null||F.dispose()),c||((L=$==null?void 0:$.modified)==null||L.dispose()),(M=j.current)==null||M.dispose()}return V.createElement(x2,{width:h,height:d,isEditorReady:g,loading:p,_ref:P,className:w,wrapperProps:S})}var w5=v5;m.memo(w5);function S5(t){let e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}var E5=S5,Wo=new Map;function C5({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:s,path:i,theme:o="light",line:l,loading:c="Loading...",options:u={},overrideServices:p={},saveViewState:f=!0,keepCurrentModel:d=!1,width:h="100%",height:w="100%",className:S,wrapperProps:k={},beforeMount:y=Sa,onMount:g=Sa,onChange:v,onValidate:C=Sa}){let[I,j]=m.useState(!1),[_,P]=m.useState(!0),z=m.useRef(null),b=m.useRef(null),A=m.useRef(null),R=m.useRef(g),x=m.useRef(y),q=m.useRef(),$=m.useRef(r),Y=E5(i),F=m.useRef(!1),L=m.useRef(!1);_2(()=>{let Q=C2.init();return Q.then(H=>(z.current=H)&&P(!1)).catch(H=>(H==null?void 0:H.type)!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>b.current?W():Q.cancel()}),Bt(()=>{var H,ie,ae,J;let Q=ti(z.current,t||r||"",e||s||"",i||n||"");Q!==((H=b.current)==null?void 0:H.getModel())&&(f&&Wo.set(Y,(ie=b.current)==null?void 0:ie.saveViewState()),(ae=b.current)==null||ae.setModel(Q),f&&((J=b.current)==null||J.restoreViewState(Wo.get(i))))},[i],I),Bt(()=>{var Q;(Q=b.current)==null||Q.updateOptions(u)},[u],I),Bt(()=>{!b.current||r===void 0||(b.current.getOption(z.current.editor.EditorOption.readOnly)?b.current.setValue(r):r!==b.current.getValue()&&(L.current=!0,b.current.executeEdits("",[{range:b.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),b.current.pushUndoStop(),L.current=!1))},[r],I),Bt(()=>{var H,ie;let Q=(H=b.current)==null?void 0:H.getModel();Q&&s&&((ie=z.current)==null||ie.editor.setModelLanguage(Q,s))},[s],I),Bt(()=>{var Q;l!==void 0&&((Q=b.current)==null||Q.revealLine(l))},[l],I),Bt(()=>{var Q;(Q=z.current)==null||Q.editor.setTheme(o)},[o],I);let M=m.useCallback(()=>{var Q;if(!(!A.current||!z.current)&&!F.current){x.current(z.current);let H=i||n,ie=ti(z.current,r||t||"",e||s||"",H||"");b.current=(Q=z.current)==null?void 0:Q.editor.create(A.current,{model:ie,automaticLayout:!0,...u},p),f&&b.current.restoreViewState(Wo.get(H)),z.current.editor.setTheme(o),l!==void 0&&b.current.revealLine(l),j(!0),F.current=!0}},[t,e,n,r,s,i,u,p,f,o,l]);m.useEffect(()=>{I&&R.current(b.current,z.current)},[I]),m.useEffect(()=>{!_&&!I&&M()},[_,I,M]),$.current=r,m.useEffect(()=>{var Q,H;I&&v&&((Q=q.current)==null||Q.dispose(),q.current=(H=b.current)==null?void 0:H.onDidChangeModelContent(ie=>{L.current||v(b.current.getValue(),ie)}))},[I,v]),m.useEffect(()=>{if(I){let Q=z.current.editor.onDidChangeMarkers(H=>{var ae;let ie=(ae=b.current.getModel())==null?void 0:ae.uri;if(ie&&H.find(J=>J.path===ie.path)){let J=z.current.editor.getModelMarkers({resource:ie});C==null||C(J)}});return()=>{Q==null||Q.dispose()}}return()=>{}},[I,C]);function W(){var Q,H;(Q=q.current)==null||Q.dispose(),d?f&&Wo.set(i,b.current.saveViewState()):(H=b.current.getModel())==null||H.dispose(),b.current.dispose()}return V.createElement(x2,{width:h,height:w,isEditorReady:I,loading:c,_ref:A,className:S,wrapperProps:k})}var x5=C5,_5=m.memo(x5),N5=_5;const rm=(t,e=14)=>{if(!t)return a.jsx(Qr,{size:e});const n=t.toLowerCase();return n==="postgres"||n==="postgresql"?a.jsx(Ec,{size:e,className:"db-icon postgres"}):n==="sqlite"||n==="sqlite3"?a.jsx(Xh,{size:e,className:"db-icon sqlite"}):n==="mariadb"?a.jsx(Wg,{size:e,className:"db-icon mariadb"}):n==="mysql"?a.jsx(Jh,{size:e,className:"db-icon mysql"}):n==="snowflake"?a.jsx(Cc,{size:e-2,className:"db-icon snowflake"}):n==="clickhouse"?a.jsx(Vg,{size:e,className:"db-icon clickhouse"}):a.jsx(Qr,{size:e,className:"db-icon default"})};function k5({value:t,onChange:e,onRun:n,onSave:r,isRunning:s=!1,connections:i=[],selectedConnectionId:o,onSelectConnection:l,databases:c=[],selectedDatabaseId:u,onSelectDatabase:p,schemas:f=[],selectedSchema:d,onSelectSchema:h,tables:w=[]}){var $,Y;const S=m.useRef(null),k=m.useRef(n),y=m.useRef(r),[g,v]=m.useState(!1),[C,I]=m.useState(!1),[j,_]=m.useState(!1);m.useEffect(()=>{k.current=n},[n]),m.useEffect(()=>{y.current=r},[r]);const P=m.useMemo(()=>i.find(F=>F.id===o),[i,o]),z=m.useMemo(()=>{if(f.length>0){const F=f.find(L=>L.name===d)||f[0];if(F!=null&&F.tables&&F.tables.length>0)return F.tables}return w},[f,d,w]),b=m.useMemo(()=>f.map(F=>F.name),[f]),A=m.useMemo(()=>["SELECT","FROM","WHERE","INSERT","INTO","VALUES","UPDATE","SET","DELETE","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","FULL OUTER JOIN","CROSS JOIN","ON","GROUP BY","ORDER BY","HAVING","LIMIT","OFFSET","DISTINCT","ALL","CREATE","TABLE","VIEW","INDEX","DROP","ALTER","ADD","COLUMN","CONSTRAINT","AND","OR","NOT","IN","LIKE","ILIKE","BETWEEN","IS NULL","IS NOT NULL","AS","COUNT","SUM","AVG","MAX","MIN","COALESCE","NULLIF","CAST","CASE","WHEN","THEN","ELSE","END","UNION","UNION ALL","INTERSECT","EXCEPT","EXISTS","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","CHECK","DEFAULT","ASC","DESC","NULLS FIRST","NULLS LAST","WITH","RECURSIVE","RETURNING","TRUNCATE","VACUUM","ANALYZE","EXPLAIN","BEGIN","COMMIT","ROLLBACK","SAVEPOINT","GRANT","REVOKE","ROLE","USER"],[]),R=m.useCallback((F,L)=>{S.current=F,window.__sqlCompletionDisposable&&window.__sqlCompletionDisposable.dispose();const M=L.languages.registerCompletionItemProvider("sql",{triggerCharacters:["."," ",`
`],provideCompletionItems:(W,Q)=>{const H=W.getWordUntilPosition(Q),ie={startLineNumber:Q.lineNumber,endLineNumber:Q.lineNumber,startColumn:H.startColumn,endColumn:H.endColumn},J=W.getLineContent(Q.lineNumber).substring(0,Q.column-1).toLowerCase(),fe=/(?:from|join|update|into|table)\s+\w*$/i.test(J),ee=/(?:schema|set\s+search_path)\s*=?\s*\w*$/i.test(J),Fe=J.endsWith("."),Ne=new Map;if(Fe){const ce=J.match(/(\w+)\.$/);if(ce){const je=ce[1],me=z.find(ve=>ve.name.toLowerCase()===je.toLowerCase());me&&me.columns.forEach(ve=>{Ne.set(ve.name,{label:ve.name,kind:L.languages.CompletionItemKind.Field,insertText:ve.name,detail:ve.type,sortText:`0_${ve.name}`,range:ie})});const vt=f.find(ve=>ve.name.toLowerCase()===je.toLowerCase());vt&&vt.tables.forEach(ve=>{Ne.set(ve.name,{label:ve.name,kind:L.languages.CompletionItemKind.Struct,insertText:ve.name,detail:`Table (${ve.columns.length} columns)`,sortText:`0_${ve.name}`,range:ie})})}return{suggestions:Array.from(Ne.values())}}return A.forEach(ce=>{Ne.set(ce,{label:ce,kind:L.languages.CompletionItemKind.Keyword,insertText:ce,detail:"SQL Keyword",sortText:`3_${ce}`,range:ie})}),b.forEach(ce=>{Ne.set(`schema_${ce}`,{label:ce,kind:L.languages.CompletionItemKind.Module,insertText:ce,detail:"Schema",sortText:ee?`0_${ce}`:`1_${ce}`,range:ie})}),z.forEach(ce=>{Ne.set(`table_${ce.name}`,{label:ce.name,kind:L.languages.CompletionItemKind.Struct,insertText:ce.name,detail:`Table (${ce.columns.length} columns)`,sortText:fe?`0_${ce.name}`:`1_${ce.name}`,range:ie}),d&&Ne.set(`table_${d}.${ce.name}`,{label:`${d}.${ce.name}`,kind:L.languages.CompletionItemKind.Struct,insertText:`${d}.${ce.name}`,detail:`Table in ${d}`,sortText:fe?`0_${d}.${ce.name}`:`2_${d}.${ce.name}`,range:ie}),ce.columns.forEach(je=>{Ne.set(`col_${ce.name}.${je.name}`,{label:`${ce.name}.${je.name}`,kind:L.languages.CompletionItemKind.Field,insertText:`${ce.name}.${je.name}`,detail:je.type,sortText:`2_${ce.name}.${je.name}`,range:ie})})}),{suggestions:Array.from(Ne.values())}}});window.__sqlCompletionDisposable=M,F.addCommand(L.KeyMod.CtrlCmd|L.KeyCode.Enter,()=>{var W;(W=k.current)==null||W.call(k)}),F.addCommand(L.KeyMod.CtrlCmd|L.KeyCode.KeyS,()=>{var W;(W=y.current)==null||W.call(y)}),F.focus()},[A,z,b,f,d]),x=m.useCallback(F=>{e(F||"")},[e]),q=m.useCallback(()=>{n==null||n()},[n]);return m.useEffect(()=>{const F=()=>{v(!1),I(!1),_(!1)};return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[]),a.jsxs("div",{className:"sql-editor-container",children:[a.jsxs("div",{className:"sql-editor-toolbar",children:[a.jsxs("div",{className:"toolbar-left",children:[a.jsx("button",{className:`toolbar-btn run-btn ${s?"running":""}`,onClick:q,disabled:s,title:"Run Query (Ctrl+Enter)",children:s?a.jsxs(a.Fragment,{children:[a.jsx(K3,{size:12}),a.jsx("span",{children:"Running..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(V3,{size:12}),a.jsx("span",{children:"Run"})]})}),a.jsxs("button",{className:"toolbar-btn",onClick:r,title:"Save (Ctrl+S)",children:[a.jsx(W3,{size:12}),a.jsx("span",{children:"Save"})]})]}),a.jsxs("div",{className:"toolbar-center",children:[i.length>0&&a.jsxs("div",{className:"selector-group",children:[a.jsxs("div",{className:"selector-dropdown",onClick:F=>{F.stopPropagation(),v(!g),I(!1),_(!1)},children:[P?a.jsxs(a.Fragment,{children:[rm(P.type,14),a.jsx("span",{className:"selector-value",children:P.name})]}):a.jsxs(a.Fragment,{children:[a.jsx(Qr,{size:14}),a.jsx("span",{className:"selector-placeholder",children:"Select Connection"})]}),a.jsx(qr,{size:10,className:"selector-arrow"})]}),g&&a.jsx("div",{className:"dropdown-menu",onClick:F=>F.stopPropagation(),children:i.map(F=>a.jsxs("div",{className:`dropdown-item ${F.id===o?"selected":""}`,onClick:()=>{l==null||l(F.id),v(!1)},children:[rm(F.type,14),a.jsx("span",{children:F.name})]},F.id))})]}),c.length>0&&a.jsxs("div",{className:"selector-group",children:[a.jsxs("div",{className:"selector-dropdown",onClick:F=>{F.stopPropagation(),I(!C),v(!1),_(!1)},children:[a.jsx(Qr,{size:12}),a.jsx("span",{className:"selector-value",children:(($=c.find(F=>F.id===u))==null?void 0:$.name)||"Select Database"}),a.jsx(qr,{size:10,className:"selector-arrow"})]}),C&&a.jsx("div",{className:"dropdown-menu",onClick:F=>F.stopPropagation(),children:c.map(F=>a.jsxs("div",{className:`dropdown-item ${F.id===u?"selected":""}`,onClick:()=>{p==null||p(F.id),I(!1)},children:[a.jsx(Qr,{size:12}),a.jsx("span",{children:F.name})]},F.id))})]}),(i.length>0||c.length>0)&&f.length>0&&a.jsx("div",{className:"toolbar-divider"}),o&&f.length>0&&a.jsxs("div",{className:"selector-group",children:[a.jsxs("div",{className:"selector-dropdown",onClick:F=>{F.stopPropagation(),_(!j),v(!1),I(!1)},children:[a.jsx(Va,{size:14}),a.jsx("span",{className:"selector-value",children:d||((Y=f[0])==null?void 0:Y.name)||"Select Schema"}),a.jsx(qr,{size:10,className:"selector-arrow"})]}),j&&a.jsx("div",{className:"dropdown-menu",onClick:F=>F.stopPropagation(),children:f.map(F=>a.jsxs("div",{className:`dropdown-item ${F.name===d?"selected":""}`,onClick:()=>{h==null||h(F.name),_(!1)},children:[a.jsx(Va,{size:12}),a.jsx("span",{children:F.name}),a.jsxs("span",{className:"schema-table-count",children:[F.tables.length," tables"]})]},F.name))})]})]})]}),a.jsx("div",{className:"sql-editor-wrapper",children:a.jsx(N5,{height:"100%",defaultLanguage:"sql",value:t,onChange:x,onMount:R,theme:"vs-dark",options:{fontSize:14,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace",lineHeight:20,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on",automaticLayout:!0,tabSize:2,insertSpaces:!0,renderWhitespace:"selection",lineNumbers:"on",glyphMargin:!1,folding:!0,lineDecorationsWidth:10,lineNumbersMinChars:3,padding:{top:12,bottom:12},suggest:{showKeywords:!0,showSnippets:!0},quickSuggestions:{other:!0,comments:!1,strings:!1}}})})]})}const I5=[{operator:"=",label:"Equals",group:"comparison"},{operator:"!=",label:"Not equals",group:"comparison"},{operator:">",label:"Greater than",group:"comparison"},{operator:">=",label:"Greater or equal",group:"comparison"},{operator:"<",label:"Less than",group:"comparison"},{operator:"<=",label:"Less or equal",group:"comparison"},{operator:"LIKE",label:"Like (case-sensitive)",group:"text"},{operator:"NOT LIKE",label:"Not like (case-sensitive)",group:"text"},{operator:"ILIKE",label:"Like (case-insensitive)",group:"text"},{operator:"NOT ILIKE",label:"Not like (case-insensitive)",group:"text"},{operator:"IN",label:"In list",isArray:!0,group:"list"},{operator:"NOT IN",label:"Not in list",isArray:!0,group:"list"},{operator:"IS NULL",label:"Is null",hasValue:!1,group:"null"},{operator:"IS NOT NULL",label:"Is not null",hasValue:!1,group:"null"},{operator:"BETWEEN",label:"Between",isArray:!0,group:"range"}],b5={comparison:"Comparison",text:"Text Search",list:"List Operations",null:"Null Checks",range:"Range"};function j5(t){if(!t)return 150;const e=t.toLowerCase();return e.includes("uuid")?280:e.includes("timestamp")||e.includes("datetime")?200:e.includes("date")?120:e.includes("time")||e.includes("int")||e.includes("numeric")||e.includes("decimal")?100:e.includes("bool")?80:e.includes("text")||e.includes("varchar")?200:e.includes("json")||e.includes("jsonb")?250:150}function sm({column:t,width:e,orderBy:n,onSort:r,onResize:s,position:i}){const[o,l]=m.useState(!1),c=m.useRef(0),u=m.useRef(e),p=n[t.id],f=m.useCallback(d=>{d.preventDefault(),d.stopPropagation(),l(!0),c.current=d.clientX,u.current=e},[e]);return m.useEffect(()=>{if(!o)return;const d=w=>{const S=w.clientX-c.current,k=Math.max(80,u.current+S);s(k)},h=()=>{l(!1)};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h)}},[o,s]),a.jsx("th",{className:`grid-th ${p?"sorted":""}`,style:{width:e,minWidth:80},"data-position":i,children:a.jsxs("div",{className:"th-content",children:[a.jsxs("div",{className:"th-label",onClick:r,children:[a.jsxs("span",{className:"th-text",children:[t.isPrimaryKey&&a.jsx(zg,{size:10,className:"column-icon primary"}),t.isForeignKey&&a.jsx(Fg,{size:10,className:"column-icon foreign"}),t.name]}),p&&a.jsx("span",{className:"sort-indicator",children:p==="ASC"?a.jsx(Ug,{size:12,className:"sort-icon"}):a.jsx($g,{size:12,className:"sort-icon"})})]}),a.jsx("div",{className:`column-resizer ${o?"resizing":""}`,onMouseDown:f})]})})}function mu({tableName:t,rowCount:e,totalCount:n,hasMore:r,loading:s,isFullscreen:i,selectedCount:o,hiddenColumnCount:l,filterCount:c,sortCount:u,searchValue:p,readOnly:f=!0,onSearchChange:d,onToggleFullscreen:h,onRefresh:w,onExportCSV:S,onOpenFilters:k,onOpenColumns:y,onOpenSort:g,onDeleteSelected:v,onAddRow:C,canNavigateBack:I,onNavigateBack:j,pendingChangesCount:_=0,isSaving:P=!1,onSaveChanges:z,onCancelChanges:b}){return a.jsxs("div",{className:"grid-toolbar",children:[a.jsxs("div",{className:"toolbar-left",children:[I&&j&&a.jsxs("button",{className:"toolbar-icon-btn back-btn",onClick:j,title:"Go back to previous table",children:[a.jsx(R3,{size:14}),a.jsx("span",{style:{marginLeft:4},children:"Back"})]}),t&&a.jsxs("div",{className:"row-count",children:[a.jsx(Vl,{size:12}),a.jsx("span",{className:"badge",children:t}),s?a.jsxs("span",{className:"loading-text",children:[a.jsx(Ha,{className:"spinning",size:10}),"Loading..."]}):n!==void 0?a.jsxs("span",{children:[n.toLocaleString()," rows"]}):a.jsxs("span",{children:[e," rows"]})]}),!f&&C&&a.jsx("button",{className:"toolbar-icon-btn",onClick:C,title:"Add new row",children:a.jsx(Yh,{size:12})}),o>0&&a.jsxs("div",{className:"selection-info",children:[a.jsx(Ua,{size:10}),a.jsxs("span",{children:[o," selected"]}),v&&a.jsx("button",{className:"delete-selected-btn",onClick:v,title:"Delete selected rows",children:a.jsx(Hg,{size:10})})]}),_>0&&a.jsxs("div",{className:"pending-changes-info",children:[a.jsxs("span",{className:"pending-badge",children:[_," unsaved change",_>1?"s":""]}),a.jsxs("button",{className:"save-changes-btn",onClick:z,disabled:P,title:"Save all changes",children:[P?a.jsx(Ha,{className:"spinning",size:12}):a.jsx(Ua,{size:12}),a.jsx("span",{style:{marginLeft:4},children:"Save"})]}),a.jsxs("button",{className:"cancel-changes-btn",onClick:b,disabled:P,title:"Cancel all changes",children:[a.jsx(an,{size:12}),a.jsx("span",{style:{marginLeft:4},children:"Cancel"})]})]})]}),d&&a.jsx("div",{className:"toolbar-center",children:a.jsxs("div",{className:"filter-input-container",children:[a.jsx(Ld,{size:11,className:"filter-input-icon"}),a.jsx("input",{type:"text",className:"filter-input",placeholder:"Quick filter...",value:p||"",onChange:A=>d(A.target.value)}),p&&a.jsx("button",{className:"filter-clear-btn",onClick:()=>d(""),title:"Clear filter",children:a.jsx(an,{size:10})})]})}),a.jsxs("div",{className:"toolbar-right",children:[a.jsxs("button",{className:`toolbar-icon-btn ${c>0?"active":""}`,onClick:k,title:"Filters",children:[a.jsx(Ld,{size:14}),c>0&&a.jsx("span",{className:"btn-badge",children:c})]}),a.jsxs("button",{className:`toolbar-icon-btn ${u>0?"active":""}`,onClick:g,title:"Sort Order",children:[a.jsx(Bg,{size:14}),u>0&&a.jsx("span",{className:"btn-badge",children:u})]}),a.jsxs("button",{className:`toolbar-icon-btn ${l>0?"active":""}`,onClick:y,title:"Column Visibility",children:[a.jsx(M3,{size:14}),l>0&&a.jsx("span",{className:"btn-badge",children:l})]}),a.jsx("div",{className:"toolbar-divider"}),w&&a.jsx("button",{className:"toolbar-icon-btn",onClick:w,title:"Refresh",disabled:s,children:a.jsx(es,{size:14,className:s?"spinning":""})}),a.jsx("button",{className:"toolbar-icon-btn",onClick:S,title:"Export CSV",children:a.jsx(Lg,{size:14})}),a.jsx("button",{className:"toolbar-icon-btn",onClick:h,title:i?"Exit Fullscreen":"Fullscreen",children:i?a.jsx(D3,{size:14}):a.jsx(B3,{size:14})})]})]})}function T5({columns:t,filters:e,onAddFilter:n,onRemoveFilter:r,onUpdateFilter:s,isOpen:i,onClose:o}){const[l,c]=m.useState("column"),[u,p]=m.useState(""),[f,d]=m.useState(null),[h,w]=m.useState(""),[S,k]=m.useState(""),y=m.useMemo(()=>t.filter(_=>_.name.toLowerCase().includes(S.toLowerCase())),[t,S]),g=m.useMemo(()=>{const _={};return I5.forEach(P=>{_[P.group]||(_[P.group]=[]),_[P.group].push(P)}),_},[]),v=_=>{p(_),c("operator"),k("")},C=_=>{d(_),_.hasValue===!1?I(_,[]):c("value")},I=(_,P)=>{const z=_||f;z&&(n({column:u,ref:z,values:P||(h?z.isArray?h.split(",").map(b=>b.trim()):[h]:[])}),j(),o())},j=()=>{c("column"),p(""),d(null),w(""),k("")};return i?a.jsx("div",{className:"filter-panel-overlay",onClick:o,children:a.jsxs("div",{className:"filter-panel",onClick:_=>_.stopPropagation(),children:[a.jsxs("div",{className:"filter-panel-header",children:[a.jsx("h3",{children:"Add Filter"}),a.jsx("button",{className:"close-btn",onClick:o,children:a.jsx(an,{size:14})})]}),a.jsxs("div",{className:"filter-panel-content",children:[l==="column"&&a.jsxs("div",{className:"filter-step",children:[a.jsx("input",{type:"text",className:"filter-search",placeholder:"Search columns...",value:S,onChange:_=>k(_.target.value),autoFocus:!0}),a.jsx("div",{className:"filter-list",children:y.map(_=>a.jsxs("button",{className:"filter-list-item",onClick:()=>v(_.id),children:[a.jsx(Qr,{size:12,className:"item-icon"}),a.jsx("span",{className:"item-name",children:_.name}),_.type&&a.jsx("span",{className:"item-type",children:_.type})]},_.id))})]}),l==="operator"&&a.jsxs("div",{className:"filter-step",children:[a.jsxs("div",{className:"step-header",children:[a.jsx("button",{className:"back-btn",onClick:()=>c("column"),children:" Back"}),a.jsx("span",{className:"selected-column",children:u})]}),a.jsx("div",{className:"filter-list grouped",children:Object.entries(g).map(([_,P])=>a.jsxs("div",{className:"filter-group",children:[a.jsx("div",{className:"group-label",children:b5[_]}),P.map(z=>a.jsxs("button",{className:"filter-list-item",onClick:()=>C(z),children:[a.jsx(Ld,{size:12,className:"item-icon"}),a.jsx("span",{className:"item-name",children:z.label}),a.jsx("span",{className:"item-operator",children:z.operator})]},z.operator))]},_))})]}),l==="value"&&a.jsxs("div",{className:"filter-step",children:[a.jsxs("div",{className:"step-header",children:[a.jsx("button",{className:"back-btn",onClick:()=>c("operator"),children:" Back"}),a.jsxs("span",{className:"selected-filter",children:[u," ",f==null?void 0:f.operator]})]}),a.jsxs("div",{className:"value-input-container",children:[a.jsx("input",{type:"text",className:"filter-value-input",placeholder:`Enter value for ${u}...`,value:h,onChange:_=>w(_.target.value),onKeyDown:_=>{_.key==="Enter"&&I()},autoFocus:!0}),(f==null?void 0:f.operator.toLowerCase().includes("like"))&&a.jsxs("div",{className:"filter-tip",children:["Tip: Use ",a.jsx("kbd",{children:"%"})," as wildcard"]}),(f==null?void 0:f.isArray)&&a.jsxs("div",{className:"filter-tip",children:["Tip: Separate multiple values with ",a.jsx("kbd",{children:","})]}),a.jsx("button",{className:"apply-filter-btn",onClick:()=>I(),children:"Apply Filter"})]})]})]})]})}):null}function P5({filters:t,onRemoveFilter:e,onClearAll:n}){return t.length===0?null:a.jsxs("div",{className:"active-filters-bar",children:[t.map((r,s)=>a.jsxs("div",{className:"active-filter-chip",children:[a.jsx("span",{className:"filter-column",children:r.column}),a.jsx("span",{className:"filter-operator",children:r.ref.operator}),r.values.length>0&&a.jsx("span",{className:"filter-value",children:r.values.join(", ")}),a.jsx("button",{className:"remove-filter-btn",onClick:()=>e(s),children:a.jsx(an,{size:10})})]},s)),t.length>1&&a.jsx("button",{className:"clear-all-btn",onClick:n,children:"Clear all"})]})}function A5({columns:t,hiddenColumns:e,onToggleColumn:n,onShowAll:r,onHideAll:s,isOpen:i,onClose:o}){const[l,c]=m.useState(""),u=m.useMemo(()=>t.filter(p=>p.name.toLowerCase().includes(l.toLowerCase())),[t,l]);return i?a.jsx("div",{className:"filter-panel-overlay",onClick:o,children:a.jsxs("div",{className:"filter-panel",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"filter-panel-header",children:[a.jsx("h3",{children:"Column Visibility"}),a.jsx("button",{className:"close-btn",onClick:o,children:a.jsx(an,{size:14})})]}),a.jsxs("div",{className:"filter-panel-content",children:[a.jsx("input",{type:"text",className:"filter-search",placeholder:"Search columns...",value:l,onChange:p=>c(p.target.value),autoFocus:!0}),a.jsxs("div",{className:"bulk-actions",children:[a.jsx("button",{onClick:r,children:"Show All"}),a.jsx("button",{onClick:s,children:"Hide All"})]}),a.jsx("div",{className:"filter-list",children:u.map(p=>a.jsxs("button",{className:`filter-list-item ${e.includes(p.id)?"":"active"}`,onClick:()=>n(p.id),children:[a.jsx("span",{className:"checkbox",children:!e.includes(p.id)&&a.jsx(Ua,{size:10})}),a.jsx("span",{className:"item-name",children:p.name}),p.type&&a.jsx("span",{className:"item-type",children:p.type})]},p.id))})]})]})}):null}function R5({columns:t,orderBy:e,onToggleSort:n,onSetSort:r,onRemoveSort:s,onClearAll:i,isOpen:o,onClose:l}){const[c,u]=m.useState(""),p=Object.entries(e),f=m.useMemo(()=>t.filter(d=>!e[d.id]&&d.name.toLowerCase().includes(c.toLowerCase())),[t,e,c]);return o?a.jsx("div",{className:"filter-panel-overlay",onClick:l,children:a.jsxs("div",{className:"filter-panel sort-panel",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"filter-panel-header",children:[a.jsx("h3",{children:"Sort Order"}),a.jsx("button",{className:"close-btn",onClick:l,children:a.jsx(an,{size:14})})]}),a.jsxs("div",{className:"filter-panel-content",children:[p.length>0&&a.jsxs("div",{className:"current-sorts",children:[a.jsxs("div",{className:"section-label",children:["Current Sorting",p.length>0&&a.jsx("button",{className:"clear-btn",onClick:i,children:"Clear"})]}),p.map(([d,h])=>a.jsxs("div",{className:"sort-item",children:[a.jsx("span",{className:"sort-column",children:d}),a.jsxs("div",{className:"sort-toggle",children:[a.jsxs("button",{className:`sort-dir-btn ${h==="ASC"?"active":""}`,onClick:()=>r(d,"ASC"),children:[a.jsx(Ug,{size:12}),"ASC"]}),a.jsxs("button",{className:`sort-dir-btn ${h==="DESC"?"active":""}`,onClick:()=>r(d,"DESC"),children:[a.jsx($g,{size:12}),"DESC"]})]}),a.jsx("button",{className:"remove-sort-btn",onClick:()=>s(d),children:a.jsx(an,{size:12})})]},d))]}),p.length===0&&a.jsxs("div",{className:"empty-state",children:[a.jsx(Bg,{size:24,className:"empty-icon"}),a.jsx("p",{children:"No sorting applied"}),a.jsx("span",{children:"Click on column headers or add columns below"})]}),f.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"section-label",children:"Add Column"}),a.jsx("input",{type:"text",className:"filter-search",placeholder:"Search columns...",value:c,onChange:d=>u(d.target.value)}),a.jsx("div",{className:"filter-list",children:f.slice(0,10).map(d=>a.jsxs("button",{className:"filter-list-item",onClick:()=>r(d.id,"ASC"),children:[a.jsx(Yh,{size:10,className:"item-icon"}),a.jsx("span",{className:"item-name",children:d.name}),d.type&&a.jsx("span",{className:"item-type",children:d.type})]},d.id))})]})]})]})}):null}function k2({columns:t=[],data:e=[],loading:n=!1,onLoadMore:r,hasMore:s=!1,isFetchingMore:i=!1,totalCount:o,tableName:l,schema:c,onRefresh:u,onExportCSV:p,readOnly:f=!0,error:d,onFilterChange:h,onSortChange:w,onCellEdit:S,onRowDelete:k,onForeignKeyNavigate:y,canNavigateBack:g=!1,onNavigateBack:v,onSaveSuccess:C,onSaveError:I}){const[j,_]=m.useState({}),[P,z]=m.useState(!1),[b,A]=m.useState(null),[R,x]=m.useState(""),[q,$]=m.useState(new Set),[Y,F]=m.useState([]),[L,M]=m.useState({}),[W,Q]=m.useState([]),[H,ie]=m.useState(""),[ae,J]=m.useState({}),[fe,ee]=m.useState(!1),[Fe,Ne]=m.useState(null),[ce,je]=m.useState(null),[me,vt]=m.useState(""),[ve,wt]=m.useState(!1),[xe,Ze]=m.useState(!1),[ln,ht]=m.useState(!1),cn=m.useRef(null),jt=m.useRef(null),Le=m.useMemo(()=>t.filter(D=>!W.includes(D.id)),[t,W]),ge=m.useMemo(()=>{let D=e;if(H.trim()){const G=H.toLowerCase();D=D.filter(Z=>Object.values(Z).some(le=>le==null?!1:String(le).toLowerCase().includes(G)))}return Y.length>0&&(D=D.filter(G=>Y.every(Z=>{const le=G[Z.column],he=Z.values;switch(Z.ref.operator){case"=":return String(le)===he[0];case"!=":return String(le)!==he[0];case">":return Number(le)>Number(he[0]);case">=":return Number(le)>=Number(he[0]);case"<":return Number(le)<Number(he[0]);case"<=":return Number(le)<=Number(he[0]);case"LIKE":return String(le).includes(he[0]);case"NOT LIKE":return!String(le).includes(he[0]);case"ILIKE":return String(le).toLowerCase().includes(he[0].toLowerCase());case"NOT ILIKE":return!String(le).toLowerCase().includes(he[0].toLowerCase());case"IN":return he.includes(String(le));case"NOT IN":return!he.includes(String(le));case"IS NULL":return le==null;case"IS NOT NULL":return le!=null;case"BETWEEN":const at=Number(le);return at>=Number(he[0])&&at<=Number(he[1]);default:return!0}}))),D},[e,H,Y]),$e=m.useCallback(D=>j[D.id]||j5(D.type),[j]),Ke=m.useMemo(()=>t.filter(D=>D.isPrimaryKey).map(D=>D.id),[t]),Ue=m.useCallback(D=>{const G=[...Y,D];F(G),h==null||h(G)},[Y,h]),Tt=m.useCallback(D=>{const G=Y.filter((Z,le)=>le!==D);F(G),h==null||h(G)},[Y,h]),un=m.useCallback(()=>{F([]),h==null||h([])},[h]),kn=m.useCallback(D=>{const G=L[D];let Z;if(!G)Z={...L,[D]:"ASC"};else if(G==="ASC")Z={...L,[D]:"DESC"};else{const{[D]:le,...he}=L;Z=he}M(Z),w==null||w(Z)},[L,w]),dn=m.useCallback((D,G)=>{const Z={...L,[D]:G};M(Z),w==null||w(Z)},[L,w]),is=m.useCallback(D=>{const{[D]:G,...Z}=L;M(Z),w==null||w(Z)},[L,w]),Fn=m.useCallback(()=>{M({}),w==null||w({})},[w]),$n=m.useCallback(D=>{W.includes(D)?Q(W.filter(G=>G!==D)):Q([...W,D])},[W]),Qt=m.useCallback(()=>{Q([])},[]),Un=m.useCallback(()=>{Q(t.map(D=>D.id))},[t]),Pt=m.useCallback((D,G)=>{_(Z=>({...Z,[D]:G}))},[]),O=m.useCallback((D,G,Z)=>{f||(A(`${D}-${G}`),x(Z==null?"":String(Z)))},[f]),se=m.useCallback(()=>{var at;if(!b)return;const[D,G]=b.split("-"),Z=parseInt(D),le=(at=e[Z])==null?void 0:at[G],he=R;String(le??"")!==String(he)&&J(St=>({...St,[b]:{rowIndex:Z,columnId:G,value:he,originalValue:le}})),A(null)},[b,R,e]),Me=m.useCallback(D=>{D.key==="Enter"?se():D.key==="Escape"&&A(null)},[se]),Gt=m.useCallback(async()=>{if(Object.keys(ae).length===0||!S)return;ee(!0);const D=Object.keys(ae).length;let G=0,Z=null;try{for(const le of Object.values(ae))try{await S(le.rowIndex,le.columnId,le.value),G++}catch(he){Z||(Z=he instanceof Error?he:new Error("Failed to save change")),console.error("Failed to save change:",he)}if(J({}),Z&&G===0)throw I&&I(Z),Z;if(Z){const le=new Error(`Saved ${G} of ${D} changes. Some changes failed.`);I&&I(le),console.warn(le.message)}else C&&C(D)}catch(le){throw console.error("Failed to save changes:",le),le}finally{ee(!1)}},[ae,S,C,I]),Se=m.useCallback(()=>{J({})},[]),pe=m.useCallback(()=>{var G,Z,le;const D={};for(const he of t)he.defaultValue!==void 0&&he.defaultValue!==null?D[he.id]=he.defaultValue:he.isNullable?D[he.id]=null:(G=he.type)!=null&&G.toLowerCase().includes("int")||(Z=he.type)!=null&&Z.toLowerCase().includes("numeric")?D[he.id]=0:(le=he.type)!=null&&le.toLowerCase().includes("bool")?D[he.id]=!1:D[he.id]="";Ne(D)},[t]),N=m.useCallback(async()=>{if(!Fe)return;const D={};for(const G of t){const Z=Fe[G.id];G.defaultValue!==void 0&&G.defaultValue!==null&&Z===G.defaultValue||(D[G.id]=Z)}try{console.log("Would insert row:",D),Ne(null),je(null),u==null||u()}catch(G){console.error("Failed to add row:",G)}},[t,Fe,u]),U=m.useCallback(()=>{Ne(null),je(null)},[]),T=m.useCallback((D,G)=>{je(D),vt(G==null?"":String(G))},[]),X=m.useCallback(()=>{!ce||!Fe||(Ne(D=>D?{...D,[ce]:me}:null),je(null))},[ce,Fe,me]),ne=m.useCallback(D=>{D.key==="Enter"?(D.preventDefault(),X()):D.key==="Escape"&&(D.preventDefault(),je(null))},[X]),Ae=m.useCallback(D=>{$(G=>{const Z=new Set(G);return Z.has(D)?Z.delete(D):Z.add(D),Z})},[]),Ie=m.useCallback(()=>{q.size===ge.length?$(new Set):$(new Set(ge.map((D,G)=>G)))},[ge,q]),De=m.useCallback(()=>{if(p){p();return}const D=Le.map(St=>St.name).join(","),G=e.map(St=>Le.map(Lc=>{const At=St[Lc.id];if(At==null)return"";const hn=String(At);return hn.includes(",")||hn.includes('"')||hn.includes(`
`)?`"${hn.replace(/"/g,'""')}"`:hn}).join(",")).join(`
`),Z=`${D}
${G}`,le=new Blob([Z],{type:"text/csv"}),he=URL.createObjectURL(le),at=document.createElement("a");at.href=he,at.download=`${l||"data"}.csv`,at.click(),URL.revokeObjectURL(he)},[Le,e,l,p]),Ee=m.useCallback(D=>{if(!s||n||!r)return;const G=D.currentTarget;G.scrollHeight-G.scrollTop-G.clientHeight<100&&r()},[s,n,r]),Je=(D,G,Z)=>{const le=`${G}-${Z}`,he=b===le,at=le in ae,St=t.find(hn=>hn.id===Z),Lc=(St==null?void 0:St.isForeignKey)&&(St==null?void 0:St.foreignTable),At=at?ae[le].value:D;return he?a.jsx("input",{type:"text",className:"cell-input",value:R,onChange:hn=>x(hn.target.value),onBlur:se,onKeyDown:Me,autoFocus:!0}):At==null?a.jsx("span",{className:"null-value",children:"NULL"}):typeof At=="boolean"?a.jsx("span",{className:"bool-value",children:At?"true":"false"}):typeof At=="object"?a.jsx("span",{className:"json-value",children:JSON.stringify(At)}):Lc&&y&&At?a.jsxs("div",{className:"foreign-key-cell",children:[a.jsx("span",{className:`fk-value ${at?"edited-cell":""}`,children:String(At)}),a.jsx("button",{className:"fk-navigate-btn",onClick:hn=>{hn.stopPropagation(),y(St.foreignTable,c||"public",St.foreignColumn||"id",At)},title:`Go to ${St.foreignTable}`,children:a.jsx(Fg,{size:10})})]}):a.jsx("span",{className:at?"edited-cell":"",children:String(At)})},In=D=>{if(!Fe)return null;const G=t.find(at=>at.id===D),Z=Fe[D],le=ce===D,he=(G==null?void 0:G.defaultValue)!==void 0&&(G==null?void 0:G.defaultValue)!==null&&Z===G.defaultValue;return le?a.jsx("input",{type:"text",className:"cell-input",value:me,onChange:at=>vt(at.target.value),onBlur:X,onKeyDown:ne,autoFocus:!0}):he?a.jsx("span",{className:"default-value",children:String(Z)}):Z==null?a.jsx("span",{className:"null-value",children:"NULL"}):typeof Z=="boolean"?a.jsx("span",{className:"bool-value",children:Z?"true":"false"}):a.jsx("span",{children:String(Z)})};return d?a.jsxs("div",{className:`modern-data-grid ${P?"fullscreen":""}`,ref:cn,children:[a.jsx(mu,{tableName:l,rowCount:0,loading:n,isFullscreen:P,selectedCount:0,hiddenColumnCount:W.length,filterCount:Y.length,sortCount:Object.keys(L).length,readOnly:f,onToggleFullscreen:()=>z(!P),onRefresh:u,onExportCSV:De,onOpenFilters:()=>wt(!0),onOpenColumns:()=>Ze(!0),onOpenSort:()=>ht(!0),canNavigateBack:g,onNavigateBack:v}),a.jsxs("div",{className:"grid-error",children:[a.jsx("div",{className:"error-icon",children:""}),a.jsx("div",{className:"error-title",children:"Failed to load data"}),a.jsx("div",{className:"error-message",children:d}),u&&a.jsxs("button",{className:"error-retry-btn",onClick:u,children:[a.jsx(es,{size:12}),a.jsx("span",{children:"Retry"})]})]})]}):!n&&e.length===0&&Y.length===0?a.jsxs("div",{className:`modern-data-grid ${P?"fullscreen":""}`,ref:cn,children:[a.jsx(mu,{tableName:l,rowCount:0,loading:n,isFullscreen:P,selectedCount:0,hiddenColumnCount:W.length,filterCount:Y.length,sortCount:Object.keys(L).length,readOnly:f,onToggleFullscreen:()=>z(!P),onRefresh:u,onExportCSV:De,onOpenFilters:()=>wt(!0),onOpenColumns:()=>Ze(!0),onOpenSort:()=>ht(!0),onAddRow:pe,canNavigateBack:g,onNavigateBack:v}),a.jsx("div",{className:"grid-table-container",children:a.jsxs("table",{className:"grid-table",children:[a.jsxs("colgroup",{children:[a.jsx("col",{style:{width:50,minWidth:50}}),Le.map(D=>a.jsx("col",{style:{width:$e(D),minWidth:80}},D.id))]}),a.jsx("thead",{className:"grid-thead",children:a.jsxs("tr",{className:"grid-header-row",children:[a.jsx("th",{className:"grid-th row-number-header",children:a.jsx("div",{className:"th-content",children:a.jsx("span",{className:"th-text",children:"#"})})}),Le.map((D,G)=>a.jsx(sm,{column:D,width:$e(D),orderBy:L,onSort:()=>kn(D.id),onResize:Z=>Pt(D.id,Z),position:G===0?"first":G===Le.length-1?"last":"middle"},D.id))]})}),a.jsx("tbody",{className:"grid-tbody",children:a.jsx("tr",{className:"grid-row empty-row",children:a.jsx("td",{className:"grid-cell empty-cell",colSpan:Le.length+1,children:a.jsxs("div",{className:"empty-data-message",children:[a.jsx(Qr,{className:"empty-icon"}),a.jsx("span",{children:"No data found"})]})})})})]})})]}):a.jsxs("div",{className:`modern-data-grid ${P?"fullscreen":""}`,ref:cn,children:[a.jsx(mu,{tableName:l,rowCount:ge.length,totalCount:o,hasMore:s,loading:n,isFullscreen:P,selectedCount:q.size,hiddenColumnCount:W.length,filterCount:Y.length,sortCount:Object.keys(L).length,searchValue:H,readOnly:f,onSearchChange:ie,onToggleFullscreen:()=>z(!P),onRefresh:u,onExportCSV:De,onOpenFilters:()=>wt(!0),onOpenColumns:()=>Ze(!0),onOpenSort:()=>ht(!0),onDeleteSelected:q.size>0&&k?()=>k(Array.from(q).map(D=>ge[D])):void 0,onAddRow:pe,canNavigateBack:g,onNavigateBack:v,pendingChangesCount:Object.keys(ae).length,isSaving:fe,onSaveChanges:Gt,onCancelChanges:Se}),a.jsx(P5,{filters:Y,onRemoveFilter:Tt,onClearAll:un}),a.jsxs("div",{className:"grid-table-container",onScroll:Ee,children:[a.jsxs("table",{className:"grid-table",children:[a.jsxs("colgroup",{children:[Ke.length>0&&a.jsx("col",{style:{width:40,minWidth:40}}),a.jsx("col",{style:{width:50,minWidth:50}}),Le.map(D=>a.jsx("col",{style:{width:$e(D),minWidth:80}},D.id))]}),a.jsx("thead",{className:"grid-thead",children:a.jsxs("tr",{className:"grid-header-row",children:[Ke.length>0&&a.jsx("th",{className:"grid-th checkbox-header",children:a.jsx("div",{className:"checkbox-cell",onClick:Ie,children:a.jsx("span",{className:`checkbox ${q.size===ge.length&&ge.length>0?"checked":""}`,children:q.size===ge.length&&ge.length>0&&a.jsx(Ua,{size:10})})})}),a.jsx("th",{className:"grid-th row-number-header",children:a.jsx("div",{className:"th-content",children:a.jsx("span",{className:"th-text",children:"#"})})}),Le.map((D,G)=>a.jsx(sm,{column:D,width:$e(D),orderBy:L,onSort:()=>kn(D.id),onResize:Z=>Pt(D.id,Z),position:G===0?"first":G===Le.length-1?"last":"middle"},D.id))]})}),a.jsxs("tbody",{className:"grid-tbody",ref:jt,children:[Fe&&a.jsxs("tr",{className:"grid-row new-row",children:[Ke.length>0&&a.jsx("td",{className:"grid-cell checkbox-cell",children:a.jsx("span",{className:"new-row-indicator",children:"+"})}),a.jsx("td",{className:"grid-cell row-number-cell new-row-label",children:a.jsx("span",{children:"NEW"})}),Le.map(D=>a.jsx("td",{className:"grid-cell new-row-cell",onDoubleClick:()=>T(D.id,Fe[D.id]),children:a.jsx("div",{className:"cell-content-wrapper",children:In(D.id)})},D.id)),a.jsxs("td",{className:"grid-cell new-row-actions",children:[a.jsx("button",{className:"new-row-btn save",onClick:N,title:"Save new row",children:"Save"}),a.jsx("button",{className:"new-row-btn cancel",onClick:U,title:"Discard",children:"Discard"})]})]}),ge.map((D,G)=>a.jsxs("tr",{className:`grid-row ${q.has(G)?"selected":""}`,children:[Ke.length>0&&a.jsx("td",{className:"grid-cell checkbox-cell",onClick:()=>Ae(G),children:a.jsx("span",{className:`checkbox ${q.has(G)?"checked":""}`,children:q.has(G)&&a.jsx(Ua,{size:10})})}),a.jsx("td",{className:"grid-cell row-number-cell",children:G+1}),Le.map(Z=>a.jsx("td",{className:"grid-cell",onDoubleClick:()=>O(G,Z.id,D[Z.id]),children:a.jsx("div",{className:"cell-content-wrapper",children:Je(D[Z.id],G,Z.id)})},Z.id))]},G))]})]}),n&&a.jsxs("div",{className:"grid-loading",children:[a.jsx(Ha,{size:16,className:"spinning"}),a.jsx("span",{children:"Loading..."})]})]}),(s||e.length>0)&&a.jsx("div",{className:"grid-footer",children:a.jsxs("div",{className:"pagination-info",children:["Showing ",ge.length,H&&ge.length!==e.length&&` of ${e.length}`," ","rows",i&&a.jsxs("span",{className:"loading-more",children:[a.jsx(Ha,{size:10,className:"spinning"}),"Loading more..."]}),s&&!i&&!H&&" (scroll for more)"]})}),a.jsx(T5,{columns:t,filters:Y,onAddFilter:Ue,onRemoveFilter:Tt,onUpdateFilter:(D,G)=>{const Z=[...Y];Z[D]=G,F(Z),h==null||h(Z)},isOpen:ve,onClose:()=>wt(!1)}),a.jsx(A5,{columns:t,hiddenColumns:W,onToggleColumn:$n,onShowAll:Qt,onHideAll:Un,isOpen:xe,onClose:()=>Ze(!1)}),a.jsx(R5,{columns:t,orderBy:L,onToggleSort:kn,onSetSort:dn,onRemoveSort:is,onClearAll:Fn,isOpen:ln,onClose:()=>ht(!1)})]})}m.createContext(null);function O5({columns:t=[],rows:e=[],loading:n=!1,error:r=null,executionTime:s,onClose:i,onLoadMore:o,hasMore:l=!1}){const[c,u]=m.useState("table"),[p,f]=m.useState(!1),d=m.useMemo(()=>e.map(S=>{const k={};return t.forEach((y,g)=>{k[y.name]=S[g]}),k}),[t,e]),h=m.useCallback(()=>{navigator.clipboard.writeText(JSON.stringify(d,null,2)),f(!0),setTimeout(()=>f(!1),2e3)},[d]),w=m.useCallback(()=>{const S=t.map(I=>I.name).join(","),k=e.map(I=>I.map(j=>{if(j==null)return"";const _=String(j);return _.includes(",")||_.includes('"')||_.includes(`
`)?`"${_.replace(/"/g,'""')}"`:_}).join(",")).join(`
`),y=`${S}
${k}`,g=new Blob([y],{type:"text/csv"}),v=URL.createObjectURL(g),C=document.createElement("a");C.href=v,C.download="query_results.csv",C.click(),URL.revokeObjectURL(v)},[t,e]);return n?a.jsx("div",{className:"results-panel",children:a.jsxs("div",{className:"results-loading",children:[a.jsx(Ha,{size:24,className:"spinning"}),a.jsx("span",{children:"Executing query..."})]})}):r?a.jsx("div",{className:"results-panel",children:a.jsxs("div",{className:"results-error",children:[a.jsx(U3,{size:20}),a.jsxs("div",{className:"error-content",children:[a.jsx("strong",{children:"Query Error"}),a.jsx("span",{children:r})]}),i&&a.jsx("button",{className:"close-btn",onClick:i,children:a.jsx(an,{size:14})})]})}):t.length===0&&e.length===0?a.jsx("div",{className:"results-panel",children:a.jsxs("div",{className:"results-empty",children:[a.jsx(Vl,{size:32}),a.jsx("span",{children:"Run a query to see results"})]})}):a.jsxs("div",{className:"results-panel",children:[a.jsxs("div",{className:"results-toolbar",children:[a.jsxs("div",{className:"toolbar-left",children:[a.jsxs("div",{className:"view-toggle",children:[a.jsxs("button",{className:`toggle-btn ${c==="table"?"active":""}`,onClick:()=>u("table"),title:"Table View",children:[a.jsx(Vl,{size:12}),a.jsx("span",{children:"Table"})]}),a.jsxs("button",{className:`toggle-btn ${c==="json"?"active":""}`,onClick:()=>u("json"),title:"JSON View",children:[a.jsx(L3,{size:12}),a.jsx("span",{children:"JSON"})]})]}),a.jsxs("div",{className:"results-stats",children:[a.jsxs("span",{className:"stat-item",children:[a.jsx("strong",{children:e.length})," rows"]}),s!==void 0&&a.jsxs("span",{className:"stat-item",children:[a.jsx("strong",{children:s.toFixed(0)})," ms"]})]})]}),a.jsxs("div",{className:"toolbar-right",children:[a.jsx("button",{className:"toolbar-btn",onClick:h,title:"Copy as JSON",children:p?a.jsxs(a.Fragment,{children:[a.jsx(O3,{size:12}),a.jsx("span",{children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(z3,{size:12}),a.jsx("span",{children:"Copy"})]})}),a.jsxs("button",{className:"toolbar-btn",onClick:w,title:"Export as CSV",children:[a.jsx(Lg,{size:12}),a.jsx("span",{children:"Export"})]}),i&&a.jsx("button",{className:"toolbar-btn close-btn",onClick:i,children:a.jsx(an,{size:12})})]})]}),a.jsx("div",{className:"results-content",children:c==="table"?a.jsx(k2,{columns:t.map(S=>({id:S.name,name:S.name,type:S.type})),data:e.map(S=>{const k={};return t.forEach((y,g)=>{k[y.name]=S[g]}),k}),loading:n,onLoadMore:o,hasMore:l,readOnly:!0}):a.jsx("div",{className:"json-view",children:a.jsx("pre",{children:JSON.stringify(d,null,2)})})})]})}const I2=[{id:"bedrock",name:"AWS Bedrock",description:"Amazon Bedrock AI models (Claude, Llama)",serviceId:1,requiresCredentials:!0},{id:"openai",name:"OpenAI",description:"OpenAI API models (GPT-4, GPT-5)",serviceId:2,requiresCredentials:!0},{id:"claude",name:"Anthropic Claude",description:"Direct Anthropic Claude API",serviceId:3,requiresCredentials:!0}],Ql=[{modelId:1,providerId:"bedrock",label:"Claude 3 Haiku",modelName:"us.anthropic.claude-3-haiku-20240307-v1:0"},{modelId:2,providerId:"bedrock",label:"Claude 3 Sonnet",modelName:"us.anthropic.claude-3-sonnet-20240229-v1:0"},{modelId:3,providerId:"bedrock",label:"Claude 3.5 Haiku",modelName:"us.anthropic.claude-3-5-haiku-20241022-v1:0"},{modelId:4,providerId:"bedrock",label:"Claude 3.5 Sonnet",modelName:"us.anthropic.claude-3-5-sonnet-20240620-v1:0"},{modelId:5,providerId:"bedrock",label:"Claude 3.7 Sonnet",modelName:"us.anthropic.claude-3-7-sonnet-20250219-v1:0"},{modelId:6,providerId:"bedrock",label:"Claude Sonnet 4.5",modelName:"us.anthropic.claude-sonnet-4-5-20250929-v1:0"},{modelId:7,providerId:"bedrock",label:"Llama 3.3 70B",modelName:"us.meta.llama3-3-70b-instruct-v1:0"},{modelId:9,providerId:"bedrock",label:"Llama 4 Maverick 17B",modelName:"us.meta.llama4-maverick-17b-instruct-v1:0"},{modelId:10,providerId:"bedrock",label:"Llama 4 Scout 17B",modelName:"us.meta.llama4-scout-17b-instruct-v1:0"},{modelId:210,providerId:"openai",label:"GPT-5.2",modelName:"gpt-5.2"},{modelId:211,providerId:"openai",label:"GPT-5.1",modelName:"gpt-5.1"},{modelId:212,providerId:"openai",label:"GPT-5",modelName:"gpt-5"},{modelId:213,providerId:"openai",label:"GPT-5 Mini",modelName:"gpt-5-mini"},{modelId:220,providerId:"openai",label:"GPT-4.1",modelName:"gpt-4.1"},{modelId:221,providerId:"openai",label:"GPT-4.1 Mini",modelName:"gpt-4.1-mini"},{modelId:201,providerId:"openai",label:"GPT-4o",modelName:"gpt-4o"},{modelId:202,providerId:"openai",label:"GPT-4o Mini",modelName:"gpt-4o-mini"},{modelId:310,providerId:"claude",label:"Claude Sonnet 4.5",modelName:"claude-sonnet-4-5-20250929"},{modelId:313,providerId:"claude",label:"Claude Sonnet 4",modelName:"claude-sonnet-4-20250514"},{modelId:311,providerId:"claude",label:"Claude Haiku 4.5",modelName:"claude-haiku-4-5-20251001"},{modelId:315,providerId:"claude",label:"Claude Haiku 3.5",modelName:"claude-3-5-haiku-20241022"}];function af(t){return I2.find(e=>e.id===t)}function im(t){return Ql.filter(e=>e.providerId===t)}function L5(t){const e=af(t);return(e==null?void 0:e.requiresCredentials)??!0}const ot={SELECTED_PROVIDER:"ai_selected_provider",SELECTED_MODEL:"ai_selected_model",SELECTED_MODEL_ID:"ai_selected_model_id",AWS_ACCESS_KEY_ID:"ai_aws_access_key_id",AWS_SECRET_ACCESS_KEY:"ai_aws_secret_access_key",AWS_REGION:"ai_aws_region",ANTHROPIC_API_KEY:"ai_anthropic_api_key",OPENAI_API_KEY:"ai_openai_api_key"};async function am(){try{const t=await sf();return t.success&&t.token?t.token:null}catch{return null}}class M5{constructor(){Be(this,"currentProvider");Be(this,"currentModel");Be(this,"currentModelId");Be(this,"config");this.currentProvider=localStorage.getItem(ot.SELECTED_PROVIDER)||"bedrock",this.currentModelId=parseInt(localStorage.getItem(ot.SELECTED_MODEL_ID)||"3",10);const e=localStorage.getItem(ot.SELECTED_MODEL);if(e)this.currentModel=e;else{const n=Ql.find(r=>r.modelId===this.currentModelId);this.currentModel=(n==null?void 0:n.modelName)||"us.anthropic.claude-3-5-haiku-20241022-v1:0"}this.config={selectedProvider:this.currentProvider,selectedModel:this.currentModel,selectedModelId:this.currentModelId,AWS_ACCESS_KEY_ID:(localStorage.getItem(ot.AWS_ACCESS_KEY_ID)||"").trim(),AWS_SECRET_ACCESS_KEY:(localStorage.getItem(ot.AWS_SECRET_ACCESS_KEY)||"").trim(),AWS_REGION:(localStorage.getItem(ot.AWS_REGION)||"us-east-1").trim(),ANTHROPIC_API_KEY:(localStorage.getItem(ot.ANTHROPIC_API_KEY)||"").trim(),OPENAI_API_KEY:(localStorage.getItem(ot.OPENAI_API_KEY)||"").trim()}}getConfiguration(){return{provider:this.currentProvider,model:this.currentModel,modelId:this.currentModelId}}updateConfiguration(e){this.config={...this.config,...e},e.selectedProvider&&(this.currentProvider=e.selectedProvider,localStorage.setItem(ot.SELECTED_PROVIDER,e.selectedProvider)),e.selectedModel&&(this.currentModel=e.selectedModel,localStorage.setItem(ot.SELECTED_MODEL,e.selectedModel)),e.selectedModelId!==void 0&&(this.currentModelId=e.selectedModelId,localStorage.setItem(ot.SELECTED_MODEL_ID,String(e.selectedModelId))),e.AWS_ACCESS_KEY_ID!==void 0&&localStorage.setItem(ot.AWS_ACCESS_KEY_ID,e.AWS_ACCESS_KEY_ID.trim()),e.AWS_SECRET_ACCESS_KEY!==void 0&&localStorage.setItem(ot.AWS_SECRET_ACCESS_KEY,e.AWS_SECRET_ACCESS_KEY.trim()),e.AWS_REGION!==void 0&&localStorage.setItem(ot.AWS_REGION,e.AWS_REGION.trim()),e.ANTHROPIC_API_KEY!==void 0&&localStorage.setItem(ot.ANTHROPIC_API_KEY,e.ANTHROPIC_API_KEY.trim()),e.OPENAI_API_KEY!==void 0&&localStorage.setItem(ot.OPENAI_API_KEY,e.OPENAI_API_KEY.trim())}setProvider(e){this.currentProvider=e,this.config.selectedProvider=e,localStorage.setItem(ot.SELECTED_PROVIDER,e)}hasCredentialsForProvider(e=this.currentProvider){switch(e){case"bedrock":return!!(this.config.AWS_ACCESS_KEY_ID&&this.config.AWS_SECRET_ACCESS_KEY);case"claude":return!!this.config.ANTHROPIC_API_KEY;case"openai":return!!this.config.OPENAI_API_KEY;default:return!1}}async setCredentials(e){try{this.updateConfiguration(e);const n={selectedProvider:e.selectedProvider,selectedModel:e.selectedModel,selectedModelId:e.selectedModelId};e.selectedProvider==="bedrock"?(n.AWS_ACCESS_KEY_ID=e.AWS_ACCESS_KEY_ID,n.AWS_SECRET_ACCESS_KEY=e.AWS_SECRET_ACCESS_KEY,n.AWS_REGION=e.AWS_REGION):e.selectedProvider==="claude"?n.ANTHROPIC_API_KEY=e.ANTHROPIC_API_KEY:e.selectedProvider==="openai"&&(n.OPENAI_API_KEY=e.OPENAI_API_KEY);try{await dt.ai.setCredentials(n)}catch{}return{success:!0}}catch{return{success:!0}}}getCredentials(){return{...this.config}}async sendMessage(e,n){try{if(!this.hasCredentialsForProvider())return{success:!1,error:`${this.currentProvider} requires API credentials. Please configure them in settings.`};const r=af(this.currentProvider),s=Ql.find(h=>h.modelId===this.currentModelId);let i="us.anthropic.claude-3-5-haiku-20241022-v1:0";s!=null&&s.modelName&&typeof s.modelName=="string"&&s.modelName.trim()!==""?i=s.modelName:this.currentModel&&typeof this.currentModel=="string"&&this.currentModel.trim()!==""&&(i=this.currentModel);const o=this.currentModelId||3,l={query:e,message:e,provider:this.currentProvider,model:i,model_id:o,service_id:(r==null?void 0:r.serviceId)||1,useTools:!0};if(n&&(n.connectionId&&(l.connection_id=n.connectionId),n.externalConnectionId&&(l.external_connection_id=n.externalConnectionId),n.schema&&(l.schema=n.schema),n.tables&&(l.tables=n.tables),n.databaseName&&(l.database_name=n.databaseName),n.tableDetails)){const{tableName:h,schema:w,columns:S,sampleRows:k}=n.tableDetails,y=(S||[]).map(C=>`- ${C.name}${C.type?` (${C.type})`:""}${C.isPrimaryKey?" [PK]":""}${C.nullable===!1?" NOT NULL":""}`),g=(k||[]).slice(0,3).map(C=>JSON.stringify(C)).join(`
`),v=[`Open table: ${w?`${w}.`:""}${h}`,y.length?`Columns:
${y.join(`
`)}`:void 0,g?`Sample rows:
${g}`:void 0].filter(Boolean);v.length&&(l.extra_context=v.join(`

`))}this.currentProvider==="bedrock"?(l.AWS_ACCESS_KEY_ID=this.config.AWS_ACCESS_KEY_ID,l.AWS_SECRET_ACCESS_KEY=this.config.AWS_SECRET_ACCESS_KEY,l.AWS_REGION=this.config.AWS_REGION):this.currentProvider==="claude"?l.ANTHROPIC_API_KEY=this.config.ANTHROPIC_API_KEY:this.currentProvider==="openai"&&(l.OPENAI_API_KEY=this.config.OPENAI_API_KEY);let c;try{const h=await dt.ai.query(l);c=new Response(JSON.stringify(h),{status:200,headers:{"Content-Type":"application/json"}})}catch(h){const w=h instanceof Error?h.message:"RPC request failed";c=new Response(JSON.stringify({success:!1,error:w}),{status:400,headers:{"Content-Type":"application/json"}})}if(!c.ok){const h=await c.text().catch(()=>"");let w=`AI request failed (${c.status})`;try{const S=JSON.parse(h);Array.isArray(S.detail)?w=S.detail.map(k=>k.msg||JSON.stringify(k)).join(", "):w=S.detail||S.message||S.error||w}catch{h.includes("Not Found")||c.status===404?w="API endpoint not found. Please check if the backend server is running.":h&&(w=h.substring(0,200))}return{success:!1,error:w}}const u=await c.json(),p=u.json||u;if(p.success===!1)return{success:!1,error:p.error||p.message||"AI request failed"};let f="",d="";return p.status==="success"||p.success?(f=p.response||p.message||p.explanation||"",d=p.sql||p.query||""):p.response?(f=p.response,d=p.sql||p.query||""):p.message?(f=p.message,d=p.sql||""):typeof p=="string"&&(f=p),!d&&f&&(d=this.extractSQL(f)||""),{success:!0,message:f,sql:d||void 0,explanation:p.explanation}}catch(r){return{success:!1,error:r instanceof Error?r.message:"AI request failed. Please try again."}}}extractSQL(e){if(!e)return null;const n=e.match(/```sql\s*([\s\S]*?)\s*```/i);if(n&&n[1])return n[1].trim();const r=e.match(/```\s*([\s\S]*?)\s*```/);if(r&&r[1]){const i=r[1].trim();if(/^\s*(SELECT|INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|WITH)\s/i.test(i))return i}const s=e.match(/(SELECT|INSERT|UPDATE|DELETE|CREATE|WITH)[\s\S]*?;/i);return s?s[0].trim():null}async generateSQL(e,n){var s;const r=await this.sendMessage(e,{connectionId:n==null?void 0:n.connectionId,schema:n==null?void 0:n.schema,tables:(s=n==null?void 0:n.tables)==null?void 0:s.map(i=>i.name)});return{success:r.success,sql:r.sql,explanation:r.explanation||r.message,error:r.error}}async sendMessageStreaming(e,n,r,s,i){var o,l,c;try{const u=await am();if(!u){s("Authentication required");return}let p=e;if(i!=null&&i.tableDetails){const{tableName:g,schema:v,columns:C,sampleRows:I}=i.tableDetails,j=(C||[]).map(z=>`- ${z.name}${z.type?` (${z.type})`:""}${z.isPrimaryKey?" [PK]":""}${z.nullable===!1?" NOT NULL":""}`),_=(I||[]).slice(0,3).map(z=>JSON.stringify(z)).join(`
`),P=[`Open table: ${v?`${v}.`:""}${g}`,j.length?`Columns:
${j.join(`
`)}`:void 0,_?`Sample rows:
${_}`:void 0].filter(Boolean);P.length&&(p=`${e}

Additional context:
${P.join(`

`)}`)}const f={query:p,provider:this.currentProvider,model:this.currentModel};i!=null&&i.connectionId&&(f.connection_id=i.connectionId),i!=null&&i.externalConnectionId&&(f.external_connection_id=i.externalConnectionId),i!=null&&i.schema&&(f.schema=i.schema),i!=null&&i.tables&&(f.tables=i.tables),i!=null&&i.databaseName&&(f.database=i.databaseName),this.currentProvider==="bedrock"?(f.AWS_ACCESS_KEY_ID=this.config.AWS_ACCESS_KEY_ID,f.AWS_SECRET_ACCESS_KEY=this.config.AWS_SECRET_ACCESS_KEY,f.AWS_REGION=this.config.AWS_REGION):this.currentProvider==="claude"?f.ANTHROPIC_API_KEY=this.config.ANTHROPIC_API_KEY:this.currentProvider==="openai"&&(f.OPENAI_API_KEY=this.config.OPENAI_API_KEY);const d=await fetch("/api/ai/query-stream",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(f)});if(!d.ok){const g=await d.text();s(`Streaming failed (${d.status}): ${g||"No error details"}`);return}if(!d.body){s("No response body");return}const h=d.body.getReader(),w=new TextDecoder;let S="",k="",y;for(;;){const{done:g,value:v}=await h.read();if(g)break;S+=w.decode(v,{stream:!0});const C=S.split(`
`);S=C.pop()||"";for(const I of C)if(I.startsWith("data: ")){const j=I.slice(6).trim();if(j==="[DONE]")continue;try{const _=JSON.parse(j);if(_.type==="chunk"||_.type==="message"){const P=((l=(o=_.content)==null?void 0:o.delta)==null?void 0:l.text)||((c=_.content)==null?void 0:c.text)||_.content;typeof P=="string"&&P&&(k+=P,n(P))}else if(_.type==="done")y||(y=this.extractSQL(k)||void 0),r(k,y);else if(_.type==="error"){s(_.error||"Unknown error");return}}catch{}}}k&&(y||(y=this.extractSQL(k)||void 0),r(k,y))}catch(u){s(u instanceof Error?u.message:"Streaming request failed")}}async sendMessageStreamingWithTools(e,n,r){var u,p,f;const{onChunk:s,onToolCall:i,onToolResponse:o,onComplete:l,onError:c}=n;try{const d=await am();if(!d){c("Authentication required");return}let h=e;if(r!=null&&r.tableDetails){const{tableName:I,schema:j,columns:_,sampleRows:P}=r.tableDetails,z=(_||[]).map(R=>`- ${R.name}${R.type?` (${R.type})`:""}${R.isPrimaryKey?" [PK]":""}${R.nullable===!1?" NOT NULL":""}`),b=(P||[]).slice(0,3).map(R=>JSON.stringify(R)).join(`
`),A=[`Open table: ${j?`${j}.`:""}${I}`,z.length?`Columns:
${z.join(`
`)}`:void 0,b?`Sample rows:
${b}`:void 0].filter(Boolean);A.length&&(h=`${e}

Additional context:
${A.join(`

`)}`)}const w={query:h,provider:this.currentProvider,model:this.currentModel};r!=null&&r.connectionId&&(w.connection_id=r.connectionId),r!=null&&r.externalConnectionId&&(w.external_connection_id=r.externalConnectionId),r!=null&&r.schema&&(w.schema=r.schema),r!=null&&r.tables&&(w.tables=r.tables),r!=null&&r.databaseName&&(w.database=r.databaseName),this.currentProvider==="bedrock"?(w.AWS_ACCESS_KEY_ID=this.config.AWS_ACCESS_KEY_ID,w.AWS_SECRET_ACCESS_KEY=this.config.AWS_SECRET_ACCESS_KEY,w.AWS_REGION=this.config.AWS_REGION):this.currentProvider==="claude"?w.ANTHROPIC_API_KEY=this.config.ANTHROPIC_API_KEY:this.currentProvider==="openai"&&(w.OPENAI_API_KEY=this.config.OPENAI_API_KEY);const S=await fetch("/api/ai/query-stream",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(w)});if(!S.ok){const I=await S.text();c(`Streaming failed (${S.status}): ${I||"No error details"}`);return}if(!S.body){c("No response body");return}const k=S.body.getReader(),y=new TextDecoder;let g="",v="",C;for(;;){const{done:I,value:j}=await k.read();if(I)break;g+=y.decode(j,{stream:!0});const _=g.split(`
`);g=_.pop()||"";for(const P of _)if(P.startsWith("data: ")){const z=P.slice(6).trim();if(z==="[DONE]")continue;try{const b=JSON.parse(z);if(b.type==="chunk"||b.type==="message"){const A=((p=(u=b.content)==null?void 0:u.delta)==null?void 0:p.text)||((f=b.content)==null?void 0:f.text)||b.content;typeof A=="string"&&A&&(v+=A,s(A))}else if(b.type==="tool_call")i(b.toolName,b.args);else if(b.type==="tool_response")o(b.toolName,b.success,b.response,b.data);else if(b.type!=="tools")if(b.type==="done")C||(C=this.extractSQL(v)||void 0),l(v,C);else if(b.type==="error"){c(b.error||"Unknown error");return}else b.type}catch{}}}v&&(C||(C=this.extractSQL(v)||void 0),l(v,C))}catch(d){c(d instanceof Error?d.message:"Streaming request failed")}}}const Bs=new M5;function ea(t){if(!t)return[t];let e=0;const n=[];let r=0;const s=new RegExp("(`[^`]+`|\\*\\*[^*]+\\*\\*|__[^_]+__|(?<!\\*)\\*(?!\\*)([^*]+)(?<!\\*)\\*(?!\\*)|(?<!_)_(?!_)([^_]+)(?<!_)_(?!_)|\\[[^\\]]+\\]\\([^)]+\\))","g");let i;for(;(i=s.exec(t))!==null;){i.index>r&&n.push(t.substring(r,i.index));const o=i[0];if(o.startsWith("`")){const l=o.slice(1,-1);n.push(a.jsx("code",{className:"inline-code",style:{backgroundColor:"rgba(255, 255, 255, 0.1)",color:"#4a9eff",padding:"2px 6px",borderRadius:"4px",fontFamily:"Monaco, Consolas, monospace",fontSize:"0.9em"},children:l},e++))}else if(o.startsWith("**")||o.startsWith("__")){const l=o.slice(2,-2);n.push(a.jsx("strong",{children:l},e++))}else if(o.startsWith("*")||o.startsWith("_")){const l=o.slice(1,-1);n.push(a.jsx("em",{children:l},e++))}else if(o.startsWith("[")){const l=/\[([^\]]+)\]\(([^)]+)\)/.exec(o);l&&n.push(a.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",style:{color:"#4a9eff",textDecoration:"underline"},children:l[1]},e++))}r=i.index+o.length}return r<t.length&&n.push(t.substring(r)),n.length>0?n:[t]}function D5(t){const e=t.trim(),n=/^(#{1,6})\s+(.+)$/.exec(e);return n?{isHeader:!0,level:n[1].length,text:n[2]}:{isHeader:!1,level:0,text:t}}function om(t){const e=t.trim();return/^[-*]\s+/.test(e)?{isList:!0,type:"unordered",content:e.replace(/^[-*]\s+/,"")}:/^\d+\.\s+/.test(e)?{isList:!0,type:"ordered",content:e.replace(/^\d+\.\s+/,"")}:{isList:!1,type:"unordered",content:t}}function lm(t){const e=t.trim();return e.startsWith("```")?{isDelimiter:!0,language:e.slice(3).trim().toLowerCase()}:{isDelimiter:!1,language:""}}function cm(t){const e=t.trim();return!e.includes("-")||/[a-zA-Z0-9]/.test(e)?!1:/^\|?[\s\-:|]+\|?$/.test(e)}function z5(t){return t.trim().replace(/^\|/,"").replace(/\|$/,"").split("|").map(r=>r.trim())}function um(t){const e=t.trim();return e.includes("|")&&e.split("|").length>=3}const F5=["SELECT","FROM","WHERE","AND","OR","NOT","IN","EXISTS","JOIN","LEFT","RIGHT","INNER","OUTER","FULL","CROSS","ON","GROUP","BY","ORDER","HAVING","LIMIT","OFFSET","ASC","DESC","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","ALTER","DROP","TABLE","INDEX","VIEW","DATABASE","PRIMARY","KEY","FOREIGN","REFERENCES","CONSTRAINT","UNIQUE","NULL","NOT","DEFAULT","AUTO_INCREMENT","SERIAL","AS","DISTINCT","ALL","UNION","INTERSECT","EXCEPT","CASE","WHEN","THEN","ELSE","END","IF","COALESCE","NULLIF","COUNT","SUM","AVG","MIN","MAX","CAST","CONVERT","TRUE","FALSE","IS","LIKE","ILIKE","BETWEEN","WITH","RECURSIVE"];function zd(t){if(!t)return[t];const e=[];let n=0,r=0,s="",i=!1,o="",l=!1,c="";const u=new RegExp(`\\b(${F5.join("|")})\\b`,"i"),p=()=>{s&&(u.test(s)?e.push(a.jsx("span",{className:"sql-keyword",children:s},n++)):/^\d+(?:\.\d+)?$/.test(s)?e.push(a.jsx("span",{className:"sql-number",children:s},n++)):e.push(s),s="")};for(;r<t.length;){const f=t[r],d=t[r+1];if(i){s+=f,f===o&&t[r-1]!=="\\"&&(e.push(a.jsx("span",{className:"sql-string",children:s},n++)),s="",i=!1),r++;continue}if(l){s+=f,c==="--"&&f===`
`?(e.push(a.jsx("span",{className:"sql-comment",children:s},n++)),s="",l=!1):c==="/*"&&f==="*"&&d==="/"&&(s+=d,r++,e.push(a.jsx("span",{className:"sql-comment",children:s},n++)),s="",l=!1),r++;continue}if(f==="'"||f==='"'){p(),i=!0,o=f,s=f,r++;continue}if(f==="-"&&d==="-"){p(),l=!0,c="--",s=f,r++;continue}if(f==="/"&&d==="*"){p(),l=!0,c="/*",s=f,r++;continue}if(/\s|[(),;.]/.test(f)){p(),e.push(f),r++;continue}s+=f,r++}return p(),s&&(i?e.push(a.jsx("span",{className:"sql-string",children:s},n++)):l&&e.push(a.jsx("span",{className:"sql-comment",children:s},n++))),e.length>0?e:[t]}function $5(t){if(!t)return[t];const e=t.split(`
`),n=[];let r=0,s=0;for(;s<e.length;){const i=e[s],o=lm(i);if(o.isDelimiter){const u=[],p=o.language;for(s++;s<e.length;){const d=e[s];if(lm(d).isDelimiter){s++;break}u.push(d),s++}const f=u.join(`
`);p==="sql"||/^\s*(SELECT|INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|WITH)\s/i.test(f)?n.push(a.jsx("pre",{className:"markdown-code-block sql-block",children:a.jsx("code",{children:zd(f)})},r++)):n.push(a.jsx("pre",{className:"markdown-code-block",children:a.jsx("code",{children:f})},r++));continue}if(um(i)){const u=[];let p=null,f=!1;for(;s<e.length&&(um(e[s])||cm(e[s]));){const d=e[s];if(cm(d)){f=!0,s++;continue}const h=z5(d);!f&&!p?p=h:u.push(h),s++}(p||u.length>0)&&n.push(a.jsx("div",{className:"markdown-table-wrapper",children:a.jsxs("table",{className:"markdown-table",children:[p&&a.jsx("thead",{children:a.jsx("tr",{children:p.map((d,h)=>a.jsx("th",{children:ea(d)},h))})}),a.jsx("tbody",{children:u.map((d,h)=>a.jsx("tr",{children:d.map((w,S)=>a.jsx("td",{children:ea(w)},S))},h))})]})},r++));continue}const l=D5(i);if(l.isHeader){const u=`h${l.level}`;n.push(a.jsx(u,{className:"markdown-header",children:ea(l.text)},r++)),s++;continue}const c=om(i);if(c.isList){const u=[],p=c.type;for(;s<e.length;){const d=om(e[s]);if(!d.isList||d.type!==p)break;u.push({content:d.content,type:d.type}),s++}const f=p==="ordered"?"ol":"ul";n.push(a.jsx(f,{className:"markdown-list",children:u.map((d,h)=>a.jsx("li",{children:ea(d.content)},h))},r++));continue}if(i.trim()===""){n.push(a.jsx("br",{},r++)),s++;continue}n.push(a.jsx("p",{className:"markdown-paragraph",children:ea(i)},r++)),s++}return n.length>0?n:[t]}const b2="ai_chat_",Fd="ai_chat_current_session",j2="ai_chat_sessions";function $d(){return`session_${Date.now()}_${Math.random().toString(36).substring(7)}`}function U5(t,e,n,r){try{const s={sessionId:t,messages:e.map(o=>({...o,timestamp:o.timestamp instanceof Date?o.timestamp:new Date(o.timestamp)})),createdAt:new Date,updatedAt:new Date,connectionId:n,schema:r};localStorage.setItem(`${b2}${t}`,JSON.stringify(s));const i=H5();i.includes(t)||(i.push(t),localStorage.setItem(j2,JSON.stringify(i)))}catch(s){console.error("Failed to save chat session:",s)}}function B5(t){try{const e=localStorage.getItem(`${b2}${t}`);if(!e)return null;const n=JSON.parse(e);return n.messages=n.messages.map(r=>({...r,timestamp:new Date(r.timestamp)})),n.createdAt=new Date(n.createdAt),n.updatedAt=new Date(n.updatedAt),n}catch(e){return console.error("Failed to load chat session:",e),null}}function H5(){try{const t=localStorage.getItem(j2);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load sessions list:",t),[]}}function T2(){try{const t=localStorage.getItem(Fd);if(t)return t;const e=$d();return localStorage.setItem(Fd,e),e}catch(t){return console.error("Failed to get current session:",t),$d()}}function V5(t){try{localStorage.setItem(Fd,t)}catch(e){console.error("Failed to set current session:",e)}}function W5(){const t=$d();return V5(t),t}function K5(t,e,n){const r=T2();U5(r,t,e,n)}function Ko(t){const e=(t||"").toLowerCase();return e==="get_table_schema"||e==="inspect_database_schema"?"Reading Schema":e==="execute_sql_query"?"Executing Query":e==="generate_bar_graph"||e.includes("graph")||e.includes("chart")?"Generating Visualization":e==="get_enums"?"Getting Enums":e==="select_data"?"Selecting Data":t}function q5(t){const e=(t||"").toLowerCase();return e==="get_table_schema"||e==="inspect_database_schema"?a.jsx(h3,{size:14}):e==="execute_sql_query"?a.jsx(Od,{size:14}):e==="generate_bar_graph"||e.includes("graph")||e.includes("chart")?a.jsx(l3,{size:14}):a.jsx(Od,{size:14})}function Q5(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function G5({isOpen:t,onClose:e,onRunQuery:n,connectionId:r,externalConnectionId:s,schema:i,tables:o,tableDetails:l,isDarkTheme:c=!0,worksheets:u=[],activeWorksheetId:p,onSelectWorksheet:f,connectionName:d}){const[h,w]=m.useState([]),[S,k]=m.useState(""),[y,g]=m.useState(!1),[v,C]=m.useState(null),[I,j]=m.useState(!1),[_,P]=m.useState({}),[z,b]=m.useState(null),[A,R]=m.useState(0),[x,q]=m.useState(!1),[$,Y]=m.useState(""),[F,L]=m.useState([]),[M,W]=m.useState({}),Q=m.useRef([]),[H,ie]=m.useState(""),[ae,J]=m.useState(""),[fe,ee]=m.useState([]),[Fe,Ne]=m.useState(!1),[ce,je]=m.useState(!1),[me,vt]=m.useState(localStorage.getItem("ai_selected_provider")||"openai"),[ve,wt]=m.useState(parseInt(localStorage.getItem("ai_selected_model_id")||"201",10)),[xe,Ze]=m.useState({AWS_ACCESS_KEY_ID:localStorage.getItem("ai_aws_access_key_id")||"",AWS_SECRET_ACCESS_KEY:localStorage.getItem("ai_aws_secret_access_key")||"",AWS_REGION:localStorage.getItem("ai_aws_region")||"us-east-1",OPENAI_API_KEY:localStorage.getItem("ai_openai_api_key")||"",ANTHROPIC_API_KEY:localStorage.getItem("ai_anthropic_api_key")||""}),ln=m.useRef(null),ht=m.useRef(null),[cn,jt]=m.useState(""),Le=m.useMemo(()=>im(me),[me]),ge=af(me),$e=Ql.find(O=>O.modelId===ve),Ke=L5(me),Ue=m.useMemo(()=>{if(!Ke)return!0;switch(me){case"bedrock":return!!(xe.AWS_ACCESS_KEY_ID&&xe.AWS_SECRET_ACCESS_KEY);case"openai":return!!xe.OPENAI_API_KEY;case"claude":return!!xe.ANTHROPIC_API_KEY;default:return!0}},[me,xe,Ke]);m.useEffect(()=>{const O=T2();jt(O);const se=B5(O);se&&se.messages.length>0&&w(se.messages)},[]),m.useEffect(()=>{h.length>0&&K5(h,r,i)},[h,r,i]),m.useEffect(()=>{var O;(O=ln.current)==null||O.scrollIntoView({behavior:"smooth"})},[h]),m.useEffect(()=>{var O;t&&((O=ht.current)==null||O.focus())},[t]),m.useEffect(()=>{const O=im(me);!O.find(se=>se.modelId===ve)&&O.length>0&&wt(O[0].modelId)},[me,ve]);const Tt=m.useCallback(async O=>{if(O.preventDefault(),!S.trim()||y)return;if(Ke&&!Ue){j(!0);return}const se={id:Date.now().toString(),role:"user",content:S.trim(),timestamp:new Date};w(Se=>[...Se,se]),k(""),g(!0),q(!0);const Me=(Date.now()+1).toString(),Gt={id:Me,role:"assistant",content:"",timestamp:new Date,isStreaming:!0};w(Se=>[...Se,Gt]),L([]),Y(""),Q.current=[],W({});try{Bs.setProvider(me),Bs.updateConfiguration({selectedProvider:me,selectedModelId:ve,selectedModel:$e==null?void 0:$e.modelName,...xe}),await Bs.sendMessageStreamingWithTools(se.content,{onChunk:Se=>{Y(pe=>pe+Se),L(pe=>{const N=pe[pe.length-1];if((N==null?void 0:N.type)==="response"){const U=[...pe];return U[U.length-1]={...N,content:(N.content||"")+Se},Q.current=U,U}else{const U=[...pe,{type:"response",content:Se}];return Q.current=U,U}}),w(pe=>pe.map(N=>N.id===Me?{...N,content:N.content+Se}:N))},onToolCall:(Se,pe)=>{L(N=>{const U={type:"tool",toolName:Se,args:pe,content:`Calling ${Ko(Se)}...`,sql:Se==="execute_sql_query"&&(pe!=null&&pe.query)?String(pe.query):void 0},T=[...N,U];return Q.current=T,T})},onToolResponse:(Se,pe,N,U)=>{L(T=>{const X=[...T];for(let ne=X.length-1;ne>=0;ne--)if(X[ne].type==="tool"&&X[ne].toolName===Se&&!X[ne].response){X[ne]={...X[ne],success:pe,response:N,data:U,content:pe?`${Ko(Se)} completed`:`${Ko(Se)} failed`};break}return Q.current=X,X})},onComplete:(Se,pe)=>{q(!1),g(!1);let N=pe;if(!N){const U=Q.current.find(T=>T.type==="tool"&&T.toolName==="execute_sql_query"&&T.sql);U!=null&&U.sql&&(N=U.sql)}w(U=>U.map(T=>T.id===Me?{...T,content:Se,sql:N,isStreaming:!1,streamingBlocks:[...Q.current]}:T))},onError:Se=>{q(!1),g(!1),L(pe=>{const N=[...pe,{type:"error",content:Se}];return Q.current=N,N}),w(pe=>pe.map(N=>N.id===Me?{...N,content:Se,isError:!0,isStreaming:!1,streamingBlocks:[...Q.current]}:N))}},{connectionId:r,externalConnectionId:s,schema:i,tables:o,tableDetails:l})}catch(Se){q(!1),g(!1);const pe={id:(Date.now()+1).toString(),role:"assistant",content:Se instanceof Error?Se.message:"Sorry, I encountered an error. Please try again.",timestamp:new Date,isError:!0};w(N=>[...N,pe]),L([]),Y("")}},[S,y,x,me,ve,$e,r,s,i,o,xe,Ke,Ue]),un=async(O,se)=>{await navigator.clipboard.writeText(O),C(se),setTimeout(()=>C(null),2e3)},kn=async(O,se)=>{await navigator.clipboard.writeText(O),C(se),setTimeout(()=>C(null),2e3)},dn=m.useCallback(O=>{var se;k(O),(se=ht.current)==null||se.focus()},[]),is=m.useCallback((O,se)=>{var Me;b(O),k(se),(Me=ht.current)==null||Me.focus()},[]),Fn=m.useCallback((O,se)=>{P(Me=>({...Me,[O]:Me[O]===se?void 0:se}))},[]),$n=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),Tt(O))},Qt=m.useCallback(()=>{localStorage.setItem("ai_selected_provider",me),localStorage.setItem("ai_selected_model_id",String(ve)),localStorage.setItem("ai_aws_access_key_id",xe.AWS_ACCESS_KEY_ID),localStorage.setItem("ai_aws_secret_access_key",xe.AWS_SECRET_ACCESS_KEY),localStorage.setItem("ai_aws_region",xe.AWS_REGION),localStorage.setItem("ai_openai_api_key",xe.OPENAI_API_KEY),localStorage.setItem("ai_anthropic_api_key",xe.ANTHROPIC_API_KEY),Bs.setProvider(me),Bs.updateConfiguration({selectedProvider:me,selectedModelId:ve,selectedModel:$e==null?void 0:$e.modelName,...xe}),Bs.setCredentials({selectedProvider:me,selectedModelId:ve,selectedModel:$e==null?void 0:$e.modelName,...xe}),j(!1)},[me,ve,$e,xe]),Un=m.useCallback(()=>{w([]);const O=W5();jt(O)},[]);if(!t)return null;const Pt=c?"dark-theme":"light-theme";return a.jsxs("div",{className:`workspace-ai-chat ${Pt}`,children:[a.jsxs("div",{className:"ai-header",children:[a.jsx("div",{className:"ai-header-left",children:a.jsx("h3",{children:"Copilot Chat"})}),a.jsxs("div",{className:"ai-header-actions",children:[h.length>0&&a.jsx("button",{className:"ai-header-btn",onClick:Un,title:"New Chat",children:a.jsx(Vp,{size:14})}),a.jsx("button",{className:"ai-header-btn",onClick:Un,title:"New Chat",children:a.jsx(w3,{size:14})}),a.jsx("button",{className:"ai-header-btn",onClick:()=>j(!I),title:"Menu",children:a.jsx(d3,{size:14})}),a.jsx("button",{className:"ai-close-btn",onClick:e,children:a.jsx(Gh,{size:16})})]})]}),I&&a.jsxs("div",{className:"ai-settings-panel",children:[a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"Provider"}),a.jsx("select",{value:me,onChange:O=>vt(O.target.value),children:I2.map(O=>a.jsxs("option",{value:O.id,children:[O.name," ",O.requiresCredentials?"":"(No API Key)"]},O.id))}),a.jsx("span",{className:"ai-settings-hint",children:ge==null?void 0:ge.description})]}),a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"Model"}),a.jsx("select",{value:ve,onChange:O=>wt(parseInt(O.target.value,10)),children:Le.map(O=>a.jsxs("option",{value:O.modelId,children:[O.label,O.isThinking?" (Extended Thinking)":""]},O.modelId))})]}),me==="bedrock"&&a.jsxs("div",{className:"ai-credentials-section",children:[a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"AWS Access Key ID"}),a.jsx("input",{type:"text",value:xe.AWS_ACCESS_KEY_ID,onChange:O=>Ze(se=>({...se,AWS_ACCESS_KEY_ID:O.target.value})),placeholder:"AKIA..."})]}),a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"AWS Secret Access Key"}),a.jsx("input",{type:"password",value:xe.AWS_SECRET_ACCESS_KEY,onChange:O=>Ze(se=>({...se,AWS_SECRET_ACCESS_KEY:O.target.value})),placeholder:""})]}),a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"AWS Region"}),a.jsx("input",{type:"text",value:xe.AWS_REGION,onChange:O=>Ze(se=>({...se,AWS_REGION:O.target.value})),placeholder:"us-east-1"})]})]}),me==="openai"&&a.jsx("div",{className:"ai-credentials-section",children:a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"OpenAI API Key"}),a.jsx("input",{type:"password",value:xe.OPENAI_API_KEY,onChange:O=>Ze(se=>({...se,OPENAI_API_KEY:O.target.value})),placeholder:"sk-..."})]})}),me==="claude"&&a.jsx("div",{className:"ai-credentials-section",children:a.jsxs("div",{className:"ai-settings-group",children:[a.jsx("label",{children:"Anthropic API Key"}),a.jsx("input",{type:"password",value:xe.ANTHROPIC_API_KEY,onChange:O=>Ze(se=>({...se,ANTHROPIC_API_KEY:O.target.value})),placeholder:"sk-ant-..."})]})}),me==="dbx-agent"&&a.jsxs("div",{className:"ai-info-box",children:[a.jsx(cu,{size:14}),a.jsx("span",{children:"DBX Agent uses server-side processing. No API keys required!"})]}),a.jsxs("div",{className:"ai-settings-actions",children:[a.jsx("button",{className:"ai-settings-save",onClick:Qt,children:"Save Settings"}),a.jsx("button",{className:"ai-settings-cancel",onClick:()=>j(!1),children:"Cancel"})]})]}),Ke&&!Ue&&!I&&a.jsxs("div",{className:"ai-credential-warning",children:[a.jsx(cu,{size:16}),a.jsxs("span",{children:[ge==null?void 0:ge.name," requires API credentials.",a.jsx("button",{onClick:()=>j(!0),children:"Configure now"})]})]}),a.jsxs("div",{className:"ai-content",children:[h.length===0?a.jsxs("div",{className:"ai-welcome",children:[a.jsx("span",{className:"welcome-icon",children:""}),a.jsx("div",{className:"welcome-title",children:"AI SQL Assistant"}),a.jsx("p",{className:"welcome-description",children:"Describe what data you need and I'll generate SQL queries for you."}),a.jsxs("div",{className:"ai-features",children:[a.jsxs("div",{className:"feature-item",children:[a.jsx("span",{className:"feature-icon",children:""}),a.jsx("span",{children:"Natural language to SQL"})]}),a.jsxs("div",{className:"feature-item",children:[a.jsx("span",{className:"feature-icon",children:""}),a.jsx("span",{children:"Schema-aware queries"})]}),a.jsxs("div",{className:"feature-item",children:[a.jsx("span",{className:"feature-icon",children:""}),a.jsx("span",{children:"Query optimization"})]})]}),a.jsxs("div",{className:"ai-examples",children:[a.jsx("p",{className:"examples-title",children:"Try asking:"}),a.jsxs("div",{className:"example-queries",children:[a.jsx("button",{className:"example-query",onClick:()=>k("Show me all users who signed up last month"),children:"Show me all users who signed up last month"}),a.jsx("button",{className:"example-query",onClick:()=>k("What are the top 10 products by revenue?"),children:"What are the top 10 products by revenue?"}),a.jsx("button",{className:"example-query",onClick:()=>k("Count orders grouped by status"),children:"Count orders grouped by status"})]})]})]}):h.map(O=>a.jsx("div",{className:`message ${O.role} ${O.isError?"error":""} ${O.isStreaming?"streaming":""}`,children:a.jsxs("div",{className:"message-content",children:[O.isError&&a.jsxs("div",{className:"error-header",children:[a.jsx(cu,{size:16}),a.jsx("span",{children:"Error"})]}),O.role==="assistant"&&(O.isStreaming&&F.length>0||!O.isStreaming&&O.streamingBlocks&&O.streamingBlocks.length>0)&&a.jsx("div",{className:"streaming-blocks",children:(O.isStreaming?F:O.streamingBlocks||[]).map((se,Me)=>{var Gt;if(se.type==="tool"){const Se=O.isStreaming?`streaming-tool-${Me}`:`message-${O.id}-tool-${Me}`,pe=M[Se]===!0,U=se.toolName==="execute_sql_query"&&((Gt=se.args)!=null&&Gt.query)?String(se.args.query):se.sql;return a.jsxs("div",{className:`tool-block ${O.isStreaming?"":"completed"}`,children:[a.jsxs("div",{className:`tool-header ${se.success===void 0?"pending":se.success?"success":"error"}`,onClick:()=>W(T=>({...T,[Se]:!pe})),children:[a.jsxs("div",{className:"tool-info",children:[q5(se.toolName||""),a.jsx("span",{className:"tool-name",children:Ko(se.toolName||"")}),se.success===void 0&&a.jsx(Ai,{size:12,className:"spin tool-spinner"}),se.success===!0&&a.jsx(Dr,{size:12,className:"tool-success-icon"})]}),a.jsx("span",{className:"tool-expand-icon",children:pe?a.jsx(c3,{size:12}):a.jsx(u3,{size:12})})]}),pe&&a.jsxs("div",{className:"tool-details",children:[U&&a.jsxs("div",{className:"tool-sql-section",children:[a.jsx("div",{className:"tool-sql-label",children:"SQL Query"}),a.jsx("pre",{className:"tool-sql-content",children:a.jsx("code",{children:zd(U)})}),!O.isStreaming&&a.jsxs("div",{className:"tool-sql-actions",children:[a.jsx("button",{className:"sql-btn",onClick:T=>{T.stopPropagation(),un(U,`${O.id}-tool-${Me}`)},title:"Copy SQL",children:v===`${O.id}-tool-${Me}`?a.jsx(Dr,{size:14}):a.jsx(uu,{size:14})}),n&&a.jsxs("button",{className:"sql-btn run",onClick:T=>{T.stopPropagation(),n(U)},title:"Run Query",children:[a.jsx(Hp,{size:12}),"Run"]})]})]}),se.args&&!U&&a.jsxs("div",{className:"tool-args",children:[a.jsx("span",{className:"tool-args-label",children:"Arguments:"}),a.jsx("pre",{className:"tool-args-content",children:String(JSON.stringify(se.args,null,2))})]}),se.response&&a.jsxs("div",{className:"tool-response",children:[a.jsx("span",{className:"tool-response-label",children:"Result:"}),a.jsx("span",{className:`tool-response-status ${se.success?"success":"error"}`,children:se.response})]}),se.data&&Array.isArray(se.data)&&se.data.length>0&&a.jsxs("div",{className:"tool-result-data",children:[a.jsx("span",{className:"tool-result-label",children:"Data:"}),a.jsx("pre",{className:"tool-result-content",children:JSON.stringify(se.data,null,2)})]})]})]},Me)}return null})}),a.jsxs("div",{className:"message-text",children:[O.content?$5(O.content):O.isStreaming&&F.length===0?a.jsxs("div",{className:"typing-indicator",children:[a.jsx("span",{}),a.jsx("span",{}),a.jsx("span",{})]}):null,O.isStreaming&&O.content&&a.jsx("span",{className:"streaming-cursor",children:""})]}),O.sql&&!O.isStreaming&&a.jsxs("div",{className:"message-sql",children:[a.jsxs("div",{className:"sql-header",children:[a.jsx("span",{children:"Generated SQL"}),a.jsxs("div",{className:"sql-actions",children:[a.jsx("button",{className:"sql-btn",onClick:()=>un(O.sql,O.id),title:"Copy SQL",children:v===O.id?a.jsx(Dr,{size:14}):a.jsx(uu,{size:14})}),n&&a.jsxs("button",{className:"sql-btn run",onClick:()=>n(O.sql),title:"Run Query",children:[a.jsx(Hp,{size:12}),"Run"]})]})]}),a.jsx("pre",{className:"sql-code",children:a.jsx("code",{children:zd(O.sql)})})]}),a.jsx("div",{className:"message-actions",children:O.role==="user"?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"action-btn",onClick:()=>is(O.id,O.content),title:"Edit",children:a.jsx(v3,{size:14})}),a.jsx("button",{className:"action-btn",onClick:()=>dn(O.content),title:"Retry",children:a.jsx(Vp,{size:14})})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"action-btn",onClick:()=>kn(O.content,O.id),title:"Copy",children:v===O.id?a.jsx(Dr,{size:14}):a.jsx(uu,{size:14})}),a.jsx("button",{className:`action-btn ${_[O.id]==="up"?"active":""}`,onClick:()=>Fn(O.id,"up"),title:"Good response",children:a.jsx(_3,{size:14})}),a.jsx("button",{className:`action-btn ${_[O.id]==="down"?"active":""}`,onClick:()=>Fn(O.id,"down"),title:"Bad response",children:a.jsx(x3,{size:14})})]})}),a.jsx("span",{className:"message-time",children:Q5(O.timestamp)})]})},O.id)),a.jsx("div",{ref:ln})]}),a.jsxs("div",{className:"ai-input-section",children:[a.jsxs("div",{className:"input-wrapper",children:[a.jsx("textarea",{ref:ht,className:"ai-input",value:S,onChange:O=>k(O.target.value),onKeyDown:$n,placeholder:Ke&&!Ue?"Configure credentials to start chatting...":"Ask your queries...",disabled:y||Ke&&!Ue,rows:1}),a.jsx("button",{className:"ai-send-btn",onClick:Tt,disabled:!S.trim()||y||Ke&&!Ue,title:"Send message",children:y?a.jsx(Ai,{size:16,className:"spin"}):a.jsx(S3,{size:16})})]}),a.jsxs("div",{className:"ai-bottom-selectors",children:[a.jsx("div",{className:"ai-worksheet-selector",children:a.jsx("select",{value:p||"",onChange:O=>f==null?void 0:f(O.target.value),disabled:u.length===0,children:u.length===0?a.jsx("option",{value:"",children:"No worksheets"}):u.map(O=>a.jsx("option",{value:O.id,children:O.title},O.id))})}),a.jsx("div",{className:"ai-model-selector-bottom",children:a.jsx("select",{value:ve,onChange:O=>wt(parseInt(O.target.value,10)),children:Le.map(O=>a.jsx("option",{value:O.modelId,children:O.label},O.modelId))})})]})]})]})}const gu={provider:"openai",model:"gpt-4o-mini",useMemory:!0,useThinking:!1,temperature:.7};function Y5(){try{const t=localStorage.getItem("chat-settings");return t?{...gu,...JSON.parse(t)}:gu}catch{return gu}}localStorage.getItem("active-session-id"),localStorage.getItem("active-connection-id"),Y5();function J5({isDarkTheme:t=!0,onToggleTheme:e}){return a.jsx("div",{className:"settings-page dark",children:a.jsxs("div",{className:"settings-container",children:[a.jsx("h1",{className:"settings-title",children:"Settings"}),a.jsxs("div",{className:"settings-section",children:[a.jsx("h2",{className:"section-title",children:"Appearance"}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("div",{className:"setting-icon",children:t?a.jsx(g3,{size:18}):a.jsx(C3,{size:18})}),a.jsxs("div",{className:"setting-text",children:[a.jsx("span",{className:"setting-label",children:"Theme"}),a.jsx("span",{className:"setting-desc",children:"Switch between light and dark themes"})]})]}),a.jsx("button",{className:"toggle-btn",onClick:e,children:t?"Dark":"Light"})]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("div",{className:"setting-icon",children:a.jsx(f3,{size:18})}),a.jsxs("div",{className:"setting-text",children:[a.jsx("span",{className:"setting-label",children:"Language"}),a.jsx("span",{className:"setting-desc",children:"Choose your preferred language"})]})]}),a.jsxs("select",{className:"setting-select",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"})]})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsx("h2",{className:"section-title",children:"AI Assistant"}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("div",{className:"setting-icon",children:a.jsx(E3,{size:18})}),a.jsxs("div",{className:"setting-text",children:[a.jsx("span",{className:"setting-label",children:"AI Provider"}),a.jsx("span",{className:"setting-desc",children:"Select your AI provider for SQL generation"})]})]}),a.jsxs("select",{className:"setting-select",children:[a.jsx("option",{value:"openai",children:"OpenAI GPT-4"}),a.jsx("option",{value:"anthropic",children:"Claude 3"}),a.jsx("option",{value:"gemini",children:"Google Gemini"})]})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsx("h2",{className:"section-title",children:"About"}),a.jsxs("div",{className:"about-card",children:[a.jsxs("div",{className:"about-logo",children:[a.jsx("span",{className:"logo-icon",children:""}),a.jsx("span",{className:"logo-text",children:"DBX Studio"})]}),a.jsxs("div",{className:"about-info",children:[a.jsx("p",{children:"Version 0.0.1"}),a.jsx("p",{className:"about-desc",children:"A modern database client with AI-powered SQL assistance. Built with React, oRPC, and Drizzle ORM."})]})]})]})]})})}function yu(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m12 19-7-7 7-7"},child:[]},{tag:"path",attr:{d:"M19 12H5"},child:[]}]})(t)}function X5(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"},child:[]},{tag:"path",attr:{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"},child:[]},{tag:"path",attr:{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"},child:[]},{tag:"path",attr:{d:"m2 2 20 20"},child:[]}]})(t)}function Z5(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function vu(t){return de({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"},child:[]}]})(t)}const P2=m.createContext(null);function eE({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!0);m.useEffect(()=>{const f=rf(),d=G6();f&&d&&a2()?(s(f),n(d),console.log(" [AuthContext] User restored from storage")):f&&d&&(console.log(" [AuthContext] Token may be expired, will try to refresh on next request"),s(f),n(d)),o(!1)},[]);const l=m.useCallback((f,d,h)=>{s2(f,d,h||null),s(f),n(d),console.log(" [AuthContext] User logged in:",d.email)},[]),c=m.useCallback(()=>{i2(),s(null),n(null),console.log(" [AuthContext] User logged out")},[]),u=m.useCallback(async()=>{const f=await sf();return f.success&&f.token?(s(f.token),f.token):(f.success||(console.error(" [AuthContext] Failed to get valid token:",f.error),c()),null)},[c]),p={user:e,token:r,isAuthenticated:!!r&&!!e,isLoading:i,login:l,logout:c,getToken:u};return a.jsx(P2.Provider,{value:p,children:t})}function of(){const t=m.useContext(P2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=()=>{};var dm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},R2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,p=i>>2,f=(i&3)<<4|l>>4;let d=(l&15)<<2|u>>6,h=u&63;c||(h=64,o||(d=64)),r.push(n[p],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new rE;const d=i<<2|l>>4;if(r.push(d),u!==64){const h=l<<4&240|u>>2;if(r.push(h),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sE=function(t){const e=A2(t);return R2.encodeByteArray(e,!0)},O2=function(t){return sE(t).replace(/\./g,"")},L2=function(t){try{return R2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=()=>iE().__FIREBASE_DEFAULTS__,oE=()=>{if(typeof process>"u"||typeof dm>"u")return;const t=dm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L2(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return tE()||aE()||oE()||lE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cE=t=>{var e,n;return(n=(e=lf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},M2=()=>{var t;return(t=lf())==null?void 0:t.config},D2=t=>{var e;return(e=lf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dE(t){return(await fetch(t,{credentials:"include"})).ok}const Ea={};function hE(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ea))Ea[e]?t.emulator.push(e):t.prod.push(e);return t}function fE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hm=!1;function pE(t,e){if(typeof window>"u"||typeof document>"u"||!bc(window.location.host)||Ea[t]===e||Ea[t]||hm)return;Ea[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",i=hE().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function l(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function c(d,h){d.setAttribute("width","24"),d.setAttribute("id",h),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{hm=!0,o()},d}function p(d,h){d.setAttribute("id",h),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=fE(r),h=n("text"),w=document.getElementById(h)||document.createElement("span"),S=n("learnmore"),k=document.getElementById(S)||document.createElement("a"),y=n("preprendIcon"),g=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const v=d.element;l(v),p(k,S);const C=u();c(g,y),v.append(g,w,k,C),document.body.appendChild(v)}i?(w.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function gE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wE(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SE(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CE,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xE(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ss(s,l,r)}}function xE(t,e){return t.replace(_E,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _E=/\{\$([^}]+)}/g;function NE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Di(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(fm(i)&&fm(o)){if(!Di(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function fm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kE(t,e){const n=new IE(t,e);return n.subscribe.bind(n)}class IE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bE(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wu),s.error===void 0&&(s.error=wu),s.complete===void 0&&(s.complete=wu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PE(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TE(t){return t===ls?void 0:t}function PE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const RE={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},OE=be.INFO,LE={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},ME=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z2{constructor(e){this.name=e,this._logLevel=OE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const DE=(t,e)=>e.some(n=>t instanceof n);let pm,mm;function zE(){return pm||(pm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FE(){return mm||(mm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F2=new WeakMap,Ud=new WeakMap,$2=new WeakMap,Su=new WeakMap,cf=new WeakMap;function $E(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Yr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&F2.set(n,t)}).catch(()=>{}),cf.set(e,t),e}function UE(t){if(Ud.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ud.set(t,e)}let Bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ud.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BE(t){Bd=t(Bd)}function HE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eu(this),e,...n);return $2.set(r,e.sort?e.sort():[e]),Yr(r)}:FE().includes(t)?function(...e){return t.apply(Eu(this),e),Yr(F2.get(this))}:function(...e){return Yr(t.apply(Eu(this),e))}}function VE(t){return typeof t=="function"?HE(t):(t instanceof IDBTransaction&&UE(t),DE(t,zE())?new Proxy(t,Bd):t)}function Yr(t){if(t instanceof IDBRequest)return $E(t);if(Su.has(t))return Su.get(t);const e=VE(t);return e!==t&&(Su.set(t,e),cf.set(e,t)),e}const Eu=t=>cf.get(t);function WE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Yr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Yr(o.result),c.oldVersion,c.newVersion,Yr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const KE=["get","getKey","getAll","getAllKeys","count"],qE=["put","add","delete","clear"],Cu=new Map;function gm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KE.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Cu.set(e,i),i}BE(t=>({...t,get:(e,n,r)=>gm(e,n)||t.get(e,n,r),has:(e,n)=>!!gm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hd="@firebase/app",ym="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new z2("@firebase/app"),YE="@firebase/app-compat",JE="@firebase/analytics-compat",XE="@firebase/analytics",ZE="@firebase/app-check-compat",eC="@firebase/app-check",tC="@firebase/auth",nC="@firebase/auth-compat",rC="@firebase/database",sC="@firebase/data-connect",iC="@firebase/database-compat",aC="@firebase/functions",oC="@firebase/functions-compat",lC="@firebase/installations",cC="@firebase/installations-compat",uC="@firebase/messaging",dC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",pC="@firebase/remote-config",mC="@firebase/remote-config-compat",gC="@firebase/storage",yC="@firebase/storage-compat",vC="@firebase/firestore",wC="@firebase/ai",SC="@firebase/firestore-compat",EC="firebase",CC="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",xC={[Hd]:"fire-core",[YE]:"fire-core-compat",[XE]:"fire-analytics",[JE]:"fire-analytics-compat",[eC]:"fire-app-check",[ZE]:"fire-app-check-compat",[tC]:"fire-auth",[nC]:"fire-auth-compat",[rC]:"fire-rtdb",[sC]:"fire-data-connect",[iC]:"fire-rtdb-compat",[aC]:"fire-fn",[oC]:"fire-fn-compat",[lC]:"fire-iid",[cC]:"fire-iid-compat",[uC]:"fire-fcm",[dC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[pC]:"fire-rc",[mC]:"fire-rc-compat",[gC]:"fire-gcs",[yC]:"fire-gcs-compat",[vC]:"fire-fst",[SC]:"fire-fst-compat",[wC]:"fire-vertex","fire-js":"fire-js",[EC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,_C=new Map,Wd=new Map;function vm(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qa(t){const e=t.name;if(Wd.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,t);for(const n of Gl.values())vm(n,t);for(const n of _C.values())vm(n,t);return!0}function U2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new mo("app","Firebase",NC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=CC;function B2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Vd,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Jr.create("bad-app-name",{appName:String(s)});if(n||(n=M2()),!n)throw Jr.create("no-options");const i=Gl.get(s);if(i){if(Di(n,i.options)&&Di(r,i.config))return i;throw Jr.create("duplicate-app",{appName:s})}const o=new AE(s);for(const c of Wd.values())o.addComponent(c);const l=new kC(n,r,o);return Gl.set(s,l),l}function IC(t=Vd){const e=Gl.get(t);if(!e&&t===Vd&&M2())return B2();if(!e)throw Jr.create("no-app",{appName:t});return e}function ci(t,e,n){let r=xC[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(o.join(" "));return}Qa(new zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebase-heartbeat-database",jC=1,Ga="firebase-heartbeat-store";let xu=null;function H2(){return xu||(xu=WE(bC,jC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),xu}async function TC(t){try{const n=(await H2()).transaction(Ga),r=await n.objectStore(Ga).get(V2(t));return await n.done,r}catch(e){if(e instanceof ss)lr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function wm(t,e){try{const r=(await H2()).transaction(Ga,"readwrite");await r.objectStore(Ga).put(e,V2(t)),await r.done}catch(n){if(n instanceof ss)lr.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(r.message)}}}function V2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1024,AC=30;class RC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>AC){const o=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sm(),{heartbeatsToSend:r,unsentEntries:s}=OC(this._heartbeatsCache.heartbeats),i=O2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return lr.warn(n),""}}}function Sm(){return new Date().toISOString().substring(0,10)}function OC(t,e=PC){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Em(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Em(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SE()?EE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Em(t){return O2(JSON.stringify({version:2,heartbeats:t})).length}function MC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){Qa(new zi("platform-logger",e=>new QE(e),"PRIVATE")),Qa(new zi("heartbeat",e=>new RC(e),"PRIVATE")),ci(Hd,ym,t),ci(Hd,ym,"esm2020"),ci("fire-js","")}DC("");var zC="firebase",FC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(zC,FC,"app");function W2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $C=W2,K2=new mo("auth","Firebase",W2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new z2("@firebase/auth");function UC(t,...e){Yl.logLevel<=be.WARN&&Yl.warn(`Auth (${yo}): ${t}`,...e)}function dl(t,...e){Yl.logLevel<=be.ERROR&&Yl.error(`Auth (${yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,...e){throw df(t,...e)}function _n(t,...e){return df(t,...e)}function uf(t,e,n){const r={...$C(),[e]:n};return new mo("auth","Firebase",r).create(e,{appName:t.name})}function nr(t){return uf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&on(t,"argument-error"),uf(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function df(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K2.create(t,...e)}function oe(t,e,...n){if(!t)throw df(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dl(e),new Error(e)}function cr(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HC(){return Cm()==="http:"||Cm()==="https:"}function Cm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||yE()||"connection"in navigator)?navigator.onLine:!0}function WC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=mE()||vE()}get(){return VC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QC=new vo(3e4,6e4);function hr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fr(t,e,n,r,s={}){return Q2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=go({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return gE()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bc(t.emulatorConfig.host)&&(u.credentials="include"),q2.fetch()(await G2(t,t.config.apiHost,n,l),u)})}async function Q2(t,e,n){t._canInitEmulator=!1;const r={...KC,...e};try{const s=new YC(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw qo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw qo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw qo(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uf(t,p,u);on(t,p)}}catch(s){if(s instanceof ss)throw s;on(t,"network-request-failed",{message:String(s)})}}async function wo(t,e,n,r,s={}){const i=await fr(t,e,n,r,s);return"mfaPendingCredential"in i&&on(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function G2(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?hf(t.config,s):`${t.config.apiScheme}://${s}`;return qC.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function GC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),QC.get())})}}function qo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_n(t,e,r);return s.customData._tokenResponse=n,s}function xm(t){return t!==void 0&&t.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XC(t,e){return fr(t,"GET","/v2/recaptchaConfig",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(t,e){return fr(t,"POST","/v1/accounts:delete",e)}async function Jl(t,e){return fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e8(t,e=!1){const n=Fs(t),r=await n.getIdToken(e),s=ff(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ca(_u(s.auth_time)),issuedAtTime:Ca(_u(s.iat)),expirationTime:Ca(_u(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _u(t){return Number(t)*1e3}function ff(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dl("JWT malformed, contained fewer than 3 sections"),null;try{const s=L2(n);return s?JSON.parse(s):(dl("Failed to decode base64 JWT payload"),null)}catch(s){return dl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _m(t){const e=ff(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ss&&t8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ya(t,Jl(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Y2(s.providerUserInfo):[],o=s8(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new qd(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,p)}async function r8(t){const e=Fs(t);await Xl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Y2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t,e){const n=await Q2(t,{},async()=>{const r=go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await G2(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&bc(t.emulatorConfig.host)&&(c.credentials="include"),q2.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a8(t,e){return fr(t,"POST","/v2/accounts:revokeToken",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_m(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=_m(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await i8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ui;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ui,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class En{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new n8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ya(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e8(this,e)}reload(){return r8(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new En({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Ya(this,ZC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:h,providerData:w,stsTokenManager:S}=n;oe(f&&S,e,"internal-error");const k=ui.fromJSON(this.name,S);oe(typeof f=="string",e,"internal-error"),gr(r,e.name),gr(s,e.name),oe(typeof d=="boolean",e,"internal-error"),oe(typeof h=="boolean",e,"internal-error"),gr(i,e.name),gr(o,e.name),gr(l,e.name),gr(c,e.name),gr(u,e.name),gr(p,e.name);const y=new En({uid:f,auth:e,email:s,emailVerified:d,displayName:r,isAnonymous:h,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:k,createdAt:u,lastLoginAt:p});return w&&Array.isArray(w)&&(y.providerData=w.map(g=>({...g}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new ui;s.updateFromServerResponse(n);const i=new En({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Y2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ui;l.updateFromIdToken(r);const c=new En({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map;function Zn(t){cr(t instanceof Function,"Expected a class definition");let e=Nm.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J2.type="NONE";const km=J2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t,e,n){return`firebase:${t}:${e}:${n}`}class di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hl(this.userKey,s.apiKey,i),this.fullPersistenceKey=hl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jl(this.auth,{idToken:e}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,e):null}return En._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new di(Zn(km),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Zn(km);const o=hl(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const p=await u._get(o);if(p){let f;if(typeof p=="string"){const d=await Jl(e,{idToken:p}).catch(()=>{});if(!d)break;f=await En._fromGetAccountInfoResponse(e,d,p)}else f=En._fromJSON(e,p);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new di(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new di(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ty(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ry(e))return"Blackberry";if(sy(e))return"Webos";if(Z2(e))return"Safari";if((e.includes("chrome/")||ey(e))&&!e.includes("edge/"))return"Chrome";if(ny(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X2(t=kt()){return/firefox\//i.test(t)}function Z2(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ey(t=kt()){return/crios\//i.test(t)}function ty(t=kt()){return/iemobile/i.test(t)}function ny(t=kt()){return/android/i.test(t)}function ry(t=kt()){return/blackberry/i.test(t)}function sy(t=kt()){return/webos/i.test(t)}function pf(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o8(t=kt()){var e;return pf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function l8(){return wE()&&document.documentMode===10}function iy(t=kt()){return pf(t)||ny(t)||sy(t)||ry(t)||/windows phone/i.test(t)||ty(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e=[]){let n;switch(t){case"Browser":n=Im(kt());break;case"Worker":n=`${Im(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return fr(t,"GET","/v2/passwordPolicy",hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=6;class h8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bm(this),this.idTokenSubscription=new bm(this),this.beforeStateQueue=new c8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await di.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jl(this,{idToken:e}),r=await En._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(en(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(nr(this));const n=e?Fs(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u8(this),n=new h8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await di.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ay(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pr(t){return Fs(t)}class bm{constructor(e){this.auth=e,this.observer=null,this.addObserver=kE(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p8(t){jc=t}function oy(t){return jc.loadJS(t)}function m8(){return jc.recaptchaEnterpriseScript}function g8(){return jc.gapiScript}function y8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class v8{constructor(){this.enterprise=new w8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const S8="recaptcha-enterprise",ly="NO_RECAPTCHA";class E8{constructor(e){this.type=S8,this.auth=pr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{XC(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new JC(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;xm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(ly)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v8().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&xm(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=m8();c.length!==0&&(c+=l),oy(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function jm(t,e,n,r=!1,s=!1){const i=new E8(t);let o;if(s)o=ly;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Zl(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jm(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await jm(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t,e){const n=U2(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Di(i,e??{}))return s;on(s,"already-initialized")}return n.initialize({options:e})}function x8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _8(t,e,n){const r=pr(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cy(e),{host:o,port:l}=N8(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},p=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Di(u,r.config.emulator)&&Di(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bc(o)?(dE(`${i}//${o}${c}`),pE("Auth",!0)):k8()}function cy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N8(t){const e=cy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Tm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Tm(o)}}}function Tm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function I8(t,e){return fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e){return wo(t,"POST","/v1/accounts:signInWithPassword",hr(t,e))}async function j8(t,e){return fr(t,"POST","/v1/accounts:sendOobCode",hr(t,e))}async function T8(t,e){return j8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e){return wo(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}async function A8(t,e){return wo(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends mf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ja(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ja(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zl(e,n,"signInWithPassword",b8);case"emailLink":return P8(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zl(e,r,"signUpPassword",I8);case"emailLink":return A8(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hi(t,e){return wo(t,"POST","/v1/accounts:signInWithIdp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="http://localhost";class Os extends mf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Os(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hi(e,n)}buildRequest(){const e={requestUri:R8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=go(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L8(t){const e=la(ca(t)).link,n=e?la(ca(e)).deep_link_id:null,r=la(ca(t)).deep_link_id;return(r?la(ca(r)).link:null)||r||n||e||t}class gf{constructor(e){const n=la(ca(e)),r=n.apiKey??null,s=n.oobCode??null,i=O8(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=L8(e);try{return new gf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.providerId=Hi.PROVIDER_ID}static credential(e,n){return Ja._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gf.parseLink(n);return oe(r,"argument-error"),Ja._fromEmailAndCode(e,r.code,r.tenantId)}}Hi.PROVIDER_ID="password";Hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends yf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends So{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gn.credential(n,r)}catch{return null}}}Gn.GOOGLE_SIGN_IN_METHOD="google.com";Gn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends So{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends So{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t,e){return wo(t,"POST","/v1/accounts:signUp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await En._fromIdTokenResponse(e,r,s),o=Pm(r);return new Ls({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Pm(r);return new Ls({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Pm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends ss{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ec(e,n,r,s)}}function uy(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ec._fromErrorAndOperation(t,i,e,r):i})}async function D8(t,e,n=!1){const r=await Ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ls._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject(nr(r));const s="reauthenticate";try{const i=await Ya(t,uy(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=ff(i.idToken);oe(o,r,"internal-error");const{sub:l}=o;return oe(t.uid===l,r,"user-mismatch"),Ls._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&on(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(t,e,n=!1){if(en(t.app))return Promise.reject(nr(t));const r="signIn",s=await uy(t,r,e),i=await Ls._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function F8(t,e){return dy(pr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(t){const e=pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $8(t,e,n){const r=pr(t);await Zl(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",T8)}async function U8(t,e,n){if(en(t.app))return Promise.reject(nr(t));const r=pr(t),o=await Zl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M8).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&hy(t),c}),l=await Ls._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function B8(t,e,n){return en(t.app)?Promise.reject(nr(t)):F8(Fs(t),Hi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hy(t),r})}function H8(t,e,n,r){return Fs(t).onIdTokenChanged(e,n,r)}function V8(t,e,n){return Fs(t).beforeAuthStateChanged(e,n)}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=1e3,K8=10;class py extends fy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);l8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}py.type="LOCAL";const q8=py;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends fy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}my.type="SESSION";const gy=my;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await Q8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=vf("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(d.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function Y8(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function J8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Z8(){return yy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="firebaseLocalStorageDb",ex=1,nc="firebaseLocalStorage",wy="fbase_key";class Eo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pc(t,e){return t.transaction([nc],e?"readwrite":"readonly").objectStore(nc)}function tx(){const t=indexedDB.deleteDatabase(vy);return new Eo(t).toPromise()}function Qd(){const t=indexedDB.open(vy,ex);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nc,{keyPath:wy})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nc)?e(r):(r.close(),await tx(),e(await Qd()))})})}async function Am(t,e,n){const r=Pc(t,!0).put({[wy]:e,value:n});return new Eo(r).toPromise()}async function nx(t,e){const n=Pc(t,!1).get(e),r=await new Eo(n).toPromise();return r===void 0?null:r.value}function Rm(t,e){const n=Pc(t,!0).delete(e);return new Eo(n).toPromise()}const rx=800,sx=3;class Sy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tc._getInstance(Z8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await J8(),!this.activeServiceWorker)return;this.sender=new G8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await Am(e,tc,"1"),await Rm(e,tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Am(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Pc(s,!1).getAll();return new Eo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sy.type="LOCAL";const ix=Sy;new vo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e){return e?Zn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends mf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ax(t){return dy(t.auth,new wf(t),t.bypassAuthState)}function ox(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),z8(n,new wf(t),t.bypassAuthState)}async function lx(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),D8(n,new wf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ax;case"linkViaPopup":case"linkViaRedirect":return lx;case"reauthViaPopup":case"reauthViaRedirect":return ox;default:on(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new vo(2e3,1e4);async function ux(t,e,n){if(en(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));const r=pr(t);BC(t,e,yf);const s=Ey(r,n);return new fs(r,"signInViaPopup",e,s).executeNotNull()}class fs extends Cy{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cx.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="pendingRedirect",fl=new Map;class hx extends Cy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fl.get(this.auth._key());if(!e){try{const r=await fx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fl.set(this.auth._key(),e)}return this.bypassAuthState||fl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fx(t,e){const n=gx(e),r=mx(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function px(t,e){fl.set(t._key(),e)}function mx(t){return Zn(t._redirectPersistence)}function gx(t){return hl(dx,t.config.apiKey,t.name)}async function yx(t,e,n=!1){if(en(t.app))return Promise.reject(nr(t));const r=pr(t),s=Ey(r,e),o=await new hx(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=10*60*1e3;class wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xy(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Om(e))}saveEventToCache(e){this.cachedEventUids.add(Om(e)),this.lastProcessedEventTime=Date.now()}}function Om(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Sx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e={}){return fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xx=/^https?/;async function _x(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ex(t);for(const n of e)try{if(Nx(n))return}catch{}on(t,"unauthorized-domain")}function Nx(t){const e=Kd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xx.test(n))return!1;if(Cx.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new vo(3e4,6e4);function Lm(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ix(t){return new Promise((e,n)=>{var s,i,o;function r(){Lm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lm(),n(_n(t,"network-request-failed"))},timeout:kx.get()})}if((i=(s=Dn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Dn().gapi)!=null&&o.load)r();else{const l=y8("iframefcb");return Dn()[l]=()=>{gapi.load?r():n(_n(t,"network-request-failed"))},oy(`${g8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw pl=null,e})}let pl=null;function bx(t){return pl=pl||Ix(t),pl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new vo(5e3,15e3),Tx="__/auth/iframe",Px="emulator/auth/iframe",Ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ox(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hf(e,Px):`https://${t.config.authDomain}/${Tx}`,r={apiKey:e.apiKey,appName:t.name,v:yo},s=Rx.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${go(r).slice(1)}`}async function Lx(t){const e=await bx(t),n=Dn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Ox(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ax,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=_n(t,"network-request-failed"),l=Dn().setTimeout(()=>{i(o)},jx.get());function c(){Dn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dx=500,zx=600,Fx="_blank",$x="http://localhost";class Mm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ux(t,e,n,r=Dx,s=zx){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...Mx,width:r.toString(),height:s.toString(),top:i,left:o},u=kt().toLowerCase();n&&(l=ey(u)?Fx:n),X2(u)&&(e=e||$x,c.scrollbars="yes");const p=Object.entries(c).reduce((d,[h,w])=>`${d}${h}=${w},`,"");if(o8(u)&&l!=="_self")return Bx(e||"",l),new Mm(null);const f=window.open(e||"",l,p);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new Mm(f)}function Bx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="__/auth/handler",Vx="emulator/auth/handler",Wx=encodeURIComponent("fac");async function Dm(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yo,eventId:s};if(e instanceof yf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,f]of Object.entries({}))o[p]=f}if(e instanceof So){const p=e.getScopes().filter(f=>f!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),u=c?`#${Wx}=${encodeURIComponent(c)}`:"";return`${Kx(t)}?${go(l).slice(1)}${u}`}function Kx({config:t}){return t.emulator?hf(t,Vx):`https://${t.authDomain}/${Hx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="webStorageSupport";class qx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gy,this._completeRedirectFn=yx,this._overrideRedirectResult=px}async _openPopup(e,n,r,s){var o;cr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Dm(e,n,r,Kd(),s);return Ux(e,i,vf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dm(e,n,r,Kd(),s);return Y8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(cr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lx(e),r=new wx(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nu,{type:Nu},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Nu];i!==void 0&&n(!!i),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_x(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iy()||Z2()||pf()}}const Qx=qx;var zm="@firebase/auth",Fm="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jx(t){Qa(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ay(t)},u=new f8(r,s,i,c);return x8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qa(new zi("auth-internal",e=>{const n=pr(e.getProvider("auth").getImmediate());return(r=>new Gx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(zm,Fm,Yx(t)),ci(zm,Fm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=5*60,Zx=D2("authIdTokenMaxAge")||Xx;let $m=null;const e_=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zx)return;const s=n==null?void 0:n.token;$m!==s&&($m=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function t_(t=IC()){const e=U2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C8(t,{popupRedirectResolver:Qx,persistence:[ix,q8,gy]}),r=D2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=e_(i.toString());V8(n,o,()=>o(n.currentUser)),H8(n,l=>o(l))}}const s=cE("auth");return s&&_8(n,`http://${s}`),n}function n_(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}p8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=_n("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",n_().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jx("Browser");const r_={apiKey:"AIzaSyDbwkcGLiA1Qzv0b2kexialt2mLyZ3FwT0",authDomain:"dbx-studio-2424c.firebaseapp.com",projectId:"dbx-studio-2424c",storageBucket:"dbx-studio-2424c.firebasestorage.app",messagingSenderId:"465011398083",appId:"1:465011398083:web:0827b0b98375f8315"},s_=B2(r_),Ac=t_(s_),Rc=new Gn;Rc.addScope("email");Rc.addScope("profile");Rc.setCustomParameters({prompt:"select_account"});async function i_(t,e){try{const r=(await B8(Ac,t,e)).user,s=await r.getIdToken();return{success:!0,user:{uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL},token:s,refreshToken:r.refreshToken}}catch(n){return{success:!1,error:Oc(n.code)}}}async function a_(t,e){try{const r=(await U8(Ac,t,e)).user,s=await r.getIdToken();return{success:!0,user:{uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL},token:s,refreshToken:r.refreshToken}}catch(n){return{success:!1,error:Oc(n.code)}}}async function o_(){try{const e=(await ux(Ac,Rc)).user,n=await e.getIdToken();return{success:!0,user:{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},token:n,refreshToken:e.refreshToken}}catch(t){return{success:!1,error:Oc(t.code)}}}async function l_(t){try{return await $8(Ac,t),{success:!0}}catch(e){return{success:!1,error:Oc(e.code)}}}function Oc(t){return{"auth/invalid-email":"Invalid email address format.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password.","auth/email-already-in-use":"An account with this email already exists.","auth/weak-password":"Password should be at least 6 characters.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/popup-closed-by-user":"Sign-in popup was closed before completing.","auth/cancelled-popup-request":"Sign-in was cancelled.","auth/popup-blocked":"Sign-in popup was blocked by the browser.","auth/network-request-failed":"Network error. Please check your connection.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/invalid-credential":"Invalid email or password."}[t]||"An error occurred during authentication."}const c_="https://fp9waphqm5.us-east-1.awsapprunner.com/api/v1";function u_({onSuccess:t}){const{login:e}=of(),[n,r]=m.useState(!1),[s,i]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(null),[p,f]=m.useState(null),[d,h]=m.useState(!0),[w,S]=m.useState(""),[k,y]=m.useState(""),[g,v]=m.useState(""),[C,I]=m.useState("login"),[j,_]=m.useState("options"),[P,z]=m.useState("Authenticating...");m.useEffect(()=>{if(c){const J=setTimeout(()=>u(null),1e4);return()=>clearTimeout(J)}},[c]);const b=m.useCallback(()=>h(J=>!J),[]),A=m.useCallback(()=>{I(J=>J==="login"?"signup":"login"),u(null),y(""),v("")},[]),R=m.useCallback(()=>l(J=>!J),[]),x=m.useCallback(()=>{_("emailForm"),u(null)},[]),q=m.useCallback(()=>{_("forgotPassword"),u(null),f(null),S("")},[]),$=m.useCallback(()=>{_("options"),u(null),f(null),S(""),y(""),v("")},[]),Y=m.useCallback(async(J,fe,ee,Fe)=>{var Ne,ce,je,me,vt,ve,wt,xe;z("Verifying credentials...");try{const Ze=Fe?"/auth/signup":"/auth/login",ht=((ee==null?void 0:ee.displayName)||"").split(" "),cn=ht[0]||((Ne=ee==null?void 0:ee.email)==null?void 0:Ne.split("@")[0])||"User",jt=ht.slice(1).join(" ")||"",Le=await fetch(`${c_}${Ze}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({firebase_token:J,firebase_user_id:ee==null?void 0:ee.uid,email:ee==null?void 0:ee.email,firebase_uid:ee==null?void 0:ee.uid,first_name:cn,last_name:jt})});if(!Le.ok){const Ke=await Le.json().catch(()=>({}));throw new Error(Ke.detail||Ke.message||"Authentication failed")}const ge=await Le.json(),$e={user_id:String(((ce=ge.user)==null?void 0:ce.user_id)||(ee==null?void 0:ee.uid)||""),firebase_user_id:(ee==null?void 0:ee.uid)||"",email:((je=ge.user)==null?void 0:je.email)||(ee==null?void 0:ee.email)||"",first_name:((me=ge.user)==null?void 0:me.first_name)||((vt=ee==null?void 0:ee.displayName)==null?void 0:vt.split(" ")[0])||"",last_name:((ve=ge.user)==null?void 0:ve.last_name)||((wt=ee==null?void 0:ee.displayName)==null?void 0:wt.split(" ").slice(1).join(" "))||"",profile_pic_url:(xe=ge.user)==null?void 0:xe.profile_pic_url};s2(ge.token||J,$e,fe),e(ge.token||J,$e,fe||void 0),r(!1),i(!0),setTimeout(()=>{t==null||t()},1500)}catch(Ze){r(!1),u(Ze instanceof Error?Ze.message:"Authentication failed. Please try again.")}},[e,t]),F=m.useCallback(async J=>{if(J.preventDefault(),!d){u("Please accept the Terms of Service and Privacy Policy to continue.");return}if(!w||!w.includes("@")){u("Please enter a valid email address.");return}if(!k||k.length<6){u("Password must be at least 6 characters.");return}if(C==="signup"&&k!==g){u("Passwords do not match.");return}r(!0),u(null),z(C==="login"?"Signing in...":"Creating account...");try{let fe;if(C==="login"?fe=await i_(w,k):fe=await a_(w,k),!fe.success)throw new Error(fe.error||"Authentication failed");await Y(fe.token,fe.refreshToken||null,fe.user,C==="signup")}catch(fe){r(!1),u(fe instanceof Error?fe.message:"Authentication failed. Please try again.")}},[w,k,g,C,d,Y]),L=m.useCallback(async()=>{if(!d){u("Please accept the Terms of Service and Privacy Policy to continue.");return}r(!0),u(null),z("Signing in with Google...");try{const J=await o_();if(!J.success)throw new Error(J.error||"Google sign-in failed");await Y(J.token,J.refreshToken||null,J.user,!1)}catch(J){r(!1),u(J instanceof Error?J.message:"Google sign-in failed. Please try again.")}},[d,Y]),M=m.useCallback(async()=>{if(!w||!w.includes("@")){u("Please enter your email address first.");return}try{const J=await l_(w);J.success?f(`Password reset email sent to ${w}. Please check your inbox.`):u(J.error||"Failed to send password reset email.")}catch{u("Failed to send password reset email. Please try again.")}},[w]),W=()=>a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"login-description",children:["Sign in to access your database connections",a.jsx("br",{}),"and manage your workspace."]}),a.jsxs("div",{className:"auth-buttons",children:[a.jsxs("button",{className:"google-button",onClick:L,disabled:n,children:[a.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),a.jsxs("button",{className:"email-button",onClick:x,disabled:n,children:[a.jsx(vu,{className:"email-icon"}),"Sign in with Email"]})]}),a.jsxs("div",{className:"terms-container",children:[a.jsx("input",{type:"checkbox",id:"terms",className:"terms-checkbox",checked:d,onChange:b}),a.jsxs("label",{htmlFor:"terms",className:"terms-text",children:["I agree to the ",a.jsx("a",{href:"https://www.dbxstudio.com/terms",target:"_blank",rel:"noopener noreferrer",className:"terms-link",children:"Terms of Service"})," and ",a.jsx("a",{href:"https://www.dbxstudio.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"terms-link",children:"Privacy Policy"})]})]}),c&&a.jsx("div",{className:"login-error-message",children:c})]}),Q=()=>{const J=C==="login";return a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"login-description",children:J?"Sign in to your account to continue.":"Create a new account to get started."}),a.jsxs("button",{className:"login-back-button",onClick:$,children:[a.jsx(yu,{}),a.jsx("span",{children:"Back"})]}),a.jsxs("form",{className:"auth-form",onSubmit:F,children:[a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"email",className:"auth-input",placeholder:"Email address",value:w,onChange:fe=>S(fe.target.value),disabled:n,autoComplete:"email"}),a.jsx(vu,{className:"input-icon"})]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:o?"text":"password",className:"auth-input password-input",placeholder:"Password",value:k,onChange:fe=>y(fe.target.value),disabled:n,autoComplete:J?"current-password":"new-password"}),a.jsx("button",{type:"button",className:"password-toggle",onClick:R,children:o?a.jsx(X5,{}):a.jsx(Z5,{})})]}),!J&&a.jsx("div",{className:"input-group",children:a.jsx("input",{type:o?"text":"password",className:"auth-input password-input",placeholder:"Confirm password",value:g,onChange:fe=>v(fe.target.value),disabled:n,autoComplete:"new-password"})}),a.jsx("button",{type:"submit",className:"submit-button",disabled:n,children:J?"Sign In":"Create Account"})]}),J&&a.jsx("div",{className:"forgot-password-link-container",children:a.jsx("button",{className:"forgot-password-link",onClick:q,children:"Forgot Password?"})}),a.jsxs("div",{className:"mode-toggle",children:[a.jsx("span",{className:"mode-text",children:J?"Don't have an account? ":"Already have an account? "}),a.jsx("button",{type:"button",className:"mode-link",onClick:A,children:J?"Sign Up":"Sign In"})]}),a.jsxs("div",{className:"terms-container",children:[a.jsx("input",{type:"checkbox",id:"terms-form",className:"terms-checkbox",checked:d,onChange:b}),a.jsxs("label",{htmlFor:"terms-form",className:"terms-text",children:["I agree to the ",a.jsx("a",{href:"https://www.dbxstudio.com/terms",target:"_blank",rel:"noopener noreferrer",className:"terms-link",children:"Terms of Service"})," and ",a.jsx("a",{href:"https://www.dbxstudio.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"terms-link",children:"Privacy Policy"})]})]}),c&&a.jsx("div",{className:"login-error-message",children:c}),p&&a.jsx("div",{className:"login-success-message",children:p})]})},H=()=>a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"login-description",children:"Enter your email address and we'll send you a link to reset your password."}),a.jsxs("button",{className:"login-back-button",onClick:$,children:[a.jsx(yu,{}),a.jsx("span",{children:"Back"})]}),a.jsxs("form",{className:"auth-form",onSubmit:J=>{J.preventDefault(),M()},children:[a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"email",className:"auth-input",placeholder:"Email address",value:w,onChange:J=>S(J.target.value),autoComplete:"email",autoFocus:!0}),a.jsx(vu,{className:"input-icon"})]}),a.jsx("button",{type:"submit",className:"submit-button",children:"Send Reset Link"})]}),c&&a.jsx("div",{className:"login-error-message",children:c}),p&&a.jsx("div",{className:"login-success-message",children:p})]}),ie=()=>a.jsxs(a.Fragment,{children:[a.jsx("img",{src:"/assets/dbx-logo-white.png",alt:"DBX Studio Logo",className:"login-logo"}),a.jsx("h1",{className:"login-title",children:"Authenticating"}),a.jsxs("button",{className:"login-back-button",onClick:()=>{r(!1),u(null),_("options")},children:[a.jsx(yu,{}),a.jsx("span",{children:"Cancel"})]}),a.jsxs("div",{className:"auth-loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsxs("div",{className:"loading-message",children:[a.jsx("p",{className:"loading-title",children:P}),a.jsx("p",{className:"loading-subtitle",children:"Please wait while we verify your credentials..."})]})]})]}),ae=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"success-icon",children:""}),a.jsx("h1",{className:"login-title",children:"Login Successful!"}),a.jsx("p",{className:"login-description",children:"Welcome back! Redirecting you to your workspace..."})]});return a.jsx("div",{className:"login-container dark",children:a.jsx("div",{className:"login-card",children:a.jsx("div",{className:"login-content",children:s?ae():n?ie():a.jsxs(a.Fragment,{children:[a.jsx("img",{src:"/assets/dbx-logo-white.png",alt:"DBX Studio Logo",className:"login-logo"}),a.jsx("h1",{className:"login-title",children:j==="forgotPassword"?"Reset Password":"Welcome to DBX"}),j==="options"&&W(),j==="emailForm"&&Q(),j==="forgotPassword"&&H()]})})})})}const $s={ACTIVE_TAB:"dbx_active_tab",OPEN_TABS:"dbx_open_tabs",QUERY_EDITOR_CONTENT:"dbx_query_editor_content"};function Sf(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error(`Error reading from cache (${t}):`,e),null}}function Ef(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`Error writing to cache (${t}):`,n)}}function d_(t){try{localStorage.removeItem(t)}catch(e){console.error(`Error removing from cache (${t}):`,e)}}function h_(){return Sf($s.ACTIVE_TAB)}function Um(t){Ef($s.ACTIVE_TAB,t)}function f_(){return Sf($s.OPEN_TABS)||[]}function Bm(t){Ef($s.OPEN_TABS,t)}function p_(t){const e=`${$s.QUERY_EDITOR_CONTENT}_${t}`;return Sf(e)}function m_(t,e){const n=`${$s.QUERY_EDITOR_CONTENT}_${t}`;Ef(n,e)}function g_(t){const e=`${$s.QUERY_EDITOR_CONTENT}_${t}`;d_(e)}const y_=new Ng({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function v_(){return a.jsx(Ig,{client:y_,children:a.jsxs(eE,{children:[a.jsx(Tg,{theme:"dark",position:"bottom-right"}),a.jsx(w_,{})]})})}function w_(){const{isAuthenticated:t,isLoading:e,logout:n}=of();return e?a.jsx("div",{className:"query-main-container",style:{alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{color:"#fff",fontSize:"18px"},children:"Loading..."})}):t?a.jsx(S_,{}):a.jsx(u_,{onSuccess:()=>window.location.reload()})}function S_(){var O,se,Me,Gt,Se,pe;const{user:t,logout:e}=of(),n=dr(),[r,s]=m.useState("collections"),[i,o]=m.useState(!0),[l,c]=m.useState(!1),[u,p]=m.useState(!1),[f,d]=m.useState(null),[h,w]=m.useState(()=>{const N=f_();return N&&N.length>0?N:[{id:"worksheet-1",type:"worksheet",title:"Worksheet 1",sql:`-- Write your SQL query here
SELECT * FROM `}]}),[S,k]=m.useState(()=>{const N=h_();return N&&h.some(U=>U.id===N)?N:"worksheet-1"}),[y,g]=m.useState(!1),[v,C]=m.useState([]),[I,j]=m.useState([]),[_,P]=m.useState(null),[z,b]=m.useState(void 0),{data:A}=tS(t==null?void 0:t.user_id),R=(A==null?void 0:A.connections)||[];m.useEffect(()=>{if(t!=null&&t.user_id){const N={id:"worksheet-1",type:"worksheet",title:"Worksheet 1",sql:`-- Write your SQL query here
SELECT * FROM `};w([N]),k("worksheet-1"),Bm([N]),Um("worksheet-1"),["dbx_schema_tree_expanded","dbx_schema_tree_expanded_schemas","dbx_schema_tree_expanded_tableSections","dbx_schema_tree_expanded_tables","dbx_schema_tree_expanded_columnSections"].forEach(T=>{Object.keys(localStorage).forEach(X=>{X.startsWith(T)&&localStorage.removeItem(X)})})}},[t==null?void 0:t.user_id]);const x=h.find(N=>N.id===S),q=(x==null?void 0:x.connectionId)||((O=R[0])==null?void 0:O.id),$=R.find(N=>N.id===q),{data:Y}=m2(q);m.useEffect(()=>{(x==null?void 0:x.type)==="worksheet"&&!x.connectionId&&R.length>0&&w(N=>N.map(U=>U.id===x.id?{...U,connectionId:R[0].id}:U))},[x==null?void 0:x.id,x==null?void 0:x.type,x==null?void 0:x.connectionId,R]),m.useEffect(()=>{var N,U;if((x==null?void 0:x.type)==="worksheet"&&!x.schema&&Y&&Y.length>0){const T=((N=Y.find(X=>X.name==="public"))==null?void 0:N.name)||((U=Y[0])==null?void 0:U.name);T&&w(X=>X.map(ne=>ne.id===x.id?{...ne,schema:T}:ne))}},[x==null?void 0:x.id,x==null?void 0:x.type,x==null?void 0:x.schema,Y]);const{data:F}=d2(q||"",(x==null?void 0:x.schema)||"public"),L=m.useMemo(()=>F?F.map(N=>({name:N.name,columns:[]})):[],[F]),{data:M,error:W}=h2((x==null?void 0:x.type)==="table"&&x.connectionId||"",(x==null?void 0:x.tableName)||"",(x==null?void 0:x.schema)||"public"),Q=m.useMemo(()=>{if((x==null?void 0:x.type)==="table"&&x.filterColumn&&x.filterValue!==void 0)return[{column:x.filterColumn,operator:"=",values:[x.filterValue]}]},[x==null?void 0:x.type,x==null?void 0:x.filterColumn,x==null?void 0:x.filterValue]),{data:H,fetchNextPage:ie,hasNextPage:ae,isFetchingNextPage:J,isLoading:fe,refetch:ee,error:Fe}=sS((x==null?void 0:x.type)==="table"&&x.connectionId||"",(x==null?void 0:x.tableName)||"",(x==null?void 0:x.schema)||"public",{pageSize:50,filters:Q}),Ne=((se=H==null?void 0:H.pages)==null?void 0:se.flatMap(N=>N.rows))||[],ce=((Gt=(Me=H==null?void 0:H.pages)==null?void 0:Me[0])==null?void 0:Gt.total)||0,je=m.useMemo(()=>W?W instanceof Error?W.message:"Failed to load table columns":Fe?Fe instanceof Error?Fe.message:"Failed to load table data":null,[W,Fe]),me=m.useMemo(()=>R.map(N=>({id:N.id,name:N.name||N.host||"Connection",type:N.type})),[R]),vt=m.useMemo(()=>R.map(N=>({id:N.id,name:N.name||N.host||"Connection",type:N.type,isActive:N.isActive})),[R]);m.useEffect(()=>{Bm(h)},[h]),m.useEffect(()=>{Um(S)},[S]),m.useEffect(()=>{if((x==null?void 0:x.type)==="worksheet"&&x.id){const N=p_(x.id);N&&N!==x.sql&&w(U=>U.map(T=>T.id===x.id?{...T,sql:N}:T))}},[x==null?void 0:x.id]);const ve=m.useCallback(N=>{s(N)},[]),wt=m.useCallback(()=>{n.invalidateQueries({queryKey:["connections"]})},[n]),{mutateAsync:xe}=nS(),Ze=m.useCallback(N=>{const U=R.find(T=>T.id===N.id);d(U||N),p(!0)},[R]),ln=m.useCallback(async N=>{try{await xe(N),Qe.success("Connection deleted successfully"),n.invalidateQueries({queryKey:["connections"]})}catch(U){const T=U instanceof Error?U.message:"Failed to delete connection";Qe.error(T)}},[xe,n]),ht=m.useCallback(N=>{console.log("Connection save success, refreshing schemas for:",N),n.resetQueries({queryKey:["schemas",N]}),n.resetQueries({queryKey:["tables"]}),n.invalidateQueries({queryKey:["schemas"],exact:!1}),n.invalidateQueries({queryKey:["tables"],exact:!1}),n.invalidateQueries({queryKey:["connections"]})},[n]),cn=m.useCallback((N,U,T)=>{const X=`table-${N}-${U}-${T}`;if(h.find(Ie=>Ie.id===X)){k(X);return}const Ae={id:X,type:"table",title:T,connectionId:N,schema:U,tableName:T};w(Ie=>[...Ie,Ae]),k(X)},[h]),jt=m.useCallback((N,U,T,X)=>{if(!x||x.type!=="table")return;const ne={schema:x.schema||"public",tableName:x.tableName||"",title:x.title,filterColumn:x.filterColumn,filterValue:x.filterValue};w(Ae=>Ae.map(Ie=>Ie.id===x.id?{...Ie,schema:U,tableName:N,title:`${N} (${T}=${String(X)})`,filterColumn:T,filterValue:X,history:[...Ie.history||[],ne]}:Ie))},[x]),Le=m.useCallback(()=>{var T;if(!x||x.type!=="table"||!((T=x.history)!=null&&T.length))return;const N=[...x.history],U=N.pop();U&&w(X=>X.map(ne=>ne.id===x.id?{...ne,schema:U.schema,tableName:U.tableName,title:U.title,filterColumn:U.filterColumn,filterValue:U.filterValue,history:N}:ne))},[x]),ge=m.useCallback(N=>{g_(N),w(U=>{const T=U.filter(X=>X.id!==N);return S===N&&T.length>0&&k(T[T.length-1].id),T})},[S]),$e=m.useCallback(()=>{var X;const N=`worksheet-${Date.now()}`,U=h.filter(ne=>ne.type==="worksheet").length+1,T={id:N,type:"worksheet",title:`Worksheet ${U}`,connectionId:(X=R[0])==null?void 0:X.id,sql:`-- Write your SQL query here
SELECT * FROM `};w(ne=>[...ne,T]),k(N)},[h,R]),Ke=m.useCallback(N=>{w(U=>U.map(T=>T.id===S?{...T,sql:N}:T)),S&&m_(S,N)},[S]),Ue=m.useCallback(N=>{w(U=>U.map(T=>T.id===S?{...T,connectionId:N,schema:void 0}:T))},[S]);m.useCallback(N=>{w(U=>U.map(T=>T.id===S?{...T,databaseId:N}:T))},[S]);const Tt=m.useCallback(N=>{w(U=>U.map(T=>T.id===S?{...T,schema:N}:T))},[S]),{mutateAsync:un}=oS(),{mutateAsync:kn}=iS(),{mutateAsync:dn}=aS(),is=m.useCallback(async(N,U,T)=>{if(!x||x.type!=="table")return;const X=Ne[N];if(!X)throw new Error("Row not found");const ne=(M==null?void 0:M.filter(Ee=>Ee.isPrimaryKey))||[];if(ne.length===0)throw new Error("Cannot update: No primary key found");const Ae={};ne.forEach(Ee=>{Ae[Ee.name]=X[Ee.name]});const Ie=M==null?void 0:M.find(Ee=>Ee.name===U);let De=T;if(Ie!=null&&Ie.type){const Ee=Ie.type.toLowerCase();if(T==null||T===""&&Ie.nullable)De=null;else if(Ee.includes("int")||Ee.includes("serial")||Ee.includes("bigint")||Ee.includes("smallint"))De=T===""?null:parseInt(String(T),10);else if(Ee.includes("numeric")||Ee.includes("decimal")||Ee.includes("float")||Ee.includes("double")||Ee.includes("real"))De=T===""?null:parseFloat(String(T));else if(Ee.includes("bool"))if(typeof T=="boolean")De=T;else{const Je=String(T).toLowerCase();De=Je==="true"||Je==="1"||Je==="t"||Je==="yes"}else if(Ee.includes("date")||Ee.includes("time"))De=T===""?null:String(T);else if(Ee.includes("json"))if(typeof T=="string")try{De=JSON.parse(T)}catch{De=T}else De=T;else De=String(T)}try{await kn({connectionId:x.connectionId||"",tableName:x.tableName||"",schema:x.schema||"public",primaryKey:Ae,data:{[U]:De}}),await ee()}catch(Ee){const Je=Ee instanceof Error?Ee.message:"Failed to update row";throw new Error(Je)}},[x,Ne,M,kn,ee]),Fn=m.useCallback(async N=>{if(!x||x.type!=="table")return;const U=(M==null?void 0:M.filter(T=>T.isPrimaryKey))||[];if(U.length===0){Qe.error("Cannot delete: No primary key found");return}try{for(const T of N){const X={};U.forEach(ne=>{X[ne.name]=T[ne.name]}),await dn({connectionId:x.connectionId||"",tableName:x.tableName||"",schema:x.schema||"public",primaryKey:X})}await ee(),Qe.success(`${N.length} row(s) deleted successfully`)}catch(T){const X=T instanceof Error?T.message:"Failed to delete rows";Qe.error(X),console.error("Delete rows error:",T)}},[x,M,dn,ee]),$n=m.useCallback(async()=>{if(!q){Qe.error("Please select a connection first");return}if(!(x!=null&&x.sql)||!x.sql.trim()){Qe.error("Please enter a SQL query");return}g(!0),P(null);try{const N=await un({connectionId:q,sql:x.sql,saveToHistory:!0}),U=N.rows;if(U.length>0){const T=Object.keys(U[0]).map(ne=>({name:ne,type:typeof U[0][ne]}));j(T);const X=U.map(ne=>Object.values(ne));C(X)}else j([]),C([]);b(N.duration),Qe.success(`Query executed successfully (${N.rowCount} rows in ${N.duration}ms)`)}catch(N){const U=N instanceof Error?N.message:"Query execution failed";P(U),C([]),j([])}finally{g(!1)}},[q,x==null?void 0:x.sql,un]),Qt=m.useCallback(async N=>{if(!q){Qe.error("Please select a connection first");return}if(!N||!N.trim()){Qe.error("Please enter a SQL query");return}Ke(N),g(!0),P(null);try{const U=await un({connectionId:q,sql:N,saveToHistory:!0}),T=U.rows;if(T.length>0){const X=Object.keys(T[0]).map(Ae=>({name:Ae,type:typeof T[0][Ae]}));j(X);const ne=T.map(Ae=>Object.values(Ae));C(ne)}else j([]),C([]);b(U.duration),Qe.success(`Query executed successfully (${U.rowCount} rows in ${U.duration}ms)`)}catch(U){const T=U instanceof Error?U.message:"Query execution failed";P(T),C([]),j([])}finally{g(!1)}},[q,Ke,un]),Un=m.useCallback(N=>{h.find(T=>T.id===N&&T.type==="worksheet")&&k(N)},[h]),Pt=m.useMemo(()=>h.filter(N=>N.type==="worksheet").map(N=>({id:N.id,title:N.title})),[h]);return a.jsxs("div",{className:"query-main-container",children:[a.jsxs("div",{className:"query-main-body",children:[a.jsx(N3,{currentView:r,setView:ve,isAIChatOpen:l,onToggleAIChat:()=>c(N=>!N),isSchemaTreeVisible:i,onToggleSchemaTree:()=>o(N=>!N),userInfo:t,onLogout:e}),a.jsx("div",{className:"query-main-content",children:r==="settings-page"?a.jsx(J5,{}):a.jsxs("div",{className:"query-workspace",children:[i&&a.jsx("div",{className:"query-left",children:a.jsx(y2,{connections:vt,onTableSelect:cn,onClose:()=>o(!1),onRefresh:wt,onAddConnection:()=>{d(null),p(!0)},onEditConnection:Ze,onDeleteConnection:ln})}),a.jsxs("div",{className:"query-center",children:[a.jsxs("div",{className:"workspace-tabs",children:[h.map(N=>a.jsxs("div",{className:`workspace-tab ${S===N.id?"active":""}`,onClick:()=>k(N.id),children:[a.jsx("span",{className:"tab-title",children:N.title}),a.jsx("button",{className:"tab-close",onClick:U=>{U.stopPropagation(),ge(N.id)},children:""})]},N.id)),a.jsx("button",{className:"add-tab-btn",onClick:$e,children:"+"})]}),a.jsx("div",{className:"workspace-content",children:(x==null?void 0:x.type)==="worksheet"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"editor-section",children:a.jsx(k5,{value:x.sql||"",onChange:Ke,onRun:$n,isRunning:y,connections:me,selectedConnectionId:x.connectionId,onSelectConnection:Ue,schemas:Y||[],selectedSchema:x.schema,onSelectSchema:Tt,tables:L})}),a.jsx("div",{className:"results-section",children:a.jsx(O5,{columns:I,rows:v,loading:y,error:_,executionTime:z})})]}):(x==null?void 0:x.type)==="table"?a.jsx("div",{className:"table-data-section",children:a.jsx(k2,{columns:(M==null?void 0:M.map(N=>({id:N.name,name:N.name,type:N.type,isPrimaryKey:N.isPrimaryKey,isNullable:N.nullable,isForeignKey:N.isForeignKey,foreignSchema:N.foreignSchema,foreignTable:N.foreignTable,foreignColumn:N.foreignColumn,defaultValue:N.defaultValue})))||[],data:Ne,tableName:x.tableName,schema:x.schema,loading:!M||fe,error:je,readOnly:!1,hasMore:ae,isFetchingMore:J,totalCount:ce,onLoadMore:()=>{!J&&ae&&ie()},onRefresh:()=>{ee()},onCellEdit:is,onRowDelete:Fn,onForeignKeyNavigate:jt,canNavigateBack:!!((Se=x.history)!=null&&Se.length),onNavigateBack:Le,onSaveSuccess:N=>{Qe.success(`Successfully saved ${N} change${N>1?"s":""}`)},onSaveError:N=>{Qe.error(N.message||"Failed to save changes")}})}):null})]}),l&&a.jsx("div",{className:"query-right",children:a.jsx(G5,{isOpen:l,onClose:()=>c(!1),connectionId:q,externalConnectionId:$==null?void 0:$.externalConnectionId,schema:x==null?void 0:x.schema,tables:F==null?void 0:F.map(N=>N.name),tableDetails:(x==null?void 0:x.type)==="table"&&x.tableName?{tableName:x.tableName,schema:x.schema,columns:M==null?void 0:M.map(N=>({name:N.name,type:N.type,nullable:N.nullable,isPrimaryKey:N.isPrimaryKey})),sampleRows:Ne.slice(0,3)}:void 0,worksheets:Pt,activeWorksheetId:(x==null?void 0:x.type)==="worksheet"?x.id:(pe=Pt[0])==null?void 0:pe.id,onSelectWorksheet:Un,onRunQuery:Qt})})]})})]}),a.jsx(gS,{isOpen:u,onClose:()=>{p(!1),d(null)},onSaveSuccess:ht,userId:t==null?void 0:t.user_id,isEditing:!!f,existingConnection:f})]})}const E_=new Ng({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}});fg(document.getElementById("root")).render(a.jsx(m.StrictMode,{children:a.jsxs(Ig,{client:E_,children:[a.jsx(v_,{}),a.jsx(Tg,{position:"bottom-right",theme:"dark",richColors:!0,closeButton:!0})]})}));
//# sourceMappingURL=index-9o2CABaW.js.map
